System.register("chunks:///internal.js",["./rollupPluginModLoBabelHelpers-aca8ecc7.js","cc"],(function(){var e,t,a,i,o,n,r,s,l,d,h,p,c,u,g,m,b,f,S,_,w,P,M,y,v,T,R,E,C;return{setters:[function(r){e=r._,t=r.a,a=r.b,i=r.c,o=r.d,n=r.e},function(e){r=e.cclegacy,s=e.gfx,l=e.ccenum,d=e._decorator,h=e.Camera,p=e.CCBoolean,c=e.CCInteger,u=e.CCFloat,g=e.Material,m=e.Texture2D,b=e.rendering,f=e.Component,S=e.geometry,_=e.renderer,w=e.assert,P=e.Layers,M=e.PipelineEventType,y=e.Vec2,v=e.Vec4,T=e.sys,R=e.pipeline,E=e.Vec3,C=e.clamp}],execute:function(){r._RF.push({},"cbf30kCUX9A3K+QpVC6wnzx","builtin-pipeline-types",void 0);var x=s.SampleCount;function A(){return{enabled:!1,sampleCount:x.X4}}var D,F,L,O,N,G,B,Q,z,H,I,k,W,U,V,j,K,X,Y,q,Z,J,$,ee,te,ae,ie,oe,ne,re,se,le,de,he=function(e){return e[e.KawaseDualFilter=0]="KawaseDualFilter",e[e.MipmapFilter=1]="MipmapFilter",e}({});function pe(){return{enabled:!1,type:he.KawaseDualFilter,material:null,kawaseFilterMaterial:null,mipmapFilterMaterial:null,enableAlphaMask:!1,iterations:3,threshold:.8,intensity:1}}function ce(){return{msaa:A(),enableShadingScale:!1,shadingScale:.5,bloom:pe(),toneMapping:{material:null},colorGrading:{enabled:!1,material:null,contribute:1,colorGradingMap:null},fsr:{enabled:!1,material:null,sharpness:.8},fxaa:{enabled:!1,material:null}}}function ue(e){e.msaa?function(e){void 0===e.enabled&&(e.enabled=!1),void 0===e.sampleCount&&(e.sampleCount=x.X4)}(e.msaa):e.msaa=A(),void 0===e.enableShadingScale&&(e.enableShadingScale=!1),void 0===e.shadingScale&&(e.shadingScale=.5),e.bloom?function(e){void 0===e.enabled&&(e.enabled=!1),void 0===e.type&&(e.type=he.KawaseDualFilter),void 0===e.material&&(e.material=null),void 0===e.kawaseFilterMaterial&&(e.kawaseFilterMaterial=e.material||null),void 0===e.mipmapFilterMaterial&&(e.mipmapFilterMaterial=null),void 0===e.enableAlphaMask&&(e.enableAlphaMask=!1),void 0===e.iterations&&(e.iterations=3),void 0===e.threshold&&(e.threshold=.8),void 0===e.intensity&&(e.intensity=1)}(e.bloom):e.bloom=pe(),e.toneMapping?function(e){void 0===e.material&&(e.material=null)}(e.toneMapping):e.toneMapping={material:null},e.colorGrading?function(e){void 0===e.enabled&&(e.enabled=!1),void 0===e.material&&(e.material=null),void 0===e.contribute&&(e.contribute=1),void 0===e.colorGradingMap&&(e.colorGradingMap=null)}(e.colorGrading):e.colorGrading={enabled:!1,material:null,contribute:1,colorGradingMap:null},e.fsr?function(e){void 0===e.enabled&&(e.enabled=!1),void 0===e.material&&(e.material=null),void 0===e.sharpness&&(e.sharpness=.8)}(e.fsr):e.fsr={enabled:!1,material:null,sharpness:.8},e.fxaa?function(e){void 0===e.enabled&&(e.enabled=!1),void 0===e.material&&(e.material=null)}(e.fxaa):e.fxaa={enabled:!1,material:null}}l(he),r._RF.pop(),r._RF.push({},"de1c2EHcMhAIYRZY5nyTQHG","builtin-pipeline-settings",void 0);var ge=d.ccclass,me=d.disallowMultiple,be=d.executeInEditMode,fe=d.menu,Se=d.property,_e=d.requireComponent,we=d.type;D=ge("BuiltinPipelineSettings"),F=fe("Rendering/BuiltinPipelineSettings"),L=_e(h),O=Se(p),N=Se({displayName:"Editor Preview (Experimental)",type:p}),G=Se({group:{id:"MSAA",name:"Multisample Anti-Aliasing"},type:p}),B=Se({group:{id:"MSAA",name:"Multisample Anti-Aliasing",style:"section"},type:c,range:[2,4,2]}),Q=Se({group:{id:"ShadingScale",name:"ShadingScale",style:"section"},type:p}),z=Se({tooltip:"i18n:postprocess.shadingScale",group:{id:"ShadingScale",name:"ShadingScale"},type:u,range:[.01,4,.01],slide:!0}),H=Se({group:{id:"Bloom",name:"Bloom (PostProcessing)",style:"section"},type:p}),I=we(he),k=Se({group:{id:"Bloom",name:"Bloom (PostProcessing)",style:"section"}}),W=Se({group:{id:"Bloom",name:"Bloom (PostProcessing)",style:"section"},type:g}),U=Se({group:{id:"Bloom",name:"Bloom (PostProcessing)",style:"section"},type:g}),V=Se({tooltip:"i18n:bloom.enableAlphaMask",group:{id:"Bloom",name:"Bloom (PostProcessing)",style:"section"},type:p}),j=Se({tooltip:"i18n:bloom.iterations",group:{id:"Bloom",name:"Bloom (PostProcessing)",style:"section"},type:c,range:[1,6,1],slide:!0}),K=Se({tooltip:"i18n:bloom.threshold",group:{id:"Bloom",name:"Bloom (PostProcessing)",style:"section"},type:u,min:0}),X=we(u),Y=Se({group:{id:"Bloom",name:"Bloom (PostProcessing)",style:"section"}}),q=Se({group:{id:"Color Grading",name:"ColorGrading (LDR) (PostProcessing)",style:"section"},type:p}),Z=Se({group:{id:"Color Grading",name:"ColorGrading (LDR) (PostProcessing)",style:"section"},type:g}),J=Se({tooltip:"i18n:color_grading.contribute",group:{id:"Color Grading",name:"ColorGrading (LDR) (PostProcessing)",style:"section"},type:u,range:[0,1,.01],slide:!0}),$=Se({tooltip:"i18n:color_grading.originalMap",group:{id:"Color Grading",name:"ColorGrading (LDR) (PostProcessing)",style:"section"},type:m}),ee=Se({group:{id:"FXAA",name:"Fast Approximate Anti-Aliasing (PostProcessing)",style:"section"},type:p}),te=Se({group:{id:"FXAA",name:"Fast Approximate Anti-Aliasing (PostProcessing)",style:"section"},type:g}),ae=Se({group:{id:"FSR",name:"FidelityFX Super Resolution",style:"section"},type:p}),ie=Se({group:{id:"FSR",name:"FidelityFX Super Resolution",style:"section"},type:g}),oe=Se({group:{id:"FSR",name:"FidelityFX Super Resolution",style:"section"},type:u,range:[0,1,.01],slide:!0}),ne=Se({group:{id:"ToneMapping",name:"ToneMapping",style:"section"},type:g}),D(re=F(re=L(re=me(re=be((le=e((se=function(e){function n(){for(var t,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,a(t,"_settings",le,i(t)),a(t,"_editorPreview",de,i(t)),t}t(n,e);var r=n.prototype;return r.getPipelineSettings=function(){return this._settings},r.onEnable=function(){ue(this._settings),this.getComponent(h).camera.pipelineSettings=this._settings},r.onDisable=function(){var e=this.getComponent(h).camera;e&&(e.pipelineSettings=null)},r._tryEnableEditorPreview=function(){void 0!==b&&(this._editorPreview?b.setEditorPipelineSettings(this._settings):this._disableEditorPreview())},r._disableEditorPreview=function(){void 0!==b&&(b.getEditorPipelineSettings()===this._settings&&b.setEditorPipelineSettings(null))},o(n,[{key:"editorPreview",get:function(){return this._editorPreview},set:function(e){this._editorPreview=e}},{key:"MsaaEnable",get:function(){return this._settings.msaa.enabled},set:function(e){this._settings.msaa.enabled=e}},{key:"msaaSampleCount",get:function(){return this._settings.msaa.sampleCount},set:function(e){e=Math.pow(2,Math.ceil(Math.log2(Math.max(e,2)))),e=Math.min(e,4),this._settings.msaa.sampleCount=e}},{key:"shadingScaleEnable",get:function(){return this._settings.enableShadingScale},set:function(e){this._settings.enableShadingScale=e}},{key:"shadingScale",get:function(){return this._settings.shadingScale},set:function(e){this._settings.shadingScale=e}},{key:"bloomEnable",get:function(){return this._settings.bloom.enabled},set:function(e){this._settings.bloom.enabled=e}},{key:"bloomType",get:function(){return this._settings.bloom.type},set:function(e){this._settings.bloom.type=e}},{key:"kawaseBloomMaterial",get:function(){return this._settings.bloom.kawaseFilterMaterial},set:function(e){this._settings.bloom.kawaseFilterMaterial!==e&&(this._settings.bloom.kawaseFilterMaterial=e)}},{key:"mipmapBloomMaterial",get:function(){return this._settings.bloom.mipmapFilterMaterial},set:function(e){this._settings.bloom.mipmapFilterMaterial!==e&&(this._settings.bloom.mipmapFilterMaterial=e)}},{key:"bloomEnableAlphaMask",get:function(){return this._settings.bloom.enableAlphaMask},set:function(e){this._settings.bloom.enableAlphaMask=e}},{key:"bloomIterations",get:function(){return this._settings.bloom.iterations},set:function(e){this._settings.bloom.iterations=e}},{key:"bloomThreshold",get:function(){return this._settings.bloom.threshold},set:function(e){this._settings.bloom.threshold=e}},{key:"bloomIntensity",get:function(){return this._settings.bloom.intensity},set:function(e){this._settings.bloom.intensity=e}},{key:"colorGradingEnable",get:function(){return this._settings.colorGrading.enabled},set:function(e){this._settings.colorGrading.enabled=e}},{key:"colorGradingMaterial",get:function(){return this._settings.colorGrading.material},set:function(e){this._settings.colorGrading.material!==e&&(this._settings.colorGrading.material=e)}},{key:"colorGradingContribute",get:function(){return this._settings.colorGrading.contribute},set:function(e){this._settings.colorGrading.contribute=e}},{key:"colorGradingMap",get:function(){return this._settings.colorGrading.colorGradingMap},set:function(e){this._settings.colorGrading.colorGradingMap=e}},{key:"fxaaEnable",get:function(){return this._settings.fxaa.enabled},set:function(e){this._settings.fxaa.enabled=e}},{key:"fxaaMaterial",get:function(){return this._settings.fxaa.material},set:function(e){this._settings.fxaa.material!==e&&(this._settings.fxaa.material=e)}},{key:"fsrEnable",get:function(){return this._settings.fsr.enabled},set:function(e){this._settings.fsr.enabled=e}},{key:"fsrMaterial",get:function(){return this._settings.fsr.material},set:function(e){this._settings.fsr.material!==e&&(this._settings.fsr.material=e)}},{key:"fsrSharpness",get:function(){return this._settings.fsr.sharpness},set:function(e){this._settings.fsr.sharpness=e}},{key:"toneMappingMaterial",get:function(){return this._settings.toneMapping.material},set:function(e){this._settings.toneMapping.material!==e&&(this._settings.toneMapping.material=e)}}]),n}(f)).prototype,"_settings",[Se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ce()}}),de=e(se.prototype,"_editorPreview",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),e(se.prototype,"editorPreview",[N],Object.getOwnPropertyDescriptor(se.prototype,"editorPreview"),se.prototype),e(se.prototype,"MsaaEnable",[G],Object.getOwnPropertyDescriptor(se.prototype,"MsaaEnable"),se.prototype),e(se.prototype,"msaaSampleCount",[B],Object.getOwnPropertyDescriptor(se.prototype,"msaaSampleCount"),se.prototype),e(se.prototype,"shadingScaleEnable",[Q],Object.getOwnPropertyDescriptor(se.prototype,"shadingScaleEnable"),se.prototype),e(se.prototype,"shadingScale",[z],Object.getOwnPropertyDescriptor(se.prototype,"shadingScale"),se.prototype),e(se.prototype,"bloomEnable",[H],Object.getOwnPropertyDescriptor(se.prototype,"bloomEnable"),se.prototype),e(se.prototype,"bloomType",[I,k],Object.getOwnPropertyDescriptor(se.prototype,"bloomType"),se.prototype),e(se.prototype,"kawaseBloomMaterial",[W],Object.getOwnPropertyDescriptor(se.prototype,"kawaseBloomMaterial"),se.prototype),e(se.prototype,"mipmapBloomMaterial",[U],Object.getOwnPropertyDescriptor(se.prototype,"mipmapBloomMaterial"),se.prototype),e(se.prototype,"bloomEnableAlphaMask",[V],Object.getOwnPropertyDescriptor(se.prototype,"bloomEnableAlphaMask"),se.prototype),e(se.prototype,"bloomIterations",[j],Object.getOwnPropertyDescriptor(se.prototype,"bloomIterations"),se.prototype),e(se.prototype,"bloomThreshold",[K],Object.getOwnPropertyDescriptor(se.prototype,"bloomThreshold"),se.prototype),e(se.prototype,"bloomIntensity",[X,Y],Object.getOwnPropertyDescriptor(se.prototype,"bloomIntensity"),se.prototype),e(se.prototype,"colorGradingEnable",[q],Object.getOwnPropertyDescriptor(se.prototype,"colorGradingEnable"),se.prototype),e(se.prototype,"colorGradingMaterial",[Z],Object.getOwnPropertyDescriptor(se.prototype,"colorGradingMaterial"),se.prototype),e(se.prototype,"colorGradingContribute",[J],Object.getOwnPropertyDescriptor(se.prototype,"colorGradingContribute"),se.prototype),e(se.prototype,"colorGradingMap",[$],Object.getOwnPropertyDescriptor(se.prototype,"colorGradingMap"),se.prototype),e(se.prototype,"fxaaEnable",[ee],Object.getOwnPropertyDescriptor(se.prototype,"fxaaEnable"),se.prototype),e(se.prototype,"fxaaMaterial",[te],Object.getOwnPropertyDescriptor(se.prototype,"fxaaMaterial"),se.prototype),e(se.prototype,"fsrEnable",[ae],Object.getOwnPropertyDescriptor(se.prototype,"fsrEnable"),se.prototype),e(se.prototype,"fsrMaterial",[ie],Object.getOwnPropertyDescriptor(se.prototype,"fsrMaterial"),se.prototype),e(se.prototype,"fsrSharpness",[oe],Object.getOwnPropertyDescriptor(se.prototype,"fsrSharpness"),se.prototype),e(se.prototype,"toneMappingMaterial",[ne],Object.getOwnPropertyDescriptor(se.prototype,"toneMappingMaterial"),se.prototype),re=se))||re)||re)||re)||re);r._RF.pop(),r._RF.push({},"ff9b0GZzgRM/obMbHGfCNbk","builtin-pipeline",void 0);var Pe=S.AABB,Me=S.Sphere,ye=S.intersect,ve=s.ClearFlagBit,Te=s.Color,Re=s.Format,Ee=s.FormatFeatureBit,Ce=s.LoadOp,xe=s.StoreOp,Ae=s.TextureType,De=s.Viewport,Fe=_.scene,Le=Fe.CameraUsage,Oe=Fe.CSMLevel,Ne=Fe.LightType;function Ge(e){return!!(e.clearFlag&(ve.COLOR|ve.STENCIL<<1))}function Be(e,t,a,i,o,n){e.shadowFixedArea||e.csmLevel===Oe.LEVEL_1?(o.left=0,o.top=0,o.width=Math.trunc(t),o.height=Math.trunc(a)):(o.left=Math.trunc(i%2*.5*t),o.top=n>0?Math.trunc(.5*(1-Math.floor(i/2))*a):Math.trunc(.5*Math.floor(i/2)*a),o.width=Math.trunc(.5*t),o.height=Math.trunc(.5*a)),o.left=Math.max(0,o.left),o.top=Math.max(0,o.top),o.width=Math.max(1,o.width),o.height=Math.max(1,o.height)}var Qe=function(){this.isWeb=!1,this.isWebGL1=!1,this.isWebGPU=!1,this.isMobile=!1,this.isHDR=!1,this.useFloatOutput=!1,this.toneMappingType=0,this.shadowEnabled=!1,this.shadowMapFormat=Re.R32F,this.shadowMapSize=new y(1,1),this.usePlanarShadow=!1,this.screenSpaceSignY=1,this.supportDepthSample=!1,this.mobileMaxSpotLightShadowMaps=1,this.platform=new v(0,0,0,0)};function ze(e,t){var a=Ee.SAMPLED_TEXTURE|Ee.LINEAR_FILTER,i=e.device;t.isWeb=!T.isNative,t.isWebGL1=i.gfxAPI===s.API.WEBGL,t.isWebGPU=i.gfxAPI===s.API.WEBGPU,t.isMobile=T.isMobile,t.isHDR=e.pipelineSceneData.isHDR,t.useFloatOutput=e.getMacroBool("CC_USE_FLOAT_OUTPUT"),t.toneMappingType=e.pipelineSceneData.postSettings.toneMappingType;var o=e.pipelineSceneData.shadows;t.shadowEnabled=o.enabled,t.shadowMapFormat=R.supportsR32FloatTexture(e.device)?Re.R32F:Re.RGBA8,t.shadowMapSize.set(o.size),t.usePlanarShadow=o.enabled&&o.type===_.scene.ShadowType.Planar,t.screenSpaceSignY=e.device.capabilities.screenSpaceSignY,t.supportDepthSample=(e.device.getFormatFeatures(Re.DEPTH_STENCIL)&a)===a;var n=i.capabilities.screenSpaceSignY;t.platform.x=t.isMobile?1:0,t.platform.w=.5*n+.5<<1|.5*i.capabilities.clipSpaceSignY+.5}var He=ce(),Ie=function(){this.settings=He,this.isMainGameWindow=!1,this.renderWindowId=0,this.colorName="",this.depthStencilName="",this.enableFullPipeline=!1,this.enableProfiler=!1,this.remainingPasses=0,this.enableShadingScale=!1,this.shadingScale=1,this.nativeWidth=1,this.nativeHeight=1,this.width=1,this.height=1,this.enableHDR=!1,this.radianceFormat=s.Format.RGBA8,this.copyAndTonemapMaterial=null,this.enableStoreSceneDepth=!1},ke=new Te(0,0,0,0);function We(e,t,a,i){w(!!a.copyAndTonemapMaterial);var o=e.addRenderPass(a.nativeWidth,a.nativeHeight,"cc-tone-mapping");return o.addRenderTarget(a.colorName,Ce.CLEAR,xe.STORE,ke),o.addTexture(i,"inputTexture"),o.addQueue(b.QueueHint.OPAQUE).addFullscreenQuad(a.copyAndTonemapMaterial,1),o}function Ue(e,t,a){return e.startsWith(t)?""+t+(1-Number(e.charAt(t.length)))+"_"+a:t+"0_"+a}var Ve=function(){function e(){this.lights=[],this.shadowEnabledSpotLights=[],this._sphere=Me.create(0,0,0,1),this._boundingBox=new Pe,this._rangedDirLightBoundingBox=new Pe(0,0,0,.5,.5,.5)}var t=e.prototype;return t.cullLights=function(e,t,a){this.lights.length=0,this.shadowEnabledSpotLights.length=0;for(var i,o=n(e.spotLights);!(i=o()).done;){var r=i.value;r.baked||(Me.set(this._sphere,r.position.x,r.position.y,r.position.z,r.range),ye.sphereFrustum(this._sphere,t)&&(r.shadowEnabled?this.shadowEnabledSpotLights.push(r):this.lights.push(r)))}for(var s,l=n(e.sphereLights);!(s=l()).done;){var d=s.value;d.baked||(Me.set(this._sphere,d.position.x,d.position.y,d.position.z,d.range),ye.sphereFrustum(this._sphere,t)&&this.lights.push(d))}for(var h,p=n(e.pointLights);!(h=p()).done;){var c=h.value;c.baked||(Me.set(this._sphere,c.position.x,c.position.y,c.position.z,c.range),ye.sphereFrustum(this._sphere,t)&&this.lights.push(c))}for(var u,g=n(e.rangedDirLights);!(u=g()).done;){var m=u.value;Pe.transform(this._boundingBox,this._rangedDirLightBoundingBox,m.node.getWorldMatrix()),ye.aabbFrustum(this._boundingBox,t)&&this.lights.push(m)}a&&this.shadowEnabledSpotLights.sort((function(e,t){return E.squaredDistance(a,e.position)-E.squaredDistance(a,t.position)}))},t._addLightQueues=function(e,t){for(var a,i=n(this.lights);!(a=i()).done;){var o=a.value,r=t.addQueue(b.QueueHint.BLEND,"forward-add");switch(o.type){case Ne.SPHERE:r.name="sphere-light";break;case Ne.SPOT:r.name="spot-light";break;case Ne.POINT:r.name="point-light";break;case Ne.RANGED_DIRECTIONAL:r.name="ranged-directional-light";break;default:r.name="unknown-light"}r.addScene(e,b.SceneFlags.BLEND,o)}},t.addSpotlightShadowPasses=function(e,t,a){for(var i,o=0,r=n(this.shadowEnabledSpotLights);!(i=r()).done;){var s=i.value,l=e.pipelineSceneData.shadows.size,d=e.addRenderPass(l.x,l.y,"default");if(d.name="SpotLightShadowPass"+o,d.addRenderTarget("SpotShadowMap"+o,Ce.CLEAR,xe.STORE,new Te(1,1,1,1)),d.addDepthStencil("SpotShadowDepth"+o,Ce.CLEAR,xe.DISCARD),d.addQueue(b.QueueHint.NONE,"shadow-caster").addScene(t,b.SceneFlags.OPAQUE|b.SceneFlags.MASK|b.SceneFlags.SHADOW_CASTER).useLightFrustum(s),++o>=a)break}},t.addLightQueues=function(e,t,a){this._addLightQueues(t,e);for(var i,o=0,r=n(this.shadowEnabledSpotLights);!(i=r()).done;){var s=i.value;if(e.addTexture("SpotShadowMap"+o,"cc_spotShadowMap"),e.addQueue(b.QueueHint.BLEND,"forward-add").addScene(t,b.SceneFlags.BLEND,s),++o>=a)break}},t.addLightPasses=function(e,t,a,i,o,r,s,l,d,h){this._addLightQueues(s,h);for(var p,c=0,u=d.pipelineSceneData.shadows.size,g=n(this.shadowEnabledSpotLights);!(p=g()).done;){var m=p.value,f=d.addRenderPass(u.x,u.y,"default");f.name="SpotlightShadowPass",f.addRenderTarget("ShadowMap"+i,Ce.CLEAR,xe.STORE,new Te(1,1,1,1)),f.addDepthStencil("ShadowDepth"+i,Ce.CLEAR,xe.DISCARD),f.addQueue(b.QueueHint.NONE,"shadow-caster").addScene(s,b.SceneFlags.OPAQUE|b.SceneFlags.MASK|b.SceneFlags.SHADOW_CASTER).useLightFrustum(m);var S=++c===this.shadowEnabledSpotLights.length?a:xe.STORE;(h=d.addRenderPass(o,r,"default")).name="SpotlightWithShadowMap",h.setViewport(l),h.addRenderTarget(e,Ce.LOAD),h.addDepthStencil(t,Ce.LOAD,S),h.addTexture("ShadowMap"+i,"cc_spotShadowMap"),h.addQueue(b.QueueHint.BLEND,"forward-add").addScene(s,b.SceneFlags.BLEND,m)}return h},t.isMultipleLightPassesNeeded=function(){return this.shadowEnabledSpotLights.length>0},e}(),je=function(){function e(){this.forwardLighting=new Ve,this._viewport=new De,this._clearColor=new Te(0,0,0,1),this._reflectionProbeClearColor=new E(0,0,0)}var t=e.prototype;return t.getConfigOrder=function(){return e.ConfigOrder},t.getRenderOrder=function(){return e.RenderOrder},t.configCamera=function(e,t,a){a.enableMainLightShadowMap=t.shadowEnabled&&!t.usePlanarShadow&&!!e.scene&&!!e.scene.mainLight&&e.scene.mainLight.shadowEnabled,a.enableMainLightPlanarShadowMap=t.shadowEnabled&&t.usePlanarShadow&&!!e.scene&&!!e.scene.mainLight&&e.scene.mainLight.shadowEnabled,a.enablePlanarReflectionProbe=a.isMainGameWindow||e.cameraUsage===Le.SCENE_VIEW||e.cameraUsage===Le.GAME_VIEW,a.enableMSAA=a.settings.msaa.enabled&&!a.enableStoreSceneDepth&&!t.isWeb&&!t.isWebGL1,a.enableSingleForwardPass=t.isMobile||a.enableMSAA,++a.remainingPasses},t.windowResize=function(e,t,a,i,o,n,r){var s=b.ResourceFlags,l=b.ResourceResidency,d=i.renderWindowId,h=a.settings,p=a.enableShadingScale?Math.max(Math.floor(n*a.shadingScale),1):n,c=a.enableShadingScale?Math.max(Math.floor(r*a.shadingScale),1):r;if(a.enableMSAA&&(a.enableHDR?e.addTexture("MsaaRadiance"+d,Ae.TEX2D,a.radianceFormat,p,c,1,1,1,h.msaa.sampleCount,s.COLOR_ATTACHMENT,l.MEMORYLESS):e.addTexture("MsaaRadiance"+d,Ae.TEX2D,Re.RGBA8,p,c,1,1,1,h.msaa.sampleCount,s.COLOR_ATTACHMENT,l.MEMORYLESS),e.addTexture("MsaaDepthStencil"+d,Ae.TEX2D,Re.DEPTH_STENCIL,p,c,1,1,1,h.msaa.sampleCount,s.DEPTH_STENCIL_ATTACHMENT,l.MEMORYLESS)),e.addRenderTarget("ShadowMap"+d,t.shadowMapFormat,t.shadowMapSize.x,t.shadowMapSize.y),e.addDepthStencil("ShadowDepth"+d,Re.DEPTH_STENCIL,t.shadowMapSize.x,t.shadowMapSize.y),a.enableSingleForwardPass)for(var u=t.mobileMaxSpotLightShadowMaps,g=0;g!==u;++g)e.addRenderTarget("SpotShadowMap"+g,t.shadowMapFormat,t.shadowMapSize.x,t.shadowMapSize.y),e.addDepthStencil("SpotShadowDepth"+g,Re.DEPTH_STENCIL,t.shadowMapSize.x,t.shadowMapSize.y)},t.setup=function(e,t,a,i,o){e.setVec4("g_platform",t.platform);var n=i.window.renderWindowId,r=i.scene,s=r.mainLight;--a.remainingPasses,w(a.remainingPasses>=0),this.forwardLighting.cullLights(r,i.frustum),a.enableMainLightShadowMap&&(w(!!s),this._addCascadedShadowMapPass(e,t,n,s,i)),a.enableSingleForwardPass&&this.forwardLighting.addSpotlightShadowPasses(e,i,t.mobileMaxSpotLightShadowMaps),this._tryAddReflectionProbePasses(e,a,n,s,i.scene),a.remainingPasses>0||a.enableShadingScale?(o.colorName=a.enableShadingScale?"ScaledRadiance0_"+n:"Radiance0_"+n,o.depthStencilName=a.enableShadingScale?"ScaledSceneDepth_"+n:"SceneDepth_"+n):(o.colorName=a.colorName,o.depthStencilName=a.depthStencilName);var l=this._addForwardRadiancePasses(e,t,a,n,i,a.width,a.height,s,o.colorName,o.depthStencilName,!a.enableMSAA,a.enableStoreSceneDepth?xe.STORE:xe.DISCARD);return a.enableStoreSceneDepth||(o.depthStencilName=""),0===a.remainingPasses&&a.enableShadingScale?We(e,0,a,o.colorName):l},t._addCascadedShadowMapPass=function(e,t,a,i,o){var n=b.QueueHint,r=b.SceneFlags,s=e.pipelineSceneData.shadows.size,l=s.x,d=s.y,h=this._viewport;h.left=h.top=0,h.width=l,h.height=d;var p=e.addRenderPass(l,d,"default");p.name="CascadedShadowMap",p.addRenderTarget("ShadowMap"+a,Ce.CLEAR,xe.STORE,new Te(1,1,1,1)),p.addDepthStencil("ShadowDepth"+a,Ce.CLEAR,xe.DISCARD);for(var c=e.pipelineSceneData.csmSupported?i.csmLevel:1,u=0;u!==c;++u){Be(i,l,d,u,this._viewport,t.screenSpaceSignY);var g=p.addQueue(n.NONE,"shadow-caster");t.isWebGPU||g.setViewport(this._viewport),g.addScene(o,r.OPAQUE|r.MASK|r.SHADOW_CASTER).useLightFrustum(i,u)}},t._tryAddReflectionProbePasses=function(e,t,a,i,o){var l=r.internal.reflectionProbeManager;if(l)for(var d,h=b.ResourceResidency,p=l.getProbes(),c=0,u=n(p);!(d=u()).done;){var g=d.value;if(g.needRender){var m=g.renderArea(),f=Math.max(Math.floor(m.x),1),S=Math.max(Math.floor(m.y),1);if(g.probeType===_.scene.ProbeType.PLANAR){if(!t.enablePlanarReflectionProbe)continue;var w=g.realtimePlanarTexture.window,P="PlanarProbeRT"+c,M="PlanarProbeDS"+c;e.addRenderWindow(P,t.radianceFormat,f,S,w),e.addDepthStencil(M,s.Format.DEPTH_STENCIL,f,S,h.MEMORYLESS);var y=e.addRenderPass(f,S,"default");y.name="PlanarReflectionProbe"+c,this._buildReflectionProbePass(y,t,a,g.camera,P,M,i,o)}if(4===++c)break}}},t._buildReflectionProbePass=function(e,t,a,i,o,n,r,s){void 0===s&&(s=null);var l=b.QueueHint,d=b.SceneFlags,h=t.enableMSAA?xe.DISCARD:xe.STORE;if(Ge(i)){this._reflectionProbeClearColor.x=i.clearColor.x,this._reflectionProbeClearColor.y=i.clearColor.y,this._reflectionProbeClearColor.z=i.clearColor.z;var p=b.packRGBE(this._reflectionProbeClearColor);this._clearColor.x=p.x,this._clearColor.y=p.y,this._clearColor.z=p.z,this._clearColor.w=p.w,e.addRenderTarget(o,Ce.CLEAR,h,this._clearColor)}else e.addRenderTarget(o,Ce.LOAD,h);i.clearFlag&ve.DEPTH_STENCIL?e.addDepthStencil(n,Ce.CLEAR,xe.DISCARD,i.clearDepth,i.clearStencil,i.clearFlag&ve.DEPTH_STENCIL):e.addDepthStencil(n,Ce.LOAD,xe.DISCARD),t.enableMainLightShadowMap&&e.addTexture("ShadowMap"+a,"cc_shadowMap"),e.addQueue(l.NONE,"reflect-map").addScene(i,d.OPAQUE|d.MASK|d.REFLECTION_PROBE,r||void 0,s||void 0)},t._addForwardRadiancePasses=function(e,t,a,i,o,n,r,s,l,d,h,p){void 0===h&&(h=!1),void 0===p&&(p=xe.DISCARD);var c=b.QueueHint,u=b.SceneFlags,g=o.clearColor;this._clearColor.x=g.x,this._clearColor.y=g.y,this._clearColor.z=g.z,this._clearColor.w=g.w;var m=o.viewport;this._viewport.left=Math.round(m.x*n),this._viewport.top=Math.round(m.y*r),this._viewport.width=Math.max(Math.round(m.width*n),1),this._viewport.height=Math.max(Math.round(m.height*r),1);var f=!h&&a.enableMSAA;w(!f||a.enableSingleForwardPass);var S=a.enableSingleForwardPass?this._addForwardSingleRadiancePass(e,t,a,i,o,f,n,r,s,l,d,p):this._addForwardMultipleRadiancePasses(e,a,i,o,n,r,s,l,d,p);a.enableMainLightPlanarShadowMap&&this._addPlanarShadowQueue(o,s,S);var _=u.BLEND|(o.geometryRenderer?u.GEOMETRY:u.NONE);return S.addQueue(c.BLEND).addScene(o,_,s||void 0),S},t._addForwardSingleRadiancePass=function(e,t,a,i,o,n,r,s,l,d,h,p){var c;if(w(a.enableSingleForwardPass),n){var u="MsaaRadiance"+i,g="MsaaDepthStencil"+i,m=a.settings.msaa.sampleCount,b=e.addMultisampleRenderPass(r,s,m,0,"default");b.name="MsaaForwardPass",this._buildForwardMainLightPass(b,a,i,o,u,g,xe.DISCARD,l),b.resolveRenderTarget(u,d),c=b}else(c=e.addRenderPass(r,s,"default")).name="ForwardPass",this._buildForwardMainLightPass(c,a,i,o,d,h,p,l);return w(void 0!==c),this.forwardLighting.addLightQueues(c,o,t.mobileMaxSpotLightShadowMaps),c},t._addForwardMultipleRadiancePasses=function(e,t,a,i,o,n,r,s,l,d){w(!t.enableSingleForwardPass);var h=e.addRenderPass(o,n,"default");h.name="ForwardPass";var p=this.forwardLighting.isMultipleLightPassesNeeded()?xe.STORE:d;return this._buildForwardMainLightPass(h,t,a,i,s,l,p,r),h=this.forwardLighting.addLightPasses(s,l,d,a,o,n,i,this._viewport,e,h)},t._buildForwardMainLightPass=function(e,t,a,i,o,n,r,s,l){void 0===l&&(l=null);var d=b.QueueHint,h=b.SceneFlags;e.setViewport(this._viewport);var p=t.enableMSAA?xe.DISCARD:xe.STORE;Ge(i)?e.addRenderTarget(o,Ce.CLEAR,p,this._clearColor):e.addRenderTarget(o,Ce.LOAD,p),i.clearFlag&ve.DEPTH_STENCIL?e.addDepthStencil(n,Ce.CLEAR,r,i.clearDepth,i.clearStencil,i.clearFlag&ve.DEPTH_STENCIL):e.addDepthStencil(n,Ce.LOAD,r),t.enableMainLightShadowMap&&e.addTexture("ShadowMap"+a,"cc_shadowMap"),e.addQueue(d.NONE).addScene(i,h.OPAQUE|h.MASK,s||void 0,l||void 0)},t._addPlanarShadowQueue=function(e,t,a){var i=b.QueueHint,o=b.SceneFlags;a.addQueue(i.BLEND,"planar-shadow").addScene(e,o.SHADOW_CASTER|o.PLANAR_SHADOW|o.BLEND,t||void 0)},e}();function Ke(e,t){return Math.max(Math.floor(e*t),1)}je.ConfigOrder=100,je.RenderOrder=100;var Xe=function(){function e(){this._clearColorTransparentBlack=new Te(0,0,0,0),this._bloomParams=new v(0,0,0,0),this._bloomTexSize=new v(0,0,0,0),this._bloomWidths=[],this._bloomHeights=[],this._bloomTexNames=[],this._bloomUpSampleTexDescs=[],this._bloomDownSampleTexDescs=[],this._prefilterTexDesc={name:"",width:0,height:0},this._originalColorDesc={name:"",width:0,height:0}}var t=e.prototype;return t.getConfigOrder=function(){return 0},t.getRenderOrder=function(){return 200},t.configCamera=function(e,t,a){var i=a.settings.bloom,o=i.type===he.KawaseDualFilter&&!!i.kawaseFilterMaterial||i.type===he.MipmapFilter&&!!i.mipmapFilterMaterial;a.enableBloom=i.enabled&&o,a.enableBloom&&++a.remainingPasses},t.windowResize=function(e,t,a,i){if(a.enableBloom){var o=a.width,n=a.height,r=a.settings.bloom,s=i.renderWindowId,l=a.radianceFormat;if(r.type===he.KawaseDualFilter)for(var d=a.width,h=a.height,p=0;p!==r.iterations+1;++p)d=Math.max(Math.floor(d/2),1),h=Math.max(Math.floor(h/2),1),e.addRenderTarget("BloomTex"+s+"_"+p,l,d,h);else if(r.type===he.MipmapFilter){for(var c=r.iterations,u=0;u!==c+1;++u){if(u<c){var g=Math.pow(.5,u+2);this._bloomDownSampleTexDescs[u]=this.createTexture(e,"DownSampleColor"+s+u,Ke(o,g),Ke(n,g),l)}if(u<c-1){var m=Math.pow(.5,c-u-1);this._bloomUpSampleTexDescs[u]=this.createTexture(e,"UpSampleColor"+s+u,Ke(o,m),Ke(n,m),l)}}this._originalColorDesc=this.createTexture(e,"OriginalColor"+s,o,n,l),this._prefilterTexDesc=this.createTexture(e,"PrefilterColor"+s,Ke(o,.5),Ke(n,.5),l)}}},t.createTexture=function(e,t,a,i,o){var n={name:t,width:a,height:i};return e.addRenderTarget(n.name,o,n.width,n.height),n},t.setup=function(e,t,a,i,o,n){if(!a.enableBloom)return n;--a.remainingPasses,w(a.remainingPasses>=0);var r=a.settings.bloom,s=i.window.renderWindowId;switch(r.type){case he.KawaseDualFilter:var l=r.kawaseFilterMaterial;return w(!!l),this._addKawaseDualFilterBloomPasses(e,t,a,a.settings,l,s,a.width,a.height,o.colorName);case he.MipmapFilter:var d=r.mipmapFilterMaterial;return w(!!d),this._addMipmapFilterBloomPasses(e,t,a,a.settings,d,s,a.width,a.height,o.colorName);default:return n}},t._addKawaseDualFilterBloomPasses=function(e,t,a,i,o,n,r,s,l){var d=b.QueueHint,h=i.bloom.iterations,p=h+1;this._bloomWidths.length=p,this._bloomHeights.length=p,this._bloomWidths[0]=Math.max(Math.floor(r/2),1),this._bloomHeights[0]=Math.max(Math.floor(s/2),1);for(var c=1;c!==p;++c)this._bloomWidths[c]=Math.max(Math.floor(this._bloomWidths[c-1]/2),1),this._bloomHeights[c]=Math.max(Math.floor(this._bloomHeights[c-1]/2),1);this._bloomTexNames.length=p;for(var u=0;u!==p;++u)this._bloomTexNames[u]="BloomTex"+n+"_"+u;this._bloomParams.x=t.useFloatOutput?1:0,this._bloomParams.y=0,this._bloomParams.z=i.bloom.threshold,this._bloomParams.w=i.bloom.enableAlphaMask?1:0;var g=e.addRenderPass(this._bloomWidths[0],this._bloomHeights[0],"cc-bloom-prefilter");g.addRenderTarget(this._bloomTexNames[0],Ce.CLEAR,xe.STORE,this._clearColorTransparentBlack),g.addTexture(l,"inputTexture"),g.setVec4("bloomParams",this._bloomParams),g.addQueue(d.OPAQUE).addFullscreenQuad(o,0);for(var m=1;m!==p;++m){var f=e.addRenderPass(this._bloomWidths[m],this._bloomHeights[m],"cc-bloom-downsample");f.addRenderTarget(this._bloomTexNames[m],Ce.CLEAR,xe.STORE,this._clearColorTransparentBlack),f.addTexture(this._bloomTexNames[m-1],"bloomTexture"),this._bloomTexSize.x=this._bloomWidths[m-1],this._bloomTexSize.y=this._bloomHeights[m-1],f.setVec4("bloomTexSize",this._bloomTexSize),f.addQueue(d.OPAQUE).addFullscreenQuad(o,1)}for(var S=h;S-- >0;){var _=e.addRenderPass(this._bloomWidths[S],this._bloomHeights[S],"cc-bloom-upsample");_.addRenderTarget(this._bloomTexNames[S],Ce.CLEAR,xe.STORE,this._clearColorTransparentBlack),_.addTexture(this._bloomTexNames[S+1],"bloomTexture"),this._bloomTexSize.x=this._bloomWidths[S+1],this._bloomTexSize.y=this._bloomHeights[S+1],_.setVec4("bloomTexSize",this._bloomTexSize),_.addQueue(d.OPAQUE).addFullscreenQuad(o,2)}this._bloomParams.w=i.bloom.intensity;var w=e.addRenderPass(r,s,"cc-bloom-combine");return w.addRenderTarget(l,Ce.LOAD,xe.STORE),w.addTexture(this._bloomTexNames[0],"bloomTexture"),w.setVec4("bloomParams",this._bloomParams),w.addQueue(d.BLEND).addFullscreenQuad(o,3),0===a.remainingPasses?We(e,0,a,l):w},t._addPass=function(e,t,a,i,o,n,r,s,l,d){void 0===s&&(s=Ce.CLEAR),void 0===l&&(l=ke),void 0===d&&(d=b.QueueHint.OPAQUE);var h=e.addRenderPass(t,a,i);return h.addRenderTarget(o,s,xe.STORE,l),h.addQueue(d).addFullscreenQuad(n,r),h},t._addMipmapFilterBloomPasses=function(e,t,a,i,o,n,r,s,l){this._bloomParams.x=t.useFloatOutput?1:0,this._bloomParams.x=0,this._bloomParams.z=i.bloom.threshold,this._bloomParams.w=i.bloom.intensity;var d=this._prefilterTexDesc,h=this._addPass(e,d.width,d.height,"cc-bloom-mipmap-prefilter",d.name,o,0);h.addTexture(l,"mainTexture"),h.setVec4("bloomParams",this._bloomParams);for(var p=this._bloomDownSampleTexDescs,c=0;c<p.length;++c){var u=p[c],g=0===c?d:p[c-1],m=g.name;this._bloomTexSize.x=1/g.width,this._bloomTexSize.y=1/g.height,(h=this._addPass(e,u.width,u.height,"cc-bloom-mipmap-downsample",u.name,o,1)).addTexture(m,"mainTexture"),h.setVec4("bloomParams",this._bloomTexSize)}for(var b=p.length-1,f=this._bloomUpSampleTexDescs,S=0;S<f.length;S++){var _=f[S],w=0===S?p[b]:f[S-1],P=w.name;this._bloomTexSize.x=1/w.width,this._bloomTexSize.y=1/w.height,(h=this._addPass(e,_.width,_.height,"cc-bloom-mipmap-upsample",_.name,o,2)).addTexture(P,"mainTexture"),h.addTexture(p[b-1-S].name,"downsampleTexture"),h.setVec4("bloomParams",this._bloomTexSize)}var M=this._addPass(e,r,s,"cc-bloom-mipmap-combine",l,o,3,Ce.LOAD);return M.addTexture(f[f.length-1].name,"bloomTexture"),M.setVec4("bloomParams",this._bloomParams),0===a.remainingPasses?We(e,0,a,l):M},e}(),Ye=function(){function e(){this._colorGradingTexSize=new y(0,0)}var t=e.prototype;return t.getConfigOrder=function(){return 0},t.getRenderOrder=function(){return 300},t.configCamera=function(e,t,a){var i=a.settings;a.enableColorGrading=i.colorGrading.enabled&&!!i.colorGrading.material&&!!i.colorGrading.colorGradingMap,a.enableToneMapping=a.enableHDR||a.enableColorGrading,a.enableToneMapping&&++a.remainingPasses},t.windowResize=function(e,t,a){a.enableColorGrading&&(w(!!a.settings.colorGrading.material),a.settings.colorGrading.material.setProperty("colorGradingMap",a.settings.colorGrading.colorGradingMap))},t.setup=function(e,t,a,i,o,n){if(!a.enableToneMapping)return n;if(--a.remainingPasses,w(a.remainingPasses>=0),0===a.remainingPasses)return this._addCopyAndTonemapPass(e,t,a,a.width,a.height,o.colorName,a.colorName);var r=a.renderWindowId,s=a.enableShadingScale?"ScaledLdrColor":"LdrColor",l=Ue(o.colorName,s,r),d=o.colorName;return o.colorName=l,this._addCopyAndTonemapPass(e,t,a,a.width,a.height,d,l)},t._addCopyAndTonemapPass=function(e,t,a,i,o,n,r){var s,l=a.settings;if(a.enableColorGrading){w(!!l.colorGrading.material),w(!!l.colorGrading.colorGradingMap);var d=l.colorGrading.colorGradingMap;this._colorGradingTexSize.x=d.width,this._colorGradingTexSize.y=d.height;var h=d.width===d.height;(s=h?e.addRenderPass(i,o,"cc-color-grading-8x8"):e.addRenderPass(i,o,"cc-color-grading-nx1")).addRenderTarget(r,Ce.CLEAR,xe.STORE,ke),s.addTexture(n,"sceneColorMap"),s.setVec2("lutTextureSize",this._colorGradingTexSize),s.setFloat("contribute",l.colorGrading.contribute),s.addQueue(b.QueueHint.OPAQUE).addFullscreenQuad(l.colorGrading.material,h?1:0)}else(s=e.addRenderPass(i,o,"cc-tone-mapping")).addRenderTarget(r,Ce.CLEAR,xe.STORE,ke),s.addTexture(n,"inputTexture"),l.toneMapping.material?s.addQueue(b.QueueHint.OPAQUE).addFullscreenQuad(l.toneMapping.material,0):(w(!!a.copyAndTonemapMaterial),s.addQueue(b.QueueHint.OPAQUE).addFullscreenQuad(a.copyAndTonemapMaterial,0));return s},e}(),qe=function(){function e(){this._fxaaParams=new v(0,0,0,0)}var t=e.prototype;return t.getConfigOrder=function(){return 0},t.getRenderOrder=function(){return 400},t.configCamera=function(e,t,a){a.enableFXAA=a.settings.fxaa.enabled&&!!a.settings.fxaa.material,a.enableFXAA&&++a.remainingPasses},t.setup=function(e,t,a,i,o,n){if(!a.enableFXAA)return n;--a.remainingPasses,w(a.remainingPasses>=0);var r=a.renderWindowId,s=a.enableShadingScale?"ScaledLdrColor":"LdrColor",l=Ue(o.colorName,s,r);if(w(!!a.settings.fxaa.material),0===a.remainingPasses)return a.enableShadingScale?(this._addFxaaPass(e,t,a.settings.fxaa.material,a.width,a.height,o.colorName,l),We(e,0,a,l)):(w(a.width===a.nativeWidth),w(a.height===a.nativeHeight),this._addFxaaPass(e,t,a.settings.fxaa.material,a.width,a.height,o.colorName,a.colorName));var d=o.colorName;return o.colorName=l,this._addFxaaPass(e,t,a.settings.fxaa.material,a.width,a.height,d,l)},t._addFxaaPass=function(e,t,a,i,o,n,r){this._fxaaParams.x=i,this._fxaaParams.y=o,this._fxaaParams.z=1/i,this._fxaaParams.w=1/o;var s=e.addRenderPass(i,o,"cc-fxaa");return s.addRenderTarget(r,Ce.CLEAR,xe.STORE,ke),s.addTexture(n,"sceneColorMap"),s.setVec4("texSize",this._fxaaParams),s.addQueue(b.QueueHint.OPAQUE).addFullscreenQuad(a,0),s},e}(),Ze=function(){function e(){this._fsrParams=new v(0,0,0,0),this._fsrTexSize=new v(0,0,0,0)}var t=e.prototype;return t.getConfigOrder=function(){return 0},t.getRenderOrder=function(){return 500},t.configCamera=function(e,t,a){a.enableFSR=a.settings.fsr.enabled&&!!a.settings.fsr.material&&a.enableShadingScale&&a.shadingScale<1,a.enableFSR&&++a.remainingPasses},t.setup=function(e,t,a,i,o,n){if(!a.enableFSR)return n;--a.remainingPasses;var r=o.colorName,s=0===a.remainingPasses?a.colorName:Ue(o.colorName,"UiColor",a.renderWindowId);return o.colorName=s,w(!!a.settings.fsr.material),this._addFsrPass(e,t,a,a.settings,a.settings.fsr.material,a.renderWindowId,a.width,a.height,r,a.nativeWidth,a.nativeHeight,s)},t._addFsrPass=function(e,t,a,i,o,n,r,s,l,d,h,p){this._fsrTexSize.x=r,this._fsrTexSize.y=s,this._fsrTexSize.z=d,this._fsrTexSize.w=h,this._fsrParams.x=C(1-i.fsr.sharpness,.02,.98);var c=Ue(p,"UiColor",n),u=e.addRenderPass(d,h,"cc-fsr-easu");u.addRenderTarget(c,Ce.CLEAR,xe.STORE,ke),u.addTexture(l,"outputResultMap"),u.setVec4("fsrTexSize",this._fsrTexSize),u.addQueue(b.QueueHint.OPAQUE).addFullscreenQuad(o,0);var g=e.addRenderPass(d,h,"cc-fsr-rcas");return g.addRenderTarget(p,Ce.CLEAR,xe.STORE,ke),g.addTexture(c,"outputResultMap"),g.setVec4("fsrTexSize",this._fsrTexSize),g.setVec4("fsrParams",this._fsrParams),g.addQueue(b.QueueHint.OPAQUE).addFullscreenQuad(o,1),g},e}(),Je=function(){function e(){}var t=e.prototype;return t.getConfigOrder=function(){return 0},t.getRenderOrder=function(){return 1e3},t.setup=function(e,t,a,i,o,n){w(!!n);var r=b.SceneFlags.UI;return a.enableProfiler&&(r|=b.SceneFlags.PROFILER,n.showStatistics=!0),n.addQueue(b.QueueHint.BLEND,"default","default").addScene(i,r),n},e}();if(b){var $e=b.QueueHint,et=b.SceneFlags,tt=function(){function e(){this._pipelineEvent=r.director.root.pipelineEvent,this._forwardPass=new je,this._bloomPass=new Xe,this._toneMappingPass=new Ye,this._fxaaPass=new qe,this._fsrPass=new Ze,this._uiPass=new Je,this._clearColor=new Te(0,0,0,1),this._viewport=new De,this._configs=new Qe,this._cameraConfigs=new Ie,this._copyAndTonemapMaterial=new g,this._initialized=!1,this._passBuilders=[]}var t=e.prototype;return t._setupPipelinePreview=function(e,t){if(e.cameraUsage===Le.SCENE_VIEW||e.cameraUsage===Le.PREVIEW){var a=b.getEditorPipelineSettings();t.settings=a||He}else e.pipelineSettings?t.settings=e.pipelineSettings:t.settings=He},t._preparePipelinePasses=function(e){var t=this._passBuilders;t.length=0;var a=e.settings;if(a._passes){for(var i,o=n(a._passes);!(i=o()).done;){var r=i.value;t.push(r)}w(t.length===a._passes.length)}t.push(this._forwardPass),a.bloom.enabled&&t.push(this._bloomPass),t.push(this._toneMappingPass),a.fxaa.enabled&&t.push(this._fxaaPass),a.fsr.enabled&&t.push(this._fsrPass),t.push(this._uiPass)},t._setupBuiltinCameraConfigs=function(e,t,a,i){var o=t.window,n=t.cameraUsage===Le.GAME&&!!o.swapchain,r=n||t.cameraUsage===Le.GAME_VIEW;i.isMainGameWindow=n,i.renderWindowId=o.renderWindowId,i.colorName=o.colorName,i.depthStencilName=o.depthStencilName,i.enableFullPipeline=0!=(t.visibility&P.Enum.DEFAULT),i.enableProfiler=e.profiler&&r,i.remainingPasses=0,i.shadingScale=i.settings.shadingScale,i.enableShadingScale=i.settings.enableShadingScale&&1!==i.shadingScale,i.nativeWidth=Math.max(Math.floor(o.width),1),i.nativeHeight=Math.max(Math.floor(o.height),1),i.width=i.enableShadingScale?Math.max(Math.floor(i.nativeWidth*i.shadingScale),1):i.nativeWidth,i.height=i.enableShadingScale?Math.max(Math.floor(i.nativeHeight*i.shadingScale),1):i.nativeHeight,i.enableHDR=i.enableFullPipeline&&a.useFloatOutput,i.radianceFormat=i.enableHDR?s.Format.RGBA16F:s.Format.RGBA8,i.copyAndTonemapMaterial=this._copyAndTonemapMaterial,i.enableStoreSceneDepth=!1},t._setupCameraConfigs=function(e,t,a,i){this._setupPipelinePreview(t,i),this._preparePipelinePasses(i),this._passBuilders.sort((function(e,t){return e.getConfigOrder()-t.getConfigOrder()})),this._setupBuiltinCameraConfigs(e,t,a,i);for(var o,r=n(this._passBuilders);!(o=r()).done;){var s=o.value;s.configCamera&&s.configCamera(t,a,i)}},t.windowResize=function(e,t,a,i,o){ze(e,this._configs),this._setupCameraConfigs(e,a,this._configs,this._cameraConfigs);var r=t.renderWindowId;e.addRenderWindow(this._cameraConfigs.colorName,Re.RGBA8,i,o,t,this._cameraConfigs.depthStencilName);var s=this._cameraConfigs.width,l=this._cameraConfigs.height;this._cameraConfigs.enableShadingScale?(e.addDepthStencil("ScaledSceneDepth_"+r,Re.DEPTH_STENCIL,s,l),e.addRenderTarget("ScaledRadiance0_"+r,this._cameraConfigs.radianceFormat,s,l),e.addRenderTarget("ScaledRadiance1_"+r,this._cameraConfigs.radianceFormat,s,l),e.addRenderTarget("ScaledLdrColor0_"+r,Re.RGBA8,s,l),e.addRenderTarget("ScaledLdrColor1_"+r,Re.RGBA8,s,l)):(e.addDepthStencil("SceneDepth_"+r,Re.DEPTH_STENCIL,s,l),e.addRenderTarget("Radiance0_"+r,this._cameraConfigs.radianceFormat,s,l),e.addRenderTarget("Radiance1_"+r,this._cameraConfigs.radianceFormat,s,l),e.addRenderTarget("LdrColor0_"+r,Re.RGBA8,s,l),e.addRenderTarget("LdrColor1_"+r,Re.RGBA8,s,l)),e.addRenderTarget("UiColor0_"+r,Re.RGBA8,i,o),e.addRenderTarget("UiColor1_"+r,Re.RGBA8,i,o);for(var d,h=n(this._passBuilders);!(d=h()).done;){var p=d.value;p.windowResize&&p.windowResize(e,this._configs,this._cameraConfigs,t,a,i,o)}},t.setup=function(e,t){if(!this._initMaterials(t))for(var a,i=n(e);!(a=i()).done;){var o=a.value;o.scene&&o.window&&(this._setupCameraConfigs(t,o,this._configs,this._cameraConfigs),this._pipelineEvent.emit(M.RENDER_CAMERA_BEGIN,o),this._cameraConfigs.enableFullPipeline?this._buildForwardPipeline(t,o,o.scene,this._passBuilders):this._buildSimplePipeline(t,o),this._pipelineEvent.emit(M.RENDER_CAMERA_END,o))}},t._buildSimplePipeline=function(e,t){var a=Math.max(Math.floor(t.window.width),1),i=Math.max(Math.floor(t.window.height),1),o=this._cameraConfigs.colorName,n=this._cameraConfigs.depthStencilName,r=t.viewport;this._viewport.left=Math.round(r.x*a),this._viewport.top=Math.round(r.y*i),this._viewport.width=Math.max(Math.round(r.width*a),1),this._viewport.height=Math.max(Math.round(r.height*i),1);var s=t.clearColor;this._clearColor.x=s.x,this._clearColor.y=s.y,this._clearColor.z=s.z,this._clearColor.w=s.w;var l=e.addRenderPass(a,i,"default");Ge(t)?l.addRenderTarget(o,Ce.CLEAR,xe.STORE,this._clearColor):l.addRenderTarget(o,Ce.LOAD,xe.STORE),t.clearFlag&ve.DEPTH_STENCIL?l.addDepthStencil(n,Ce.CLEAR,xe.DISCARD,t.clearDepth,t.clearStencil,t.clearFlag&ve.DEPTH_STENCIL):l.addDepthStencil(n,Ce.LOAD,xe.DISCARD),l.setViewport(this._viewport),l.addQueue($e.OPAQUE).addScene(t,et.OPAQUE);var d=et.BLEND|et.UI;this._cameraConfigs.enableProfiler&&(d|=et.PROFILER,l.showStatistics=!0),l.addQueue($e.BLEND).addScene(t,d)},t._buildForwardPipeline=function(e,t,a,i){!function(e){e.sort((function(e,t){return e.getRenderOrder()-t.getRenderOrder()}))}(i);for(var o,r={colorName:"",depthStencilName:""},s=void 0,l=n(i);!(o=l()).done;){var d=o.value;d.setup&&(s=d.setup(e,this._configs,this._cameraConfigs,t,r,s))}w(0===this._cameraConfigs.remainingPasses)},t._initMaterials=function(e){return this._initialized?0:(ze(e,this._configs),this._copyAndTonemapMaterial._uuid="builtin-pipeline-tone-mapping-material",this._copyAndTonemapMaterial.initialize({effectName:"pipeline/post-process/tone-mapping"}),this._copyAndTonemapMaterial.effectAsset&&(this._initialized=!0),this._initialized?0:1)},e}();b.setCustomPipeline("Builtin",new tt)}r._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/internal', 'chunks:///internal.js'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGU6L0FwcGxpY2F0aW9ucy9Db2Nvcy9DcmVhdG9yLzMuOC43L0NvY29zQ3JlYXRvci5hcHAvQ29udGVudHMvUmVzb3VyY2VzL3Jlc291cmNlcy8zZC9lbmdpbmUvZWRpdG9yL2Fzc2V0cy9kZWZhdWx0X3JlbmRlcnBpcGVsaW5lL2ZpbGU6L0FwcGxpY2F0aW9ucy9Db2Nvcy9DcmVhdG9yLzMuOC43L0NvY29zQ3JlYXRvci5hcHAvQ29udGVudHMvUmVzb3VyY2VzL3Jlc291cmNlcy8zZC9lbmdpbmUvZWRpdG9yL2Fzc2V0cy9kZWZhdWx0X3JlbmRlcnBpcGVsaW5lL2J1aWx0aW4tcGlwZWxpbmUtdHlwZXMudHMiLCJmaWxlOi9BcHBsaWNhdGlvbnMvQ29jb3MvQ3JlYXRvci8zLjguNy9Db2Nvc0NyZWF0b3IuYXBwL0NvbnRlbnRzL1Jlc291cmNlcy9yZXNvdXJjZXMvM2QvZW5naW5lL2VkaXRvci9hc3NldHMvZGVmYXVsdF9yZW5kZXJwaXBlbGluZS9maWxlOi9BcHBsaWNhdGlvbnMvQ29jb3MvQ3JlYXRvci8zLjguNy9Db2Nvc0NyZWF0b3IuYXBwL0NvbnRlbnRzL1Jlc291cmNlcy9yZXNvdXJjZXMvM2QvZW5naW5lL2VkaXRvci9hc3NldHMvZGVmYXVsdF9yZW5kZXJwaXBlbGluZS9idWlsdGluLXBpcGVsaW5lLXNldHRpbmdzLnRzIiwiZmlsZTovQXBwbGljYXRpb25zL0NvY29zL0NyZWF0b3IvMy44LjcvQ29jb3NDcmVhdG9yLmFwcC9Db250ZW50cy9SZXNvdXJjZXMvcmVzb3VyY2VzLzNkL2VuZ2luZS9lZGl0b3IvYXNzZXRzL2RlZmF1bHRfcmVuZGVycGlwZWxpbmUvZmlsZTovQXBwbGljYXRpb25zL0NvY29zL0NyZWF0b3IvMy44LjcvQ29jb3NDcmVhdG9yLmFwcC9Db250ZW50cy9SZXNvdXJjZXMvcmVzb3VyY2VzLzNkL2VuZ2luZS9lZGl0b3IvYXNzZXRzL2RlZmF1bHRfcmVuZGVycGlwZWxpbmUvYnVpbHRpbi1waXBlbGluZS50cyJdLCJuYW1lcyI6WyJTYW1wbGVDb3VudCIsImdmeCIsIm1ha2VNU0FBIiwiZW5hYmxlZCIsInNhbXBsZUNvdW50IiwiWDQiLCJCbG9vbVR5cGUiLCJtYWtlQmxvb20iLCJ0eXBlIiwiS2F3YXNlRHVhbEZpbHRlciIsIm1hdGVyaWFsIiwia2F3YXNlRmlsdGVyTWF0ZXJpYWwiLCJtaXBtYXBGaWx0ZXJNYXRlcmlhbCIsImVuYWJsZUFscGhhTWFzayIsIml0ZXJhdGlvbnMiLCJ0aHJlc2hvbGQiLCJpbnRlbnNpdHkiLCJtYWtlUGlwZWxpbmVTZXR0aW5ncyIsIm1zYWEiLCJlbmFibGVTaGFkaW5nU2NhbGUiLCJzaGFkaW5nU2NhbGUiLCJibG9vbSIsInRvbmVNYXBwaW5nIiwiY29sb3JHcmFkaW5nIiwiY29udHJpYnV0ZSIsImNvbG9yR3JhZGluZ01hcCIsImZzciIsInNoYXJwbmVzcyIsImZ4YWEiLCJmaWxsUmVxdWlyZWRQaXBlbGluZVNldHRpbmdzIiwidmFsdWUiLCJ1bmRlZmluZWQiLCJmaWxsUmVxdWlyZWRNU0FBIiwiZmlsbFJlcXVpcmVkQmxvb20iLCJmaWxsUmVxdWlyZWRUb25lTWFwcGluZyIsImZpbGxSZXF1aXJlZENvbG9yR3JhZGluZyIsImZpbGxSZXF1aXJlZEZTUiIsImZpbGxSZXF1aXJlZEZYQUEiLCJjY2VudW0iLCJfUkYiLCJwb3AiLCJjY2NsYXNzIiwiX2RlY29yYXRvciIsImRpc2FsbG93TXVsdGlwbGUiLCJleGVjdXRlSW5FZGl0TW9kZSIsIm1lbnUiLCJwcm9wZXJ0eSIsInJlcXVpcmVDb21wb25lbnQiLCJfZGVjIiwiX2RlYzIiLCJfZGVjMyIsIkNhbWVyYSIsIl9kZWM0IiwiQ0NCb29sZWFuIiwiX2RlYzUiLCJkaXNwbGF5TmFtZSIsIl9kZWM2IiwiZ3JvdXAiLCJpZCIsIm5hbWUiLCJfZGVjNyIsInN0eWxlIiwiQ0NJbnRlZ2VyIiwicmFuZ2UiLCJfZGVjOCIsIl9kZWM5IiwidG9vbHRpcCIsIkNDRmxvYXQiLCJzbGlkZSIsIl9kZWMxMCIsIl9kZWMxMSIsIl9kZWMxMiIsIl9kZWMxMyIsIk1hdGVyaWFsIiwiX2RlYzE0IiwiX2RlYzE1IiwiX2RlYzE2IiwiX2RlYzE3IiwibWluIiwiX2RlYzE4IiwiX2RlYzE5IiwiX2RlYzIwIiwiX2RlYzIxIiwiX2RlYzIyIiwiX2RlYzIzIiwiVGV4dHVyZTJEIiwiX2RlYzI0IiwiX2RlYzI1IiwiX2RlYzI2IiwiX2RlYzI3IiwiX2RlYzI4IiwiX2RlYzI5IiwiX2NsYXNzIiwiX2Rlc2NyaXB0b3IiLCJfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yIiwiX2NsYXNzMiIsIl9Db21wb25lbnQiLCJCdWlsdGluUGlwZWxpbmVTZXR0aW5ncyIsIl90aGlzIiwiX2xlbiIsImFyZ3VtZW50cyIsImxlbmd0aCIsImFyZ3MiLCJBcnJheSIsIl9rZXkiLCJjYWxsIiwiYXBwbHkiLCJjb25jYXQiLCJfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSIsIl9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQiLCJfZGVzY3JpcHRvcjIiLCJfaW5oZXJpdHNMb29zZSIsIl9wcm90byIsInByb3RvdHlwZSIsImdldFBpcGVsaW5lU2V0dGluZ3MiLCJ0aGlzIiwiX3NldHRpbmdzIiwib25FbmFibGUiLCJnZXRDb21wb25lbnQiLCJjYW1lcmEiLCJwaXBlbGluZVNldHRpbmdzIiwib25EaXNhYmxlIiwiX3RyeUVuYWJsZUVkaXRvclByZXZpZXciLCJyZW5kZXJpbmciLCJfZWRpdG9yUHJldmlldyIsInNldEVkaXRvclBpcGVsaW5lU2V0dGluZ3MiLCJfZGlzYWJsZUVkaXRvclByZXZpZXciLCJnZXRFZGl0b3JQaXBlbGluZVNldHRpbmdzIiwiX2NyZWF0ZUNsYXNzIiwia2V5IiwiZ2V0Iiwic2V0IiwidiIsIk1hdGgiLCJwb3ciLCJjZWlsIiwibG9nMiIsIm1heCIsInZhbCIsIkNvbXBvbmVudCIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJ3cml0YWJsZSIsImluaXRpYWxpemVyIiwiT2JqZWN0IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiQUFCQiIsImdlb21ldHJ5IiwiU3BoZXJlIiwiaW50ZXJzZWN0IiwiQ2xlYXJGbGFnQml0IiwiQ29sb3IiLCJGb3JtYXQiLCJGb3JtYXRGZWF0dXJlQml0IiwiTG9hZE9wIiwiU3RvcmVPcCIsIlRleHR1cmVUeXBlIiwiVmlld3BvcnQiLCJzY2VuZSIsInJlbmRlcmVyIiwiQ2FtZXJhVXNhZ2UiLCJDU01MZXZlbCIsIkxpZ2h0VHlwZSIsImZvcndhcmROZWVkQ2xlYXJDb2xvciIsImNsZWFyRmxhZyIsIkNPTE9SIiwiU1RFTkNJTCIsImdldENzbU1haW5MaWdodFZpZXdwb3J0IiwibGlnaHQiLCJ3IiwiaCIsImxldmVsIiwidnAiLCJzY3JlZW5TcGFjZVNpZ25ZIiwic2hhZG93Rml4ZWRBcmVhIiwiY3NtTGV2ZWwiLCJMRVZFTF8xIiwibGVmdCIsInRvcCIsIndpZHRoIiwidHJ1bmMiLCJoZWlnaHQiLCJmbG9vciIsIlBpcGVsaW5lQ29uZmlncyIsImlzV2ViIiwiaXNXZWJHTDEiLCJpc1dlYkdQVSIsImlzTW9iaWxlIiwiaXNIRFIiLCJ1c2VGbG9hdE91dHB1dCIsInRvbmVNYXBwaW5nVHlwZSIsInNoYWRvd0VuYWJsZWQiLCJzaGFkb3dNYXBGb3JtYXQiLCJSMzJGIiwic2hhZG93TWFwU2l6ZSIsIlZlYzIiLCJ1c2VQbGFuYXJTaGFkb3ciLCJzdXBwb3J0RGVwdGhTYW1wbGUiLCJtb2JpbGVNYXhTcG90TGlnaHRTaGFkb3dNYXBzIiwicGxhdGZvcm0iLCJWZWM0Iiwic2V0dXBQaXBlbGluZUNvbmZpZ3MiLCJwcGwiLCJjb25maWdzIiwic2FtcGxlRmVhdHVyZSIsIlNBTVBMRURfVEVYVFVSRSIsIkxJTkVBUl9GSUxURVIiLCJkZXZpY2UiLCJzeXMiLCJpc05hdGl2ZSIsImdmeEFQSSIsIkFQSSIsIldFQkdMIiwiV0VCR1BVIiwicGlwZWxpbmVTY2VuZURhdGEiLCJnZXRNYWNyb0Jvb2wiLCJwb3N0U2V0dGluZ3MiLCJzaGFkb3dJbmZvIiwic2hhZG93cyIsInBpcGVsaW5lIiwic3VwcG9ydHNSMzJGbG9hdFRleHR1cmUiLCJSR0JBOCIsInNpemUiLCJTaGFkb3dUeXBlIiwiUGxhbmFyIiwiY2FwYWJpbGl0aWVzIiwiZ2V0Rm9ybWF0RmVhdHVyZXMiLCJERVBUSF9TVEVOQ0lMIiwieCIsImNsaXBTcGFjZVNpZ25ZIiwiZGVmYXVsdFNldHRpbmdzIiwiQ2FtZXJhQ29uZmlncyIsInNldHRpbmdzIiwiaXNNYWluR2FtZVdpbmRvdyIsInJlbmRlcldpbmRvd0lkIiwiY29sb3JOYW1lIiwiZGVwdGhTdGVuY2lsTmFtZSIsImVuYWJsZUZ1bGxQaXBlbGluZSIsImVuYWJsZVByb2ZpbGVyIiwicmVtYWluaW5nUGFzc2VzIiwibmF0aXZlV2lkdGgiLCJuYXRpdmVIZWlnaHQiLCJlbmFibGVIRFIiLCJyYWRpYW5jZUZvcm1hdCIsImNvcHlBbmRUb25lbWFwTWF0ZXJpYWwiLCJlbmFibGVTdG9yZVNjZW5lRGVwdGgiLCJzQ2xlYXJDb2xvclRyYW5zcGFyZW50QmxhY2siLCJhZGRDb3B5VG9TY3JlZW5QYXNzIiwicHBsQ29uZmlncyIsImNhbWVyYUNvbmZpZ3MiLCJpbnB1dCIsImFzc2VydCIsInBhc3MiLCJhZGRSZW5kZXJQYXNzIiwiYWRkUmVuZGVyVGFyZ2V0IiwiQ0xFQVIiLCJTVE9SRSIsImFkZFRleHR1cmUiLCJhZGRRdWV1ZSIsIlF1ZXVlSGludCIsIk9QQVFVRSIsImFkZEZ1bGxzY3JlZW5RdWFkIiwiZ2V0UGluZ1BvbmdSZW5kZXJUYXJnZXQiLCJwcmV2TmFtZSIsInByZWZpeCIsInN0YXJ0c1dpdGgiLCJOdW1iZXIiLCJjaGFyQXQiLCJGb3J3YXJkTGlnaHRpbmciLCJsaWdodHMiLCJzaGFkb3dFbmFibGVkU3BvdExpZ2h0cyIsIl9zcGhlcmUiLCJjcmVhdGUiLCJfYm91bmRpbmdCb3giLCJfcmFuZ2VkRGlyTGlnaHRCb3VuZGluZ0JveCIsImN1bGxMaWdodHMiLCJmcnVzdHVtIiwiY2FtZXJhUG9zIiwiX3N0ZXAiLCJfaXRlcmF0b3IiLCJfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlckxvb3NlIiwic3BvdExpZ2h0cyIsImRvbmUiLCJiYWtlZCIsInBvc2l0aW9uIiwieSIsInoiLCJzcGhlcmVGcnVzdHVtIiwicHVzaCIsIl9zdGVwMiIsIl9pdGVyYXRvcjIiLCJzcGhlcmVMaWdodHMiLCJfc3RlcDMiLCJfaXRlcmF0b3IzIiwicG9pbnRMaWdodHMiLCJfc3RlcDQiLCJfaXRlcmF0b3I0IiwicmFuZ2VkRGlyTGlnaHRzIiwidHJhbnNmb3JtIiwibm9kZSIsImdldFdvcmxkTWF0cml4IiwiYWFiYkZydXN0dW0iLCJzb3J0IiwibGhzIiwicmhzIiwiVmVjMyIsInNxdWFyZWREaXN0YW5jZSIsIl9hZGRMaWdodFF1ZXVlcyIsIl9zdGVwNSIsIl9pdGVyYXRvcjUiLCJxdWV1ZSIsIkJMRU5EIiwiU1BIRVJFIiwiU1BPVCIsIlBPSU5UIiwiUkFOR0VEX0RJUkVDVElPTkFMIiwiYWRkU2NlbmUiLCJTY2VuZUZsYWdzIiwiYWRkU3BvdGxpZ2h0U2hhZG93UGFzc2VzIiwibWF4TnVtU2hhZG93TWFwcyIsIl9zdGVwNiIsImkiLCJfaXRlcmF0b3I2Iiwic2hhZG93UGFzcyIsImFkZERlcHRoU3RlbmNpbCIsIkRJU0NBUkQiLCJOT05FIiwiTUFTSyIsIlNIQURPV19DQVNURVIiLCJ1c2VMaWdodEZydXN0dW0iLCJhZGRMaWdodFF1ZXVlcyIsIl9zdGVwNyIsIl9pdGVyYXRvcjciLCJhZGRMaWdodFBhc3NlcyIsImRlcHRoU3RlbmNpbFN0b3JlT3AiLCJ2aWV3cG9ydCIsIl9zdGVwOCIsImNvdW50IiwiX2l0ZXJhdG9yOCIsInN0b3JlT3AiLCJzZXRWaWV3cG9ydCIsIkxPQUQiLCJpc011bHRpcGxlTGlnaHRQYXNzZXNOZWVkZWQiLCJCdWlsdGluRm9yd2FyZFBhc3NCdWlsZGVyIiwiZm9yd2FyZExpZ2h0aW5nIiwiX3ZpZXdwb3J0IiwiX2NsZWFyQ29sb3IiLCJfcmVmbGVjdGlvblByb2JlQ2xlYXJDb2xvciIsIl9wcm90bzIiLCJnZXRDb25maWdPcmRlciIsIkNvbmZpZ09yZGVyIiwiZ2V0UmVuZGVyT3JkZXIiLCJSZW5kZXJPcmRlciIsImNvbmZpZ0NhbWVyYSIsInBpcGVsaW5lQ29uZmlncyIsImVuYWJsZU1haW5MaWdodFNoYWRvd01hcCIsIm1haW5MaWdodCIsImVuYWJsZU1haW5MaWdodFBsYW5hclNoYWRvd01hcCIsImVuYWJsZVBsYW5hclJlZmxlY3Rpb25Qcm9iZSIsImNhbWVyYVVzYWdlIiwiU0NFTkVfVklFVyIsIkdBTUVfVklFVyIsImVuYWJsZU1TQUEiLCJlbmFibGVTaW5nbGVGb3J3YXJkUGFzcyIsIndpbmRvd1Jlc2l6ZSIsIndpbmRvdyIsIlJlc291cmNlRmxhZ3MiLCJSZXNvdXJjZVJlc2lkZW5jeSIsIlRFWDJEIiwiQ09MT1JfQVRUQUNITUVOVCIsIk1FTU9SWUxFU1MiLCJERVBUSF9TVEVOQ0lMX0FUVEFDSE1FTlQiLCJzZXR1cCIsImNvbnRleHQiLCJzZXRWZWM0IiwiX2FkZENhc2NhZGVkU2hhZG93TWFwUGFzcyIsIl90cnlBZGRSZWZsZWN0aW9uUHJvYmVQYXNzZXMiLCJfYWRkRm9yd2FyZFJhZGlhbmNlUGFzc2VzIiwic2hhZG93U2l6ZSIsImNzbVN1cHBvcnRlZCIsInJlZmxlY3Rpb25Qcm9iZU1hbmFnZXIiLCJjY2xlZ2FjeSIsImludGVybmFsIiwiX3N0ZXA5IiwicHJvYmVzIiwiZ2V0UHJvYmVzIiwicHJvYmVJRCIsIl9pdGVyYXRvcjkiLCJwcm9iZSIsIm5lZWRSZW5kZXIiLCJhcmVhIiwicmVuZGVyQXJlYSIsInByb2JlVHlwZSIsIlByb2JlVHlwZSIsIlBMQU5BUiIsInJlYWx0aW1lUGxhbmFyVGV4dHVyZSIsImFkZFJlbmRlcldpbmRvdyIsInByb2JlUGFzcyIsIl9idWlsZFJlZmxlY3Rpb25Qcm9iZVBhc3MiLCJjb2xvclN0b3JlT3AiLCJjbGVhckNvbG9yIiwicGFja1JHQkUiLCJjbGVhckRlcHRoIiwiY2xlYXJTdGVuY2lsIiwiUkVGTEVDVElPTl9QUk9CRSIsImRpc2FibGVNU0FBIiwicm91bmQiLCJfYWRkRm9yd2FyZFNpbmdsZVJhZGlhbmNlUGFzcyIsIl9hZGRGb3J3YXJkTXVsdGlwbGVSYWRpYW5jZVBhc3NlcyIsIl9hZGRQbGFuYXJTaGFkb3dRdWV1ZSIsInNjZW5lRmxhZ3MiLCJnZW9tZXRyeVJlbmRlcmVyIiwiR0VPTUVUUlkiLCJtc2FhUmFkaWFuY2VOYW1lIiwibXNhYURlcHRoU3RlbmNpbE5hbWUiLCJtc1Bhc3MiLCJhZGRNdWx0aXNhbXBsZVJlbmRlclBhc3MiLCJfYnVpbGRGb3J3YXJkTWFpbkxpZ2h0UGFzcyIsInJlc29sdmVSZW5kZXJUYXJnZXQiLCJmaXJzdFN0b3JlT3AiLCJQTEFOQVJfU0hBRE9XIiwiZG93blNpemUiLCJzY2FsZSIsIkJ1aWx0aW5CbG9vbVBhc3NCdWlsZGVyIiwiX2NsZWFyQ29sb3JUcmFuc3BhcmVudEJsYWNrIiwiX2Jsb29tUGFyYW1zIiwiX2Jsb29tVGV4U2l6ZSIsIl9ibG9vbVdpZHRocyIsIl9ibG9vbUhlaWdodHMiLCJfYmxvb21UZXhOYW1lcyIsIl9ibG9vbVVwU2FtcGxlVGV4RGVzY3MiLCJfYmxvb21Eb3duU2FtcGxlVGV4RGVzY3MiLCJfcHJlZmlsdGVyVGV4RGVzYyIsIl9vcmlnaW5hbENvbG9yRGVzYyIsIl9wcm90bzMiLCJoYXNWYWxpZE1hdGVyaWFsIiwiTWlwbWFwRmlsdGVyIiwiZW5hYmxlQmxvb20iLCJmb3JtYXQiLCJibG9vbVdpZHRoIiwiYmxvb21IZWlnaHQiLCJjcmVhdGVUZXh0dXJlIiwiZGVzYyIsInByZXZSZW5kZXJQYXNzIiwiX2FkZEthd2FzZUR1YWxGaWx0ZXJCbG9vbVBhc3NlcyIsIl9hZGRNaXBtYXBGaWx0ZXJCbG9vbVBhc3NlcyIsImJsb29tTWF0ZXJpYWwiLCJyYWRpYW5jZU5hbWUiLCJzaXplQ291bnQiLCJwcmVmaWx0ZXJQYXNzIiwiZG93blBhc3MiLCJ1cFBhc3MiLCJjb21iaW5lUGFzcyIsIl9hZGRQYXNzIiwibGF5b3V0IiwicGFzc0luZGV4IiwibG9hZE9wIiwicXVldWVIaW50IiwicHJlZmlsdGVySW5mbyIsImN1cnJTYW1wbGVQYXNzIiwiZG93blNhbXBsZUluZm9zIiwiY3VyckluZm8iLCJzYW1wbGVyU3JjIiwic2FtcGxlclNyY05hbWUiLCJsYXN0SW5kZXgiLCJ1cFNhbXBsZUluZm9zIiwic2FtcGxlU3JjIiwic2FtcGxlU3JjTmFtZSIsIkJ1aWx0aW5Ub25lTWFwcGluZ1Bhc3NCdWlsZGVyIiwiX2NvbG9yR3JhZGluZ1RleFNpemUiLCJfcHJvdG80IiwiZW5hYmxlQ29sb3JHcmFkaW5nIiwiZW5hYmxlVG9uZU1hcHBpbmciLCJzZXRQcm9wZXJ0eSIsIl9hZGRDb3B5QW5kVG9uZW1hcFBhc3MiLCJsZHJDb2xvclByZWZpeCIsImxkckNvbG9yTmFtZSIsImx1dFRleCIsImlzU3F1YXJlTWFwIiwic2V0VmVjMiIsInNldEZsb2F0IiwiQnVpbHRpbkZYQUFQYXNzQnVpbGRlciIsIl9meGFhUGFyYW1zIiwiX3Byb3RvNSIsImVuYWJsZUZYQUEiLCJfYWRkRnhhYVBhc3MiLCJpbnB1dENvbG9yTmFtZSIsImZ4YWFNYXRlcmlhbCIsIkJ1aWx0aW5Gc3JQYXNzQnVpbGRlciIsIl9mc3JQYXJhbXMiLCJfZnNyVGV4U2l6ZSIsIl9wcm90bzYiLCJlbmFibGVGU1IiLCJvdXRwdXRDb2xvck5hbWUiLCJfYWRkRnNyUGFzcyIsImZzck1hdGVyaWFsIiwiY2xhbXAiLCJmc3JDb2xvck5hbWUiLCJlYXN1UGFzcyIsInJjYXNQYXNzIiwiQnVpbHRpblVpUGFzc0J1aWxkZXIiLCJfcHJvdG83IiwiZmxhZ3MiLCJVSSIsIlBST0ZJTEVSIiwic2hvd1N0YXRpc3RpY3MiLCJCdWlsdGluUGlwZWxpbmVCdWlsZGVyIiwiX3BpcGVsaW5lRXZlbnQiLCJkaXJlY3RvciIsInJvb3QiLCJwaXBlbGluZUV2ZW50IiwiX2ZvcndhcmRQYXNzIiwiX2Jsb29tUGFzcyIsIl90b25lTWFwcGluZ1Bhc3MiLCJfZnhhYVBhc3MiLCJfZnNyUGFzcyIsIl91aVBhc3MiLCJfY29uZmlncyIsIl9jYW1lcmFDb25maWdzIiwiX2NvcHlBbmRUb25lbWFwTWF0ZXJpYWwiLCJfaW5pdGlhbGl6ZWQiLCJfcGFzc0J1aWxkZXJzIiwiX3Byb3RvOCIsIl9zZXR1cFBpcGVsaW5lUHJldmlldyIsIlBSRVZJRVciLCJlZGl0b3JTZXR0aW5ncyIsIl9wcmVwYXJlUGlwZWxpbmVQYXNzZXMiLCJwYXNzQnVpbGRlcnMiLCJfcGFzc2VzIiwiX3N0ZXAxMCIsIl9pdGVyYXRvcjEwIiwiX3NldHVwQnVpbHRpbkNhbWVyYUNvbmZpZ3MiLCJHQU1FIiwic3dhcGNoYWluIiwiaXNHYW1lVmlldyIsInZpc2liaWxpdHkiLCJMYXllcnMiLCJFbnVtIiwiREVGQVVMVCIsInByb2ZpbGVyIiwiUkdCQTE2RiIsIl9zZXR1cENhbWVyYUNvbmZpZ3MiLCJhIiwiYiIsIl9zdGVwMTEiLCJfaXRlcmF0b3IxMSIsImJ1aWxkZXIiLCJfc3RlcDEyIiwiX2l0ZXJhdG9yMTIiLCJjYW1lcmFzIiwiX2luaXRNYXRlcmlhbHMiLCJfc3RlcDEzIiwiX2l0ZXJhdG9yMTMiLCJlbWl0IiwiUGlwZWxpbmVFdmVudFR5cGUiLCJSRU5ERVJfQ0FNRVJBX0JFR0lOIiwiX2J1aWxkRm9yd2FyZFBpcGVsaW5lIiwiX2J1aWxkU2ltcGxlUGlwZWxpbmUiLCJSRU5ERVJfQ0FNRVJBX0VORCIsInNvcnRQaXBlbGluZVBhc3NCdWlsZGVyc0J5UmVuZGVyT3JkZXIiLCJfc3RlcDE0IiwibGFzdFBhc3MiLCJfaXRlcmF0b3IxNCIsIl91dWlkIiwiaW5pdGlhbGl6ZSIsImVmZmVjdE5hbWUiLCJlZmZlY3RBc3NldCIsInNldEN1c3RvbVBpcGVsaW5lIl0sIm1hcHBpbmdzIjoiMm1CQWdDQSxJQUFRQSxFQUFnQkMsRUFBaEJELFlBUUQsU0FBU0UsSUFDWixNQUFPLENBQ0hDLFNBQVMsRUFDVEMsWUFBYUosRUFBWUssb0ZBZ0VyQkMsWUFBQUEsR0FBUyxPQUFUQSxFQUFBQSx5Q0FBQUEsRUFBQUEsaUNBQUFBLE9BbUJMLFNBQVNDLEtBQ1osTUFBTyxDQUNISixTQUFTLEVBQ1RLLEtBQU1GLEdBQVVHLGlCQUNoQkMsU0FBVSxLQUNWQyxxQkFBc0IsS0FDdEJDLHFCQUFzQixLQUN0QkMsaUJBQWlCLEVBQ2pC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d0I0QywrQ0FDN0JoYyxLQUFLb1osd0JBQXdCNkMsV0FBVyxDQUFFQyxXQUFZLHVDQUVsRGxjLEtBQUtvWix3QkFBd0IrQyxjQUM3Qm5jLEtBQUtxWixjQUFlLEdBR2pCclosS0FBS3FaLGFBQWUsRUFBSSxJQUNsQ2QsS0FHTC9YLEVBQVU0YixrQkFBa0IsVUFBVyxJQUFJN0QsTUFFN0NuZCxJQUFBQyIsImZpbGUiOiJhbGwuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuIENvcHlyaWdodCAoYykgMjAyMS0yMDI0IFhpYW1lbiBZYWppIFNvZnR3YXJlIENvLiwgTHRkLlxuXG4gaHR0cHM6Ly93d3cuY29jb3MuY29tXG5cbiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG9cbiB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllc1xuIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbyxcbiBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcblxuIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG5cbiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuIFRIRSBTT0ZUV0FSRS5cbiovXG5cbi8qKlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PSAhRE8gTk9UIENIQU5HRSBUSEUgRk9MTE9XSU5HIFNFQ1RJT04gTUFOVUFMTFkhID09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIFRoZSBmb2xsb3dpbmcgc2VjdGlvbiBpcyBhdXRvLWdlbmVyYXRlZC5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT0gIURPIE5PVCBDSEFOR0UgVEhFIEZPTExPV0lORyBTRUNUSU9OIE1BTlVBTExZISA9PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbi8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbmltcG9ydCB7IE1hdGVyaWFsLCBUZXh0dXJlMkQsIGNjZW51bSwgZ2Z4IH0gZnJvbSAnY2MnO1xuXG5jb25zdCB7IFNhbXBsZUNvdW50IH0gPSBnZng7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTVNBQSB7XG4gICAgZW5hYmxlZDogYm9vbGVhbjsgLyogZmFsc2UgKi9cbiAgICBzYW1wbGVDb3VudDogZ2Z4LlNhbXBsZUNvdW50OyAvKiBTYW1wbGVDb3VudC5YNCAqL1xuICAgIFtuYW1lOiBzdHJpbmddOiB1bmtub3duO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFrZU1TQUEoKTogTVNBQSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZW5hYmxlZDogZmFsc2UsXG4gICAgICAgIHNhbXBsZUNvdW50OiBTYW1wbGVDb3VudC5YNCxcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmlsbFJlcXVpcmVkTVNBQSh2YWx1ZTogTVNBQSk6IHZvaWQge1xuICAgIGlmICh2YWx1ZS5lbmFibGVkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdmFsdWUuZW5hYmxlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAodmFsdWUuc2FtcGxlQ291bnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YWx1ZS5zYW1wbGVDb3VudCA9IFNhbXBsZUNvdW50Llg0O1xuICAgIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBGb3J3YXJkUGFzc0NvbmZpZ3Mge1xuICAgIGVuYWJsZU1haW5MaWdodFNoYWRvd01hcDogYm9vbGVhbjsgLyogZmFsc2UgKi9cbiAgICBlbmFibGVNYWluTGlnaHRQbGFuYXJTaGFkb3dNYXA6IGJvb2xlYW47IC8qIGZhbHNlICovXG4gICAgZW5hYmxlUGxhbmFyUmVmbGVjdGlvblByb2JlOiBib29sZWFuOyAvKiBmYWxzZSAqL1xuICAgIGVuYWJsZU1TQUE6IGJvb2xlYW47IC8qIGZhbHNlICovXG4gICAgZW5hYmxlU2luZ2xlRm9yd2FyZFBhc3M6IGJvb2xlYW47IC8qIGZhbHNlICovXG4gICAgW25hbWU6IHN0cmluZ106IHVua25vd247XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSEJBTyB7XG4gICAgZW5hYmxlZDogYm9vbGVhbjsgLyogZmFsc2UgKi9cbiAgICByYWRpdXNTY2FsZTogbnVtYmVyOyAvKiAxICovXG4gICAgYW5nbGVCaWFzRGVncmVlOiBudW1iZXI7IC8qIDEwICovXG4gICAgYmx1clNoYXJwbmVzczogbnVtYmVyOyAvKiAzICovXG4gICAgYW9TYXR1cmF0aW9uOiBudW1iZXI7IC8qIDEgKi9cbiAgICBuZWVkQmx1cjogYm9vbGVhbjsgLyogZmFsc2UgKi9cbiAgICBbbmFtZTogc3RyaW5nXTogdW5rbm93bjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VIQkFPKCk6IEhCQU8ge1xuICAgIHJldHVybiB7XG4gICAgICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgICAgICByYWRpdXNTY2FsZTogMSxcbiAgICAgICAgYW5nbGVCaWFzRGVncmVlOiAxMCxcbiAgICAgICAgYmx1clNoYXJwbmVzczogMyxcbiAgICAgICAgYW9TYXR1cmF0aW9uOiAxLFxuICAgICAgICBuZWVkQmx1cjogZmFsc2UsXG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbGxSZXF1aXJlZEhCQU8odmFsdWU6IEhCQU8pOiB2b2lkIHtcbiAgICBpZiAodmFsdWUuZW5hYmxlZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhbHVlLmVuYWJsZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHZhbHVlLnJhZGl1c1NjYWxlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdmFsdWUucmFkaXVzU2NhbGUgPSAxO1xuICAgIH1cbiAgICBpZiAodmFsdWUuYW5nbGVCaWFzRGVncmVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdmFsdWUuYW5nbGVCaWFzRGVncmVlID0gMTA7XG4gICAgfVxuICAgIGlmICh2YWx1ZS5ibHVyU2hhcnBuZXNzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdmFsdWUuYmx1clNoYXJwbmVzcyA9IDM7XG4gICAgfVxuICAgIGlmICh2YWx1ZS5hb1NhdHVyYXRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YWx1ZS5hb1NhdHVyYXRpb24gPSAxO1xuICAgIH1cbiAgICBpZiAodmFsdWUubmVlZEJsdXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YWx1ZS5uZWVkQmx1ciA9IGZhbHNlO1xuICAgIH1cbn1cblxuZXhwb3J0IGVudW0gQmxvb21UeXBlIHtcbiAgICBLYXdhc2VEdWFsRmlsdGVyLFxuICAgIE1pcG1hcEZpbHRlcixcbn1cbmNjZW51bShCbG9vbVR5cGUpO1xuXG5leHBvcnQgaW50ZXJmYWNlIEJsb29tIHtcbiAgICBlbmFibGVkOiBib29sZWFuOyAvKiBmYWxzZSAqL1xuICAgIHR5cGU6IEJsb29tVHlwZTsgLyogQmxvb21UeXBlLkthd2FzZUR1YWxGaWx0ZXIgKi9cbiAgICAvKiByZWZjb3VudCAqLyBtYXRlcmlhbDogTWF0ZXJpYWwgfCBudWxsO1xuICAgIC8qIHJlZmNvdW50ICovIGthd2FzZUZpbHRlck1hdGVyaWFsOiBNYXRlcmlhbCB8IG51bGw7XG4gICAgLyogcmVmY291bnQgKi8gbWlwbWFwRmlsdGVyTWF0ZXJpYWw6IE1hdGVyaWFsIHwgbnVsbDtcbiAgICBlbmFibGVBbHBoYU1hc2s6IGJvb2xlYW47IC8qIGZhbHNlICovXG4gICAgaXRlcmF0aW9uczogbnVtYmVyOyAvKiAzICovXG4gICAgdGhyZXNob2xkOiBudW1iZXI7IC8qIDAuOCAqL1xuICAgIGludGVuc2l0eTogbnVtYmVyOyAvKiAxICovXG4gICAgW25hbWU6IHN0cmluZ106IHVua25vd247XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlQmxvb20oKTogQmxvb20ge1xuICAgIHJldHVybiB7XG4gICAgICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgICAgICB0eXBlOiBCbG9vbVR5cGUuS2F3YXNlRHVhbEZpbHRlcixcbiAgICAgICAgbWF0ZXJpYWw6IG51bGwsXG4gICAgICAgIGthd2FzZUZpbHRlck1hdGVyaWFsOiBudWxsLFxuICAgICAgICBtaXBtYXBGaWx0ZXJNYXRlcmlhbDogbnVsbCxcbiAgICAgICAgZW5hYmxlQWxwaGFNYXNrOiBmYWxzZSxcbiAgICAgICAgaXRlcmF0aW9uczogMyxcbiAgICAgICAgdGhyZXNob2xkOiAwLjgsXG4gICAgICAgIGludGVuc2l0eTogMSxcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmlsbFJlcXVpcmVkQmxvb20odmFsdWU6IEJsb29tKTogdm9pZCB7XG4gICAgaWYgKHZhbHVlLmVuYWJsZWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YWx1ZS5lbmFibGVkID0gZmFsc2U7XG4gICAgfVxuICAgIGlmICh2YWx1ZS50eXBlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdmFsdWUudHlwZSA9IEJsb29tVHlwZS5LYXdhc2VEdWFsRmlsdGVyO1xuICAgIH1cbiAgICBpZiAodmFsdWUubWF0ZXJpYWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YWx1ZS5tYXRlcmlhbCA9IG51bGw7XG4gICAgfVxuICAgIGlmICh2YWx1ZS5rYXdhc2VGaWx0ZXJNYXRlcmlhbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhbHVlLmthd2FzZUZpbHRlck1hdGVyaWFsID0gdmFsdWUubWF0ZXJpYWwgfHwgbnVsbDtcbiAgICB9XG4gICAgaWYgKHZhbHVlLm1pcG1hcEZpbHRlck1hdGVyaWFsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdmFsdWUubWlwbWFwRmlsdGVyTWF0ZXJpYWwgPSBudWxsO1xuICAgIH1cbiAgICBpZiAodmFsdWUuZW5hYmxlQWxwaGFNYXNrID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdmFsdWUuZW5hYmxlQWxwaGFNYXNrID0gZmFsc2U7XG4gICAgfVxuICAgIGlmICh2YWx1ZS5pdGVyYXRpb25zID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdmFsdWUuaXRlcmF0aW9ucyA9IDM7XG4gICAgfVxuICAgIGlmICh2YWx1ZS50aHJlc2hvbGQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YWx1ZS50aHJlc2hvbGQgPSAwLjg7XG4gICAgfVxuICAgIGlmICh2YWx1ZS5pbnRlbnNpdHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YWx1ZS5pbnRlbnNpdHkgPSAxO1xuICAgIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb2xvckdyYWRpbmcge1xuICAgIGVuYWJsZWQ6IGJvb2xlYW47IC8qIGZhbHNlICovXG4gICAgLyogcmVmY291bnQgKi8gbWF0ZXJpYWw6IE1hdGVyaWFsIHwgbnVsbDtcbiAgICBjb250cmlidXRlOiBudW1iZXI7IC8qIDEgKi9cbiAgICAvKiByZWZjb3VudCAqLyBjb2xvckdyYWRpbmdNYXA6IFRleHR1cmUyRCB8IG51bGw7XG4gICAgW25hbWU6IHN0cmluZ106IHVua25vd247XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlQ29sb3JHcmFkaW5nKCk6IENvbG9yR3JhZGluZyB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZW5hYmxlZDogZmFsc2UsXG4gICAgICAgIG1hdGVyaWFsOiBudWxsLFxuICAgICAgICBjb250cmlidXRlOiAxLFxuICAgICAgICBjb2xvckdyYWRpbmdNYXA6IG51bGwsXG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbGxSZXF1aXJlZENvbG9yR3JhZGluZyh2YWx1ZTogQ29sb3JHcmFkaW5nKTogdm9pZCB7XG4gICAgaWYgKHZhbHVlLmVuYWJsZWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YWx1ZS5lbmFibGVkID0gZmFsc2U7XG4gICAgfVxuICAgIGlmICh2YWx1ZS5tYXRlcmlhbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhbHVlLm1hdGVyaWFsID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKHZhbHVlLmNvbnRyaWJ1dGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YWx1ZS5jb250cmlidXRlID0gMTtcbiAgICB9XG4gICAgaWYgKHZhbHVlLmNvbG9yR3JhZGluZ01hcCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhbHVlLmNvbG9yR3JhZGluZ01hcCA9IG51bGw7XG4gICAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZTUiB7XG4gICAgZW5hYmxlZDogYm9vbGVhbjsgLyogZmFsc2UgKi9cbiAgICAvKiByZWZjb3VudCAqLyBtYXRlcmlhbDogTWF0ZXJpYWwgfCBudWxsO1xuICAgIHNoYXJwbmVzczogbnVtYmVyOyAvKiAwLjggKi9cbiAgICBbbmFtZTogc3RyaW5nXTogdW5rbm93bjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VGU1IoKTogRlNSIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBlbmFibGVkOiBmYWxzZSxcbiAgICAgICAgbWF0ZXJpYWw6IG51bGwsXG4gICAgICAgIHNoYXJwbmVzczogMC44LFxuICAgIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaWxsUmVxdWlyZWRGU1IodmFsdWU6IEZTUik6IHZvaWQge1xuICAgIGlmICh2YWx1ZS5lbmFibGVkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdmFsdWUuZW5hYmxlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAodmFsdWUubWF0ZXJpYWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YWx1ZS5tYXRlcmlhbCA9IG51bGw7XG4gICAgfVxuICAgIGlmICh2YWx1ZS5zaGFycG5lc3MgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YWx1ZS5zaGFycG5lc3MgPSAwLjg7XG4gICAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZYQUEge1xuICAgIGVuYWJsZWQ6IGJvb2xlYW47IC8qIGZhbHNlICovXG4gICAgLyogcmVmY291bnQgKi8gbWF0ZXJpYWw6IE1hdGVyaWFsIHwgbnVsbDtcbiAgICBbbmFtZTogc3RyaW5nXTogdW5rbm93bjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VGWEFBKCk6IEZYQUEge1xuICAgIHJldHVybiB7XG4gICAgICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgICAgICBtYXRlcmlhbDogbnVsbCxcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmlsbFJlcXVpcmVkRlhBQSh2YWx1ZTogRlhBQSk6IHZvaWQge1xuICAgIGlmICh2YWx1ZS5lbmFibGVkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdmFsdWUuZW5hYmxlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAodmFsdWUubWF0ZXJpYWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YWx1ZS5tYXRlcmlhbCA9IG51bGw7XG4gICAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRvbmVNYXBwaW5nIHtcbiAgICAvKiByZWZjb3VudCAqLyBtYXRlcmlhbDogTWF0ZXJpYWwgfCBudWxsO1xuICAgIFtuYW1lOiBzdHJpbmddOiB1bmtub3duO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFrZVRvbmVNYXBwaW5nKCk6IFRvbmVNYXBwaW5nIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBtYXRlcmlhbDogbnVsbCxcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmlsbFJlcXVpcmVkVG9uZU1hcHBpbmcodmFsdWU6IFRvbmVNYXBwaW5nKTogdm9pZCB7XG4gICAgaWYgKHZhbHVlLm1hdGVyaWFsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdmFsdWUubWF0ZXJpYWwgPSBudWxsO1xuICAgIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBQaXBlbGluZVNldHRpbmdzIHtcbiAgICByZWFkb25seSBtc2FhOiBNU0FBO1xuICAgIGVuYWJsZVNoYWRpbmdTY2FsZTogYm9vbGVhbjsgLyogZmFsc2UgKi9cbiAgICBzaGFkaW5nU2NhbGU6IG51bWJlcjsgLyogMC41ICovXG4gICAgcmVhZG9ubHkgYmxvb206IEJsb29tO1xuICAgIHJlYWRvbmx5IHRvbmVNYXBwaW5nOiBUb25lTWFwcGluZztcbiAgICByZWFkb25seSBjb2xvckdyYWRpbmc6IENvbG9yR3JhZGluZztcbiAgICByZWFkb25seSBmc3I6IEZTUjtcbiAgICByZWFkb25seSBmeGFhOiBGWEFBO1xuICAgIFtuYW1lOiBzdHJpbmddOiB1bmtub3duO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFrZVBpcGVsaW5lU2V0dGluZ3MoKTogUGlwZWxpbmVTZXR0aW5ncyB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbXNhYTogbWFrZU1TQUEoKSxcbiAgICAgICAgZW5hYmxlU2hhZGluZ1NjYWxlOiBmYWxzZSxcbiAgICAgICAgc2hhZGluZ1NjYWxlOiAwLjUsXG4gICAgICAgIGJsb29tOiBtYWtlQmxvb20oKSxcbiAgICAgICAgdG9uZU1hcHBpbmc6IG1ha2VUb25lTWFwcGluZygpLFxuICAgICAgICBjb2xvckdyYWRpbmc6IG1ha2VDb2xvckdyYWRpbmcoKSxcbiAgICAgICAgZnNyOiBtYWtlRlNSKCksXG4gICAgICAgIGZ4YWE6IG1ha2VGWEFBKCksXG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbGxSZXF1aXJlZFBpcGVsaW5lU2V0dGluZ3ModmFsdWU6IFBpcGVsaW5lU2V0dGluZ3MpOiB2b2lkIHtcbiAgICBpZiAoIXZhbHVlLm1zYWEpIHtcbiAgICAgICAgKHZhbHVlLm1zYWEgYXMgTVNBQSkgPSBtYWtlTVNBQSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZpbGxSZXF1aXJlZE1TQUEodmFsdWUubXNhYSk7XG4gICAgfVxuICAgIGlmICh2YWx1ZS5lbmFibGVTaGFkaW5nU2NhbGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YWx1ZS5lbmFibGVTaGFkaW5nU2NhbGUgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHZhbHVlLnNoYWRpbmdTY2FsZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhbHVlLnNoYWRpbmdTY2FsZSA9IDAuNTtcbiAgICB9XG4gICAgaWYgKCF2YWx1ZS5ibG9vbSkge1xuICAgICAgICAodmFsdWUuYmxvb20gYXMgQmxvb20pID0gbWFrZUJsb29tKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZmlsbFJlcXVpcmVkQmxvb20odmFsdWUuYmxvb20pO1xuICAgIH1cbiAgICBpZiAoIXZhbHVlLnRvbmVNYXBwaW5nKSB7XG4gICAgICAgICh2YWx1ZS50b25lTWFwcGluZyBhcyBUb25lTWFwcGluZykgPSBtYWtlVG9uZU1hcHBpbmcoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBmaWxsUmVxdWlyZWRUb25lTWFwcGluZyh2YWx1ZS50b25lTWFwcGluZyk7XG4gICAgfVxuICAgIGlmICghdmFsdWUuY29sb3JHcmFkaW5nKSB7XG4gICAgICAgICh2YWx1ZS5jb2xvckdyYWRpbmcgYXMgQ29sb3JHcmFkaW5nKSA9IG1ha2VDb2xvckdyYWRpbmcoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBmaWxsUmVxdWlyZWRDb2xvckdyYWRpbmcodmFsdWUuY29sb3JHcmFkaW5nKTtcbiAgICB9XG4gICAgaWYgKCF2YWx1ZS5mc3IpIHtcbiAgICAgICAgKHZhbHVlLmZzciBhcyBGU1IpID0gbWFrZUZTUigpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZpbGxSZXF1aXJlZEZTUih2YWx1ZS5mc3IpO1xuICAgIH1cbiAgICBpZiAoIXZhbHVlLmZ4YWEpIHtcbiAgICAgICAgKHZhbHVlLmZ4YWEgYXMgRlhBQSkgPSBtYWtlRlhBQSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZpbGxSZXF1aXJlZEZYQUEodmFsdWUuZnhhYSk7XG4gICAgfVxufVxuIiwiLypcbiBDb3B5cmlnaHQgKGMpIDIwMjEtMjAyNCBYaWFtZW4gWWFqaSBTb2Z0d2FyZSBDby4sIEx0ZC5cblxuIGh0dHBzOi8vd3d3LmNvY29zLmNvbS9cblxuIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0b1xuIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzXG4gb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLFxuIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXG4gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cblxuIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gVEhFIFNPRlRXQVJFLlxuKi9cblxuaW1wb3J0IHtcbiAgICBfZGVjb3JhdG9yLCBDYW1lcmEsIENDQm9vbGVhbiwgQ0NGbG9hdCwgQ0NJbnRlZ2VyLCBDb21wb25lbnQsXG4gICAgTWF0ZXJpYWwsIHJlbmRlcmluZywgVGV4dHVyZTJELFxufSBmcm9tICdjYyc7XG5cbmltcG9ydCB7IEVESVRPUiB9IGZyb20gJ2NjL2Vudic7XG5cbmltcG9ydCB7XG4gICAgQmxvb21UeXBlLFxuICAgIGZpbGxSZXF1aXJlZFBpcGVsaW5lU2V0dGluZ3MsIG1ha2VQaXBlbGluZVNldHRpbmdzLCBQaXBlbGluZVNldHRpbmdzLFxufSBmcm9tICcuL2J1aWx0aW4tcGlwZWxpbmUtdHlwZXMnO1xuXG5jb25zdCB7IGNjY2xhc3MsIGRpc2FsbG93TXVsdGlwbGUsIGV4ZWN1dGVJbkVkaXRNb2RlLCBtZW51LCBwcm9wZXJ0eSwgcmVxdWlyZUNvbXBvbmVudCwgdHlwZSB9ID0gX2RlY29yYXRvcjtcblxuQGNjY2xhc3MoJ0J1aWx0aW5QaXBlbGluZVNldHRpbmdzJylcbkBtZW51KCdSZW5kZXJpbmcvQnVpbHRpblBpcGVsaW5lU2V0dGluZ3MnKVxuQHJlcXVpcmVDb21wb25lbnQoQ2FtZXJhKVxuQGRpc2FsbG93TXVsdGlwbGVcbkBleGVjdXRlSW5FZGl0TW9kZVxuZXhwb3J0IGNsYXNzIEJ1aWx0aW5QaXBlbGluZVNldHRpbmdzIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBAcHJvcGVydHlcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9zZXR0aW5nczogUGlwZWxpbmVTZXR0aW5ncyA9IG1ha2VQaXBlbGluZVNldHRpbmdzKCk7XG5cbiAgICBnZXRQaXBlbGluZVNldHRpbmdzKCk6IFBpcGVsaW5lU2V0dGluZ3Mge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2V0dGluZ3M7XG4gICAgfVxuXG4gICAgLy8gRW5hYmxlL0Rpc2FibGVcbiAgICBvbkVuYWJsZSgpOiB2b2lkIHtcbiAgICAgICAgZmlsbFJlcXVpcmVkUGlwZWxpbmVTZXR0aW5ncyh0aGlzLl9zZXR0aW5ncyk7XG4gICAgICAgIGNvbnN0IGNhbWVyYUNvbXBvbmVudCA9IHRoaXMuZ2V0Q29tcG9uZW50KENhbWVyYSkhO1xuICAgICAgICBjb25zdCBjYW1lcmEgPSBjYW1lcmFDb21wb25lbnQuY2FtZXJhO1xuICAgICAgICBjYW1lcmEucGlwZWxpbmVTZXR0aW5ncyA9IHRoaXMuX3NldHRpbmdzO1xuXG4gICAgICAgIGlmIChFRElUT1IpIHtcbiAgICAgICAgICAgIHRoaXMuX3RyeUVuYWJsZUVkaXRvclByZXZpZXcoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvbkRpc2FibGUoKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGNhbWVyYUNvbXBvbmVudCA9IHRoaXMuZ2V0Q29tcG9uZW50KENhbWVyYSkhO1xuICAgICAgICBjb25zdCBjYW1lcmEgPSBjYW1lcmFDb21wb25lbnQuY2FtZXJhO1xuICAgICAgICBpZiAoY2FtZXJhKSB7XG4gICAgICAgICAgICBjYW1lcmEucGlwZWxpbmVTZXR0aW5ncyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEVESVRPUikge1xuICAgICAgICAgICAgdGhpcy5fZGlzYWJsZUVkaXRvclByZXZpZXcoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEVkaXRvciBQcmV2aWV3XG4gICAgQHByb3BlcnR5KENDQm9vbGVhbilcbiAgICBwcm90ZWN0ZWQgX2VkaXRvclByZXZpZXcgPSBmYWxzZTtcblxuICAgIEBwcm9wZXJ0eSh7XG4gICAgICAgIGRpc3BsYXlOYW1lOiAnRWRpdG9yIFByZXZpZXcgKEV4cGVyaW1lbnRhbCknLFxuICAgICAgICB0eXBlOiBDQ0Jvb2xlYW4sXG4gICAgfSlcbiAgICBnZXQgZWRpdG9yUHJldmlldygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VkaXRvclByZXZpZXc7XG4gICAgfVxuICAgIHNldCBlZGl0b3JQcmV2aWV3KHY6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5fZWRpdG9yUHJldmlldyA9IHY7XG4gICAgICAgIGlmIChFRElUT1IpIHtcbiAgICAgICAgICAgIHRoaXMuX3RyeUVuYWJsZUVkaXRvclByZXZpZXcoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwdWJsaWMgX3RyeUVuYWJsZUVkaXRvclByZXZpZXcoKTogdm9pZCB7XG4gICAgICAgIGlmIChyZW5kZXJpbmcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9lZGl0b3JQcmV2aWV3KSB7XG4gICAgICAgICAgICByZW5kZXJpbmcuc2V0RWRpdG9yUGlwZWxpbmVTZXR0aW5ncyh0aGlzLl9zZXR0aW5ncyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9kaXNhYmxlRWRpdG9yUHJldmlldygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHB1YmxpYyBfZGlzYWJsZUVkaXRvclByZXZpZXcoKTogdm9pZCB7XG4gICAgICAgIGlmIChyZW5kZXJpbmcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSByZW5kZXJpbmcuZ2V0RWRpdG9yUGlwZWxpbmVTZXR0aW5ncygpIGFzIFBpcGVsaW5lU2V0dGluZ3MgfCBudWxsO1xuICAgICAgICBpZiAoY3VycmVudCA9PT0gdGhpcy5fc2V0dGluZ3MpIHtcbiAgICAgICAgICAgIHJlbmRlcmluZy5zZXRFZGl0b3JQaXBlbGluZVNldHRpbmdzKG51bGwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gTVNBQVxuICAgIEBwcm9wZXJ0eSh7XG4gICAgICAgIGdyb3VwOiB7IGlkOiAnTVNBQScsIG5hbWU6ICdNdWx0aXNhbXBsZSBBbnRpLUFsaWFzaW5nJyB9LFxuICAgICAgICB0eXBlOiBDQ0Jvb2xlYW4sXG4gICAgfSlcbiAgICBnZXQgTXNhYUVuYWJsZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NldHRpbmdzLm1zYWEuZW5hYmxlZDtcbiAgICB9XG4gICAgc2V0IE1zYWFFbmFibGUodmFsdWU6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5fc2V0dGluZ3MubXNhYS5lbmFibGVkID0gdmFsdWU7XG4gICAgICAgIGlmIChFRElUT1IpIHtcbiAgICAgICAgICAgIHRoaXMuX3RyeUVuYWJsZUVkaXRvclByZXZpZXcoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBwcm9wZXJ0eSh7XG4gICAgICAgIGdyb3VwOiB7IGlkOiAnTVNBQScsIG5hbWU6ICdNdWx0aXNhbXBsZSBBbnRpLUFsaWFzaW5nJywgc3R5bGU6ICdzZWN0aW9uJyB9LFxuICAgICAgICB0eXBlOiBDQ0ludGVnZXIsXG4gICAgICAgIHJhbmdlOiBbMiwgNCwgMl0sXG4gICAgfSlcbiAgICBzZXQgbXNhYVNhbXBsZUNvdW50KHZhbHVlOiBudW1iZXIpIHtcbiAgICAgICAgdmFsdWUgPSAyICoqIE1hdGguY2VpbChNYXRoLmxvZzIoTWF0aC5tYXgodmFsdWUsIDIpKSk7XG4gICAgICAgIHZhbHVlID0gTWF0aC5taW4odmFsdWUsIDQpO1xuICAgICAgICB0aGlzLl9zZXR0aW5ncy5tc2FhLnNhbXBsZUNvdW50ID0gdmFsdWU7XG4gICAgICAgIGlmIChFRElUT1IpIHtcbiAgICAgICAgICAgIHRoaXMuX3RyeUVuYWJsZUVkaXRvclByZXZpZXcoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgbXNhYVNhbXBsZUNvdW50KCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZXR0aW5ncy5tc2FhLnNhbXBsZUNvdW50O1xuICAgIH1cblxuICAgIC8vIFNoYWRpbmcgU2NhbGVcbiAgICBAcHJvcGVydHkoe1xuICAgICAgICBncm91cDogeyBpZDogJ1NoYWRpbmdTY2FsZScsIG5hbWU6ICdTaGFkaW5nU2NhbGUnLCBzdHlsZTogJ3NlY3Rpb24nIH0sXG4gICAgICAgIHR5cGU6IENDQm9vbGVhbixcbiAgICB9KVxuICAgIHNldCBzaGFkaW5nU2NhbGVFbmFibGUodmFsdWU6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5fc2V0dGluZ3MuZW5hYmxlU2hhZGluZ1NjYWxlID0gdmFsdWU7XG4gICAgICAgIGlmIChFRElUT1IpIHtcbiAgICAgICAgICAgIHRoaXMuX3RyeUVuYWJsZUVkaXRvclByZXZpZXcoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgc2hhZGluZ1NjYWxlRW5hYmxlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2V0dGluZ3MuZW5hYmxlU2hhZGluZ1NjYWxlO1xuICAgIH1cblxuICAgIEBwcm9wZXJ0eSh7XG4gICAgICAgIHRvb2x0aXA6ICdpMThuOnBvc3Rwcm9jZXNzLnNoYWRpbmdTY2FsZScsXG4gICAgICAgIGdyb3VwOiB7IGlkOiAnU2hhZGluZ1NjYWxlJywgbmFtZTogJ1NoYWRpbmdTY2FsZScgfSxcbiAgICAgICAgdHlwZTogQ0NGbG9hdCxcbiAgICAgICAgcmFuZ2U6IFswLjAxLCA0LCAwLjAxXSxcbiAgICAgICAgc2xpZGU6IHRydWUsXG4gICAgfSlcbiAgICBzZXQgc2hhZGluZ1NjYWxlKHZhbHVlOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5fc2V0dGluZ3Muc2hhZGluZ1NjYWxlID0gdmFsdWU7XG4gICAgICAgIGlmIChFRElUT1IpIHtcbiAgICAgICAgICAgIHRoaXMuX3RyeUVuYWJsZUVkaXRvclByZXZpZXcoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgc2hhZGluZ1NjYWxlKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZXR0aW5ncy5zaGFkaW5nU2NhbGU7XG4gICAgfVxuXG4gICAgLy8gQmxvb21cbiAgICBAcHJvcGVydHkoe1xuICAgICAgICBncm91cDogeyBpZDogJ0Jsb29tJywgbmFtZTogJ0Jsb29tIChQb3N0UHJvY2Vzc2luZyknLCBzdHlsZTogJ3NlY3Rpb24nIH0sXG4gICAgICAgIHR5cGU6IENDQm9vbGVhbixcbiAgICB9KVxuICAgIHNldCBibG9vbUVuYWJsZSh2YWx1ZTogYm9vbGVhbikge1xuICAgICAgICB0aGlzLl9zZXR0aW5ncy5ibG9vbS5lbmFibGVkID0gdmFsdWU7XG4gICAgICAgIGlmIChFRElUT1IpIHtcbiAgICAgICAgICAgIHRoaXMuX3RyeUVuYWJsZUVkaXRvclByZXZpZXcoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgYmxvb21FbmFibGUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZXR0aW5ncy5ibG9vbS5lbmFibGVkO1xuICAgIH1cblxuICAgIEB0eXBlKEJsb29tVHlwZSlcbiAgICBAcHJvcGVydHkoe1xuICAgICAgICBncm91cDogeyBpZDogJ0Jsb29tJywgbmFtZTogJ0Jsb29tIChQb3N0UHJvY2Vzc2luZyknLCBzdHlsZTogJ3NlY3Rpb24nIH0sXG4gICAgfSlcbiAgICBzZXQgYmxvb21UeXBlKHZhbHVlOiBCbG9vbVR5cGUpIHtcbiAgICAgICAgdGhpcy5fc2V0dGluZ3MuYmxvb20udHlwZSA9IHZhbHVlO1xuICAgICAgICBpZiAoRURJVE9SKSB7XG4gICAgICAgICAgICB0aGlzLl90cnlFbmFibGVFZGl0b3JQcmV2aWV3KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgYmxvb21UeXBlKCk6IEJsb29tVHlwZSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZXR0aW5ncy5ibG9vbS50eXBlO1xuICAgIH1cblxuICAgIEBwcm9wZXJ0eSh7XG4gICAgICAgIGdyb3VwOiB7IGlkOiAnQmxvb20nLCBuYW1lOiAnQmxvb20gKFBvc3RQcm9jZXNzaW5nKScsIHN0eWxlOiAnc2VjdGlvbicgfSxcbiAgICAgICAgdHlwZTogTWF0ZXJpYWwsXG4gICAgfSlcbiAgICBzZXQga2F3YXNlQmxvb21NYXRlcmlhbCh2YWx1ZTogTWF0ZXJpYWwpIHtcbiAgICAgICAgaWYgKHRoaXMuX3NldHRpbmdzLmJsb29tLmthd2FzZUZpbHRlck1hdGVyaWFsID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3NldHRpbmdzLmJsb29tLmthd2FzZUZpbHRlck1hdGVyaWFsID0gdmFsdWU7XG4gICAgICAgIGlmIChFRElUT1IpIHtcbiAgICAgICAgICAgIHRoaXMuX3RyeUVuYWJsZUVkaXRvclByZXZpZXcoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQga2F3YXNlQmxvb21NYXRlcmlhbCgpOiBNYXRlcmlhbCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZXR0aW5ncy5ibG9vbS5rYXdhc2VGaWx0ZXJNYXRlcmlhbCE7XG4gICAgfVxuXG4gICAgQHByb3BlcnR5KHtcbiAgICAgICAgZ3JvdXA6IHsgaWQ6ICdCbG9vbScsIG5hbWU6ICdCbG9vbSAoUG9zdFByb2Nlc3NpbmcpJywgc3R5bGU6ICdzZWN0aW9uJyB9LFxuICAgICAgICB0eXBlOiBNYXRlcmlhbCxcbiAgICB9KVxuICAgIHNldCBtaXBtYXBCbG9vbU1hdGVyaWFsKHZhbHVlOiBNYXRlcmlhbCkge1xuICAgICAgICBpZiAodGhpcy5fc2V0dGluZ3MuYmxvb20ubWlwbWFwRmlsdGVyTWF0ZXJpYWwgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc2V0dGluZ3MuYmxvb20ubWlwbWFwRmlsdGVyTWF0ZXJpYWwgPSB2YWx1ZTtcbiAgICAgICAgaWYgKEVESVRPUikge1xuICAgICAgICAgICAgdGhpcy5fdHJ5RW5hYmxlRWRpdG9yUHJldmlldygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBtaXBtYXBCbG9vbU1hdGVyaWFsKCk6IE1hdGVyaWFsIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NldHRpbmdzLmJsb29tLm1pcG1hcEZpbHRlck1hdGVyaWFsITtcbiAgICB9XG5cbiAgICBAcHJvcGVydHkoe1xuICAgICAgICB0b29sdGlwOiAnaTE4bjpibG9vbS5lbmFibGVBbHBoYU1hc2snLFxuICAgICAgICBncm91cDogeyBpZDogJ0Jsb29tJywgbmFtZTogJ0Jsb29tIChQb3N0UHJvY2Vzc2luZyknLCBzdHlsZTogJ3NlY3Rpb24nIH0sXG4gICAgICAgIHR5cGU6IENDQm9vbGVhbixcbiAgICB9KVxuICAgIHNldCBibG9vbUVuYWJsZUFscGhhTWFzayh2YWx1ZTogYm9vbGVhbikge1xuICAgICAgICB0aGlzLl9zZXR0aW5ncy5ibG9vbS5lbmFibGVBbHBoYU1hc2sgPSB2YWx1ZTtcbiAgICAgICAgaWYgKEVESVRPUikge1xuICAgICAgICAgICAgdGhpcy5fdHJ5RW5hYmxlRWRpdG9yUHJldmlldygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBibG9vbUVuYWJsZUFscGhhTWFzaygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NldHRpbmdzLmJsb29tLmVuYWJsZUFscGhhTWFzaztcbiAgICB9XG5cbiAgICBAcHJvcGVydHkoe1xuICAgICAgICB0b29sdGlwOiAnaTE4bjpibG9vbS5pdGVyYXRpb25zJyxcbiAgICAgICAgZ3JvdXA6IHsgaWQ6ICdCbG9vbScsIG5hbWU6ICdCbG9vbSAoUG9zdFByb2Nlc3NpbmcpJywgc3R5bGU6ICdzZWN0aW9uJyB9LFxuICAgICAgICB0eXBlOiBDQ0ludGVnZXIsXG4gICAgICAgIHJhbmdlOiBbMSwgNiwgMV0sXG4gICAgICAgIHNsaWRlOiB0cnVlLFxuICAgIH0pXG4gICAgc2V0IGJsb29tSXRlcmF0aW9ucyh2YWx1ZTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuX3NldHRpbmdzLmJsb29tLml0ZXJhdGlvbnMgPSB2YWx1ZTtcbiAgICAgICAgaWYgKEVESVRPUikge1xuICAgICAgICAgICAgdGhpcy5fdHJ5RW5hYmxlRWRpdG9yUHJldmlldygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBibG9vbUl0ZXJhdGlvbnMoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NldHRpbmdzLmJsb29tLml0ZXJhdGlvbnM7XG4gICAgfVxuXG4gICAgQHByb3BlcnR5KHtcbiAgICAgICAgdG9vbHRpcDogJ2kxOG46Ymxvb20udGhyZXNob2xkJyxcbiAgICAgICAgZ3JvdXA6IHsgaWQ6ICdCbG9vbScsIG5hbWU6ICdCbG9vbSAoUG9zdFByb2Nlc3NpbmcpJywgc3R5bGU6ICdzZWN0aW9uJyB9LFxuICAgICAgICB0eXBlOiBDQ0Zsb2F0LFxuICAgICAgICBtaW46IDAsXG4gICAgfSlcbiAgICBzZXQgYmxvb21UaHJlc2hvbGQodmFsdWU6IG51bWJlcikge1xuICAgICAgICB0aGlzLl9zZXR0aW5ncy5ibG9vbS50aHJlc2hvbGQgPSB2YWx1ZTtcbiAgICB9XG4gICAgZ2V0IGJsb29tVGhyZXNob2xkKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZXR0aW5ncy5ibG9vbS50aHJlc2hvbGQ7XG4gICAgfVxuXG4gICAgQHR5cGUoQ0NGbG9hdClcbiAgICBAcHJvcGVydHkoe1xuICAgICAgICBncm91cDogeyBpZDogJ0Jsb29tJywgbmFtZTogJ0Jsb29tIChQb3N0UHJvY2Vzc2luZyknLCBzdHlsZTogJ3NlY3Rpb24nIH0sXG4gICAgfSlcbiAgICBzZXQgYmxvb21JbnRlbnNpdHkodmFsdWU6IG51bWJlcikge1xuICAgICAgICB0aGlzLl9zZXR0aW5ncy5ibG9vbS5pbnRlbnNpdHkgPSB2YWx1ZTtcbiAgICAgICAgaWYgKEVESVRPUikge1xuICAgICAgICAgICAgdGhpcy5fdHJ5RW5hYmxlRWRpdG9yUHJldmlldygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBibG9vbUludGVuc2l0eSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2V0dGluZ3MuYmxvb20uaW50ZW5zaXR5O1xuICAgIH1cblxuICAgIC8vIENvbG9yIEdyYWRpbmcgKExEUilcbiAgICBAcHJvcGVydHkoe1xuICAgICAgICBncm91cDogeyBpZDogJ0NvbG9yIEdyYWRpbmcnLCBuYW1lOiAnQ29sb3JHcmFkaW5nIChMRFIpIChQb3N0UHJvY2Vzc2luZyknLCBzdHlsZTogJ3NlY3Rpb24nIH0sXG4gICAgICAgIHR5cGU6IENDQm9vbGVhbixcbiAgICB9KVxuICAgIHNldCBjb2xvckdyYWRpbmdFbmFibGUodmFsdWU6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5fc2V0dGluZ3MuY29sb3JHcmFkaW5nLmVuYWJsZWQgPSB2YWx1ZTtcbiAgICAgICAgaWYgKEVESVRPUikge1xuICAgICAgICAgICAgdGhpcy5fdHJ5RW5hYmxlRWRpdG9yUHJldmlldygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBjb2xvckdyYWRpbmdFbmFibGUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZXR0aW5ncy5jb2xvckdyYWRpbmcuZW5hYmxlZDtcbiAgICB9XG5cbiAgICBAcHJvcGVydHkoe1xuICAgICAgICBncm91cDogeyBpZDogJ0NvbG9yIEdyYWRpbmcnLCBuYW1lOiAnQ29sb3JHcmFkaW5nIChMRFIpIChQb3N0UHJvY2Vzc2luZyknLCBzdHlsZTogJ3NlY3Rpb24nIH0sXG4gICAgICAgIHR5cGU6IE1hdGVyaWFsLFxuICAgIH0pXG4gICAgc2V0IGNvbG9yR3JhZGluZ01hdGVyaWFsKHZhbHVlOiBNYXRlcmlhbCkge1xuICAgICAgICBpZiAodGhpcy5fc2V0dGluZ3MuY29sb3JHcmFkaW5nLm1hdGVyaWFsID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3NldHRpbmdzLmNvbG9yR3JhZGluZy5tYXRlcmlhbCA9IHZhbHVlO1xuICAgICAgICBpZiAoRURJVE9SKSB7XG4gICAgICAgICAgICB0aGlzLl90cnlFbmFibGVFZGl0b3JQcmV2aWV3KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGNvbG9yR3JhZGluZ01hdGVyaWFsKCk6IE1hdGVyaWFsIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NldHRpbmdzLmNvbG9yR3JhZGluZy5tYXRlcmlhbCE7XG4gICAgfVxuXG4gICAgQHByb3BlcnR5KHtcbiAgICAgICAgdG9vbHRpcDogJ2kxOG46Y29sb3JfZ3JhZGluZy5jb250cmlidXRlJyxcbiAgICAgICAgZ3JvdXA6IHsgaWQ6ICdDb2xvciBHcmFkaW5nJywgbmFtZTogJ0NvbG9yR3JhZGluZyAoTERSKSAoUG9zdFByb2Nlc3NpbmcpJywgc3R5bGU6ICdzZWN0aW9uJyB9LFxuICAgICAgICB0eXBlOiBDQ0Zsb2F0LFxuICAgICAgICByYW5nZTogWzAsIDEsIDAuMDFdLFxuICAgICAgICBzbGlkZTogdHJ1ZSxcbiAgICB9KVxuICAgIHNldCBjb2xvckdyYWRpbmdDb250cmlidXRlKHZhbHVlOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5fc2V0dGluZ3MuY29sb3JHcmFkaW5nLmNvbnRyaWJ1dGUgPSB2YWx1ZTtcbiAgICB9XG4gICAgZ2V0IGNvbG9yR3JhZGluZ0NvbnRyaWJ1dGUoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NldHRpbmdzLmNvbG9yR3JhZGluZy5jb250cmlidXRlO1xuICAgIH1cblxuICAgIEBwcm9wZXJ0eSh7XG4gICAgICAgIHRvb2x0aXA6ICdpMThuOmNvbG9yX2dyYWRpbmcub3JpZ2luYWxNYXAnLFxuICAgICAgICBncm91cDogeyBpZDogJ0NvbG9yIEdyYWRpbmcnLCBuYW1lOiAnQ29sb3JHcmFkaW5nIChMRFIpIChQb3N0UHJvY2Vzc2luZyknLCBzdHlsZTogJ3NlY3Rpb24nIH0sXG4gICAgICAgIHR5cGU6IFRleHR1cmUyRCxcbiAgICB9KVxuICAgIHNldCBjb2xvckdyYWRpbmdNYXAodmFsOiBUZXh0dXJlMkQpIHtcbiAgICAgICAgdGhpcy5fc2V0dGluZ3MuY29sb3JHcmFkaW5nLmNvbG9yR3JhZGluZ01hcCA9IHZhbDtcbiAgICAgICAgaWYgKEVESVRPUikge1xuICAgICAgICAgICAgdGhpcy5fdHJ5RW5hYmxlRWRpdG9yUHJldmlldygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBjb2xvckdyYWRpbmdNYXAoKTogVGV4dHVyZTJEIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NldHRpbmdzLmNvbG9yR3JhZGluZy5jb2xvckdyYWRpbmdNYXAhO1xuICAgIH1cblxuICAgIC8vIEZYQUFcbiAgICBAcHJvcGVydHkoe1xuICAgICAgICBncm91cDogeyBpZDogJ0ZYQUEnLCBuYW1lOiAnRmFzdCBBcHByb3hpbWF0ZSBBbnRpLUFsaWFzaW5nIChQb3N0UHJvY2Vzc2luZyknLCBzdHlsZTogJ3NlY3Rpb24nIH0sXG4gICAgICAgIHR5cGU6IENDQm9vbGVhbixcbiAgICB9KVxuICAgIHNldCBmeGFhRW5hYmxlKHZhbHVlOiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuX3NldHRpbmdzLmZ4YWEuZW5hYmxlZCA9IHZhbHVlO1xuICAgICAgICBpZiAoRURJVE9SKSB7XG4gICAgICAgICAgICB0aGlzLl90cnlFbmFibGVFZGl0b3JQcmV2aWV3KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGZ4YWFFbmFibGUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZXR0aW5ncy5meGFhLmVuYWJsZWQ7XG4gICAgfVxuXG4gICAgQHByb3BlcnR5KHtcbiAgICAgICAgZ3JvdXA6IHsgaWQ6ICdGWEFBJywgbmFtZTogJ0Zhc3QgQXBwcm94aW1hdGUgQW50aS1BbGlhc2luZyAoUG9zdFByb2Nlc3NpbmcpJywgc3R5bGU6ICdzZWN0aW9uJyB9LFxuICAgICAgICB0eXBlOiBNYXRlcmlhbCxcbiAgICB9KVxuICAgIHNldCBmeGFhTWF0ZXJpYWwodmFsdWU6IE1hdGVyaWFsKSB7XG4gICAgICAgIGlmICh0aGlzLl9zZXR0aW5ncy5meGFhLm1hdGVyaWFsID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3NldHRpbmdzLmZ4YWEubWF0ZXJpYWwgPSB2YWx1ZTtcbiAgICAgICAgaWYgKEVESVRPUikge1xuICAgICAgICAgICAgdGhpcy5fdHJ5RW5hYmxlRWRpdG9yUHJldmlldygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBmeGFhTWF0ZXJpYWwoKTogTWF0ZXJpYWwge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2V0dGluZ3MuZnhhYS5tYXRlcmlhbCE7XG4gICAgfVxuXG4gICAgLy8gRlNSXG4gICAgQHByb3BlcnR5KHtcbiAgICAgICAgZ3JvdXA6IHsgaWQ6ICdGU1InLCBuYW1lOiAnRmlkZWxpdHlGWCBTdXBlciBSZXNvbHV0aW9uJywgc3R5bGU6ICdzZWN0aW9uJyB9LFxuICAgICAgICB0eXBlOiBDQ0Jvb2xlYW4sXG4gICAgfSlcbiAgICBzZXQgZnNyRW5hYmxlKHZhbHVlOiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuX3NldHRpbmdzLmZzci5lbmFibGVkID0gdmFsdWU7XG4gICAgICAgIGlmIChFRElUT1IpIHtcbiAgICAgICAgICAgIHRoaXMuX3RyeUVuYWJsZUVkaXRvclByZXZpZXcoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgZnNyRW5hYmxlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2V0dGluZ3MuZnNyLmVuYWJsZWQ7XG4gICAgfVxuXG4gICAgQHByb3BlcnR5KHtcbiAgICAgICAgZ3JvdXA6IHsgaWQ6ICdGU1InLCBuYW1lOiAnRmlkZWxpdHlGWCBTdXBlciBSZXNvbHV0aW9uJywgc3R5bGU6ICdzZWN0aW9uJyB9LFxuICAgICAgICB0eXBlOiBNYXRlcmlhbCxcbiAgICB9KVxuICAgIHNldCBmc3JNYXRlcmlhbCh2YWx1ZTogTWF0ZXJpYWwpIHtcbiAgICAgICAgaWYgKHRoaXMuX3NldHRpbmdzLmZzci5tYXRlcmlhbCA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zZXR0aW5ncy5mc3IubWF0ZXJpYWwgPSB2YWx1ZTtcbiAgICAgICAgaWYgKEVESVRPUikge1xuICAgICAgICAgICAgdGhpcy5fdHJ5RW5hYmxlRWRpdG9yUHJldmlldygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBmc3JNYXRlcmlhbCgpOiBNYXRlcmlhbCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZXR0aW5ncy5mc3IubWF0ZXJpYWwhO1xuICAgIH1cblxuICAgIEBwcm9wZXJ0eSh7XG4gICAgICAgIGdyb3VwOiB7IGlkOiAnRlNSJywgbmFtZTogJ0ZpZGVsaXR5RlggU3VwZXIgUmVzb2x1dGlvbicsIHN0eWxlOiAnc2VjdGlvbicgfSxcbiAgICAgICAgdHlwZTogQ0NGbG9hdCxcbiAgICAgICAgcmFuZ2U6IFswLCAxLCAwLjAxXSxcbiAgICAgICAgc2xpZGU6IHRydWUsXG4gICAgfSlcbiAgICBzZXQgZnNyU2hhcnBuZXNzKHZhbHVlOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5fc2V0dGluZ3MuZnNyLnNoYXJwbmVzcyA9IHZhbHVlO1xuICAgIH1cbiAgICBnZXQgZnNyU2hhcnBuZXNzKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZXR0aW5ncy5mc3Iuc2hhcnBuZXNzO1xuICAgIH1cblxuICAgIEBwcm9wZXJ0eSh7XG4gICAgICAgIGdyb3VwOiB7IGlkOiAnVG9uZU1hcHBpbmcnLCBuYW1lOiAnVG9uZU1hcHBpbmcnLCBzdHlsZTogJ3NlY3Rpb24nIH0sXG4gICAgICAgIHR5cGU6IE1hdGVyaWFsLFxuICAgIH0pXG4gICAgc2V0IHRvbmVNYXBwaW5nTWF0ZXJpYWwodmFsdWU6IE1hdGVyaWFsKSB7XG4gICAgICAgIGlmICh0aGlzLl9zZXR0aW5ncy50b25lTWFwcGluZy5tYXRlcmlhbCA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zZXR0aW5ncy50b25lTWFwcGluZy5tYXRlcmlhbCA9IHZhbHVlO1xuICAgICAgICBpZiAoRURJVE9SKSB7XG4gICAgICAgICAgICB0aGlzLl90cnlFbmFibGVFZGl0b3JQcmV2aWV3KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IHRvbmVNYXBwaW5nTWF0ZXJpYWwoKTogTWF0ZXJpYWwge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2V0dGluZ3MudG9uZU1hcHBpbmcubWF0ZXJpYWwhO1xuICAgIH1cbn1cbiIsIi8qXG4gQ29weXJpZ2h0IChjKSAyMDIxLTIwMjQgWGlhbWVuIFlhamkgU29mdHdhcmUgQ28uLCBMdGQuXG5cbiBodHRwczovL3d3dy5jb2Nvcy5jb20vXG5cbiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG9cbiB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllc1xuIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbyxcbiBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcblxuIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG5cbiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuIFRIRSBTT0ZUV0FSRS5cbiovXG5cbmltcG9ydCB7XG4gICAgYXNzZXJ0LCBjY2xlZ2FjeSwgY2xhbXAsIGdlb21ldHJ5LCBnZngsIExheWVycywgTWF0ZXJpYWwsIHBpcGVsaW5lLFxuICAgIFBpcGVsaW5lRXZlbnRQcm9jZXNzb3IsIFBpcGVsaW5lRXZlbnRUeXBlLCBSZWZsZWN0aW9uUHJvYmVNYW5hZ2VyLCByZW5kZXJlcixcbiAgICByZW5kZXJpbmcsIHN5cywgVmVjMiwgVmVjMywgVmVjNCwgd2Fybixcbn0gZnJvbSAnY2MnO1xuXG5pbXBvcnQgeyBERUJVRywgRURJVE9SIH0gZnJvbSAnY2MvZW52JztcblxuaW1wb3J0IHtcbiAgICBCbG9vbVR5cGUsXG4gICAgbWFrZVBpcGVsaW5lU2V0dGluZ3MsXG4gICAgUGlwZWxpbmVTZXR0aW5ncyxcbn0gZnJvbSAnLi9idWlsdGluLXBpcGVsaW5lLXR5cGVzJztcblxuY29uc3QgeyBBQUJCLCBTcGhlcmUsIGludGVyc2VjdCB9ID0gZ2VvbWV0cnk7XG5jb25zdCB7IENsZWFyRmxhZ0JpdCwgQ29sb3IsIEZvcm1hdCwgRm9ybWF0RmVhdHVyZUJpdCwgTG9hZE9wLCBTdG9yZU9wLCBUZXh0dXJlVHlwZSwgVmlld3BvcnQgfSA9IGdmeDtcbmNvbnN0IHsgc2NlbmUgfSA9IHJlbmRlcmVyO1xuY29uc3QgeyBDYW1lcmFVc2FnZSwgQ1NNTGV2ZWwsIExpZ2h0VHlwZSB9ID0gc2NlbmU7XG5cbmZ1bmN0aW9uIGZvcndhcmROZWVkQ2xlYXJDb2xvcihjYW1lcmE6IHJlbmRlcmVyLnNjZW5lLkNhbWVyYSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhIShjYW1lcmEuY2xlYXJGbGFnICYgKENsZWFyRmxhZ0JpdC5DT0xPUiB8IChDbGVhckZsYWdCaXQuU1RFTkNJTCA8PCAxKSkpO1xufVxuXG5mdW5jdGlvbiBnZXRDc21NYWluTGlnaHRWaWV3cG9ydChcbiAgICBsaWdodDogcmVuZGVyZXIuc2NlbmUuRGlyZWN0aW9uYWxMaWdodCxcbiAgICB3OiBudW1iZXIsXG4gICAgaDogbnVtYmVyLFxuICAgIGxldmVsOiBudW1iZXIsXG4gICAgdnA6IGdmeC5WaWV3cG9ydCxcbiAgICBzY3JlZW5TcGFjZVNpZ25ZOiBudW1iZXIsXG4pOiB2b2lkIHtcbiAgICBpZiAobGlnaHQuc2hhZG93Rml4ZWRBcmVhIHx8IGxpZ2h0LmNzbUxldmVsID09PSBDU01MZXZlbC5MRVZFTF8xKSB7XG4gICAgICAgIHZwLmxlZnQgPSAwO1xuICAgICAgICB2cC50b3AgPSAwO1xuICAgICAgICB2cC53aWR0aCA9IE1hdGgudHJ1bmModyk7XG4gICAgICAgIHZwLmhlaWdodCA9IE1hdGgudHJ1bmMoaCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdnAubGVmdCA9IE1hdGgudHJ1bmMobGV2ZWwgJSAyICogMC41ICogdyk7XG4gICAgICAgIGlmIChzY3JlZW5TcGFjZVNpZ25ZID4gMCkge1xuICAgICAgICAgICAgdnAudG9wID0gTWF0aC50cnVuYygoMSAtIE1hdGguZmxvb3IobGV2ZWwgLyAyKSkgKiAwLjUgKiBoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZwLnRvcCA9IE1hdGgudHJ1bmMoTWF0aC5mbG9vcihsZXZlbCAvIDIpICogMC41ICogaCk7XG4gICAgICAgIH1cbiAgICAgICAgdnAud2lkdGggPSBNYXRoLnRydW5jKDAuNSAqIHcpO1xuICAgICAgICB2cC5oZWlnaHQgPSBNYXRoLnRydW5jKDAuNSAqIGgpO1xuICAgIH1cbiAgICB2cC5sZWZ0ID0gTWF0aC5tYXgoMCwgdnAubGVmdCk7XG4gICAgdnAudG9wID0gTWF0aC5tYXgoMCwgdnAudG9wKTtcbiAgICB2cC53aWR0aCA9IE1hdGgubWF4KDEsIHZwLndpZHRoKTtcbiAgICB2cC5oZWlnaHQgPSBNYXRoLm1heCgxLCB2cC5oZWlnaHQpO1xufVxuXG5leHBvcnQgY2xhc3MgUGlwZWxpbmVDb25maWdzIHtcbiAgICBpc1dlYiA9IGZhbHNlO1xuICAgIGlzV2ViR0wxID0gZmFsc2U7XG4gICAgaXNXZWJHUFUgPSBmYWxzZTtcbiAgICBpc01vYmlsZSA9IGZhbHNlO1xuICAgIGlzSERSID0gZmFsc2U7XG4gICAgdXNlRmxvYXRPdXRwdXQgPSBmYWxzZTtcbiAgICB0b25lTWFwcGluZ1R5cGUgPSAwOyAvLyAwOiBBQ0VTLCAxOiBOb25lXG4gICAgc2hhZG93RW5hYmxlZCA9IGZhbHNlO1xuICAgIHNoYWRvd01hcEZvcm1hdCA9IEZvcm1hdC5SMzJGO1xuICAgIHNoYWRvd01hcFNpemUgPSBuZXcgVmVjMigxLCAxKTtcbiAgICB1c2VQbGFuYXJTaGFkb3cgPSBmYWxzZTtcbiAgICBzY3JlZW5TcGFjZVNpZ25ZID0gMTtcbiAgICBzdXBwb3J0RGVwdGhTYW1wbGUgPSBmYWxzZTtcbiAgICBtb2JpbGVNYXhTcG90TGlnaHRTaGFkb3dNYXBzID0gMTtcblxuICAgIHBsYXRmb3JtID0gbmV3IFZlYzQoMCwgMCwgMCwgMCk7XG59XG5cbmZ1bmN0aW9uIHNldHVwUGlwZWxpbmVDb25maWdzKFxuICAgIHBwbDogcmVuZGVyaW5nLkJhc2ljUGlwZWxpbmUsXG4gICAgY29uZmlnczogUGlwZWxpbmVDb25maWdzLFxuKTogdm9pZCB7XG4gICAgY29uc3Qgc2FtcGxlRmVhdHVyZSA9IEZvcm1hdEZlYXR1cmVCaXQuU0FNUExFRF9URVhUVVJFIHwgRm9ybWF0RmVhdHVyZUJpdC5MSU5FQVJfRklMVEVSO1xuICAgIGNvbnN0IGRldmljZSA9IHBwbC5kZXZpY2U7XG4gICAgLy8gUGxhdGZvcm1cbiAgICBjb25maWdzLmlzV2ViID0gIXN5cy5pc05hdGl2ZTtcbiAgICBjb25maWdzLmlzV2ViR0wxID0gZGV2aWNlLmdmeEFQSSA9PT0gZ2Z4LkFQSS5XRUJHTDtcbiAgICBjb25maWdzLmlzV2ViR1BVID0gZGV2aWNlLmdmeEFQSSA9PT0gZ2Z4LkFQSS5XRUJHUFU7XG4gICAgY29uZmlncy5pc01vYmlsZSA9IHN5cy5pc01vYmlsZTtcblxuICAgIC8vIFJlbmRlcmluZ1xuICAgIGNvbmZpZ3MuaXNIRFIgPSBwcGwucGlwZWxpbmVTY2VuZURhdGEuaXNIRFI7IC8vIEhhcyB0b25lIG1hcHBpbmdcbiAgICBjb25maWdzLnVzZUZsb2F0T3V0cHV0ID0gcHBsLmdldE1hY3JvQm9vbCgnQ0NfVVNFX0ZMT0FUX09VVFBVVCcpO1xuICAgIGNvbmZpZ3MudG9uZU1hcHBpbmdUeXBlID0gcHBsLnBpcGVsaW5lU2NlbmVEYXRhLnBvc3RTZXR0aW5ncy50b25lTWFwcGluZ1R5cGU7XG4gICAgLy8gU2hhZG93XG4gICAgY29uc3Qgc2hhZG93SW5mbyA9IHBwbC5waXBlbGluZVNjZW5lRGF0YS5zaGFkb3dzO1xuICAgIGNvbmZpZ3Muc2hhZG93RW5hYmxlZCA9IHNoYWRvd0luZm8uZW5hYmxlZDtcbiAgICBjb25maWdzLnNoYWRvd01hcEZvcm1hdCA9IHBpcGVsaW5lLnN1cHBvcnRzUjMyRmxvYXRUZXh0dXJlKHBwbC5kZXZpY2UpID8gRm9ybWF0LlIzMkYgOiBGb3JtYXQuUkdCQTg7XG4gICAgY29uZmlncy5zaGFkb3dNYXBTaXplLnNldChzaGFkb3dJbmZvLnNpemUpO1xuICAgIGNvbmZpZ3MudXNlUGxhbmFyU2hhZG93ID0gc2hhZG93SW5mby5lbmFibGVkICYmIHNoYWRvd0luZm8udHlwZSA9PT0gcmVuZGVyZXIuc2NlbmUuU2hhZG93VHlwZS5QbGFuYXI7XG4gICAgLy8gRGV2aWNlXG4gICAgY29uZmlncy5zY3JlZW5TcGFjZVNpZ25ZID0gcHBsLmRldmljZS5jYXBhYmlsaXRpZXMuc2NyZWVuU3BhY2VTaWduWTtcbiAgICBjb25maWdzLnN1cHBvcnREZXB0aFNhbXBsZSA9IChwcGwuZGV2aWNlLmdldEZvcm1hdEZlYXR1cmVzKEZvcm1hdC5ERVBUSF9TVEVOQ0lMKSAmIHNhbXBsZUZlYXR1cmUpID09PSBzYW1wbGVGZWF0dXJlO1xuICAgIC8vIENvbnN0YW50c1xuICAgIGNvbnN0IHNjcmVlblNwYWNlU2lnblkgPSBkZXZpY2UuY2FwYWJpbGl0aWVzLnNjcmVlblNwYWNlU2lnblk7XG4gICAgY29uZmlncy5wbGF0Zm9ybS54ID0gY29uZmlncy5pc01vYmlsZSA/IDEuMCA6IDAuMDtcbiAgICBjb25maWdzLnBsYXRmb3JtLncgPSAoc2NyZWVuU3BhY2VTaWduWSAqIDAuNSArIDAuNSkgPDwgMSB8IChkZXZpY2UuY2FwYWJpbGl0aWVzLmNsaXBTcGFjZVNpZ25ZICogMC41ICsgMC41KTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQaXBlbGluZVNldHRpbmdzMiBleHRlbmRzIFBpcGVsaW5lU2V0dGluZ3Mge1xuICAgIF9wYXNzZXM/OiByZW5kZXJpbmcuUGlwZWxpbmVQYXNzQnVpbGRlcltdO1xufVxuXG5jb25zdCBkZWZhdWx0U2V0dGluZ3MgPSBtYWtlUGlwZWxpbmVTZXR0aW5ncygpO1xuXG5leHBvcnQgY2xhc3MgQ2FtZXJhQ29uZmlncyB7XG4gICAgc2V0dGluZ3M6IFBpcGVsaW5lU2V0dGluZ3MgPSBkZWZhdWx0U2V0dGluZ3M7XG4gICAgLy8gV2luZG93XG4gICAgaXNNYWluR2FtZVdpbmRvdyA9IGZhbHNlO1xuICAgIHJlbmRlcldpbmRvd0lkID0gMDtcbiAgICAvLyBDYW1lcmFcbiAgICBjb2xvck5hbWUgPSAnJztcbiAgICBkZXB0aFN0ZW5jaWxOYW1lID0gJyc7XG4gICAgLy8gUGlwZWxpbmVcbiAgICBlbmFibGVGdWxsUGlwZWxpbmUgPSBmYWxzZTtcbiAgICBlbmFibGVQcm9maWxlciA9IGZhbHNlO1xuICAgIHJlbWFpbmluZ1Bhc3NlcyA9IDA7XG4gICAgLy8gU2hhZGluZyBTY2FsZVxuICAgIGVuYWJsZVNoYWRpbmdTY2FsZSA9IGZhbHNlO1xuICAgIHNoYWRpbmdTY2FsZSA9IDEuMDtcbiAgICBuYXRpdmVXaWR0aCA9IDE7XG4gICAgbmF0aXZlSGVpZ2h0ID0gMTtcbiAgICB3aWR0aCA9IDE7IC8vIFNjYWxlZCB3aWR0aFxuICAgIGhlaWdodCA9IDE7IC8vIFNjYWxlZCBoZWlnaHRcbiAgICAvLyBSYWRpYW5jZVxuICAgIGVuYWJsZUhEUiA9IGZhbHNlO1xuICAgIHJhZGlhbmNlRm9ybWF0ID0gZ2Z4LkZvcm1hdC5SR0JBODtcbiAgICAvLyBUb25lIE1hcHBpbmdcbiAgICBjb3B5QW5kVG9uZW1hcE1hdGVyaWFsOiBNYXRlcmlhbCB8IG51bGwgPSBudWxsO1xuICAgIC8vIERlcHRoXG4gICAgLyoqIEBlbiBtdXRhYmxlICovXG4gICAgZW5hYmxlU3RvcmVTY2VuZURlcHRoID0gZmFsc2U7XG59XG5cbmNvbnN0IHNDbGVhckNvbG9yVHJhbnNwYXJlbnRCbGFjayA9IG5ldyBDb2xvcigwLCAwLCAwLCAwKTtcblxuZnVuY3Rpb24gc29ydFBpcGVsaW5lUGFzc0J1aWxkZXJzQnlDb25maWdPcmRlcihwYXNzQnVpbGRlcnM6IHJlbmRlcmluZy5QaXBlbGluZVBhc3NCdWlsZGVyW10pOiB2b2lkIHtcbiAgICBwYXNzQnVpbGRlcnMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICByZXR1cm4gYS5nZXRDb25maWdPcmRlcigpIC0gYi5nZXRDb25maWdPcmRlcigpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBzb3J0UGlwZWxpbmVQYXNzQnVpbGRlcnNCeVJlbmRlck9yZGVyKHBhc3NCdWlsZGVyczogcmVuZGVyaW5nLlBpcGVsaW5lUGFzc0J1aWxkZXJbXSk6IHZvaWQge1xuICAgIHBhc3NCdWlsZGVycy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgIHJldHVybiBhLmdldFJlbmRlck9yZGVyKCkgLSBiLmdldFJlbmRlck9yZGVyKCk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGFkZENvcHlUb1NjcmVlblBhc3MoXG4gICAgcHBsOiByZW5kZXJpbmcuQmFzaWNQaXBlbGluZSxcbiAgICBwcGxDb25maWdzOiBSZWFkb25seTxQaXBlbGluZUNvbmZpZ3M+LFxuICAgIGNhbWVyYUNvbmZpZ3M6IENhbWVyYUNvbmZpZ3MsXG4gICAgaW5wdXQ6IHN0cmluZyxcbik6IHJlbmRlcmluZy5CYXNpY1JlbmRlclBhc3NCdWlsZGVyIHtcbiAgICBhc3NlcnQoISFjYW1lcmFDb25maWdzLmNvcHlBbmRUb25lbWFwTWF0ZXJpYWwpO1xuICAgIGNvbnN0IHBhc3MgPSBwcGwuYWRkUmVuZGVyUGFzcyhcbiAgICAgICAgY2FtZXJhQ29uZmlncy5uYXRpdmVXaWR0aCxcbiAgICAgICAgY2FtZXJhQ29uZmlncy5uYXRpdmVIZWlnaHQsXG4gICAgICAgICdjYy10b25lLW1hcHBpbmcnKTtcbiAgICBwYXNzLmFkZFJlbmRlclRhcmdldChcbiAgICAgICAgY2FtZXJhQ29uZmlncy5jb2xvck5hbWUsXG4gICAgICAgIExvYWRPcC5DTEVBUiwgU3RvcmVPcC5TVE9SRSxcbiAgICAgICAgc0NsZWFyQ29sb3JUcmFuc3BhcmVudEJsYWNrKTtcbiAgICBwYXNzLmFkZFRleHR1cmUoaW5wdXQsICdpbnB1dFRleHR1cmUnKTtcbiAgICBwYXNzLmFkZFF1ZXVlKHJlbmRlcmluZy5RdWV1ZUhpbnQuT1BBUVVFKVxuICAgICAgICAuYWRkRnVsbHNjcmVlblF1YWQoY2FtZXJhQ29uZmlncy5jb3B5QW5kVG9uZW1hcE1hdGVyaWFsLCAxKTtcbiAgICByZXR1cm4gcGFzcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBpbmdQb25nUmVuZGVyVGFyZ2V0KHByZXZOYW1lOiBzdHJpbmcsIHByZWZpeDogc3RyaW5nLCBpZDogbnVtYmVyKTogc3RyaW5nIHtcbiAgICBpZiAocHJldk5hbWUuc3RhcnRzV2l0aChwcmVmaXgpKSB7XG4gICAgICAgIHJldHVybiBgJHtwcmVmaXh9JHsxIC0gTnVtYmVyKHByZXZOYW1lLmNoYXJBdChwcmVmaXgubGVuZ3RoKSl9XyR7aWR9YDtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gYCR7cHJlZml4fTBfJHtpZH1gO1xuICAgIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBQaXBlbGluZUNvbnRleHQge1xuICAgIGNvbG9yTmFtZTogc3RyaW5nO1xuICAgIGRlcHRoU3RlbmNpbE5hbWU6IHN0cmluZztcbn1cblxuY2xhc3MgRm9yd2FyZExpZ2h0aW5nIHtcbiAgICAvLyBBY3RpdmUgbGlnaHRzXG4gICAgcHJpdmF0ZSByZWFkb25seSBsaWdodHM6IHJlbmRlcmVyLnNjZW5lLkxpZ2h0W10gPSBbXTtcbiAgICAvLyBBY3RpdmUgc3BvdCBsaWdodHMgd2l0aCBzaGFkb3dzIChNdXR1YWxseSBleGNsdXNpdmUgd2l0aCBgbGlnaHRzYClcbiAgICBwcml2YXRlIHJlYWRvbmx5IHNoYWRvd0VuYWJsZWRTcG90TGlnaHRzOiByZW5kZXJlci5zY2VuZS5TcG90TGlnaHRbXSA9IFtdO1xuXG4gICAgLy8gSW50ZXJuYWwgY2FjaGVkIHJlc291cmNlc1xuICAgIHByaXZhdGUgcmVhZG9ubHkgX3NwaGVyZSA9IFNwaGVyZS5jcmVhdGUoMCwgMCwgMCwgMSk7XG4gICAgcHJpdmF0ZSByZWFkb25seSBfYm91bmRpbmdCb3ggPSBuZXcgQUFCQigpO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgX3JhbmdlZERpckxpZ2h0Qm91bmRpbmdCb3ggPSBuZXcgQUFCQigwLjAsIDAuMCwgMC4wLCAwLjUsIDAuNSwgMC41KTtcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyBJbnRlcmZhY2VcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgcHVibGljIGN1bGxMaWdodHMoc2NlbmU6IHJlbmRlcmVyLlJlbmRlclNjZW5lLCBmcnVzdHVtOiBnZW9tZXRyeS5GcnVzdHVtLCBjYW1lcmFQb3M/OiBWZWMzKTogdm9pZCB7XG4gICAgICAgIC8vIFRPRE8oemhvdXpoZW5nbG9uZyk6IE1ha2UgbGlnaHQgY3VsbGluZyBuYXRpdmVcbiAgICAgICAgdGhpcy5saWdodHMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5zaGFkb3dFbmFibGVkU3BvdExpZ2h0cy5sZW5ndGggPSAwO1xuICAgICAgICAvLyBzcG90IGxpZ2h0c1xuICAgICAgICBmb3IgKGNvbnN0IGxpZ2h0IG9mIHNjZW5lLnNwb3RMaWdodHMpIHtcbiAgICAgICAgICAgIGlmIChsaWdodC5iYWtlZCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgU3BoZXJlLnNldCh0aGlzLl9zcGhlcmUsIGxpZ2h0LnBvc2l0aW9uLngsIGxpZ2h0LnBvc2l0aW9uLnksIGxpZ2h0LnBvc2l0aW9uLnosIGxpZ2h0LnJhbmdlKTtcbiAgICAgICAgICAgIGlmIChpbnRlcnNlY3Quc3BoZXJlRnJ1c3R1bSh0aGlzLl9zcGhlcmUsIGZydXN0dW0pKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxpZ2h0LnNoYWRvd0VuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaGFkb3dFbmFibGVkU3BvdExpZ2h0cy5wdXNoKGxpZ2h0KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxpZ2h0cy5wdXNoKGxpZ2h0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gc3BoZXJlIGxpZ2h0c1xuICAgICAgICBmb3IgKGNvbnN0IGxpZ2h0IG9mIHNjZW5lLnNwaGVyZUxpZ2h0cykge1xuICAgICAgICAgICAgaWYgKGxpZ2h0LmJha2VkKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBTcGhlcmUuc2V0KHRoaXMuX3NwaGVyZSwgbGlnaHQucG9zaXRpb24ueCwgbGlnaHQucG9zaXRpb24ueSwgbGlnaHQucG9zaXRpb24ueiwgbGlnaHQucmFuZ2UpO1xuICAgICAgICAgICAgaWYgKGludGVyc2VjdC5zcGhlcmVGcnVzdHVtKHRoaXMuX3NwaGVyZSwgZnJ1c3R1bSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxpZ2h0cy5wdXNoKGxpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBwb2ludCBsaWdodHNcbiAgICAgICAgZm9yIChjb25zdCBsaWdodCBvZiBzY2VuZS5wb2ludExpZ2h0cykge1xuICAgICAgICAgICAgaWYgKGxpZ2h0LmJha2VkKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBTcGhlcmUuc2V0KHRoaXMuX3NwaGVyZSwgbGlnaHQucG9zaXRpb24ueCwgbGlnaHQucG9zaXRpb24ueSwgbGlnaHQucG9zaXRpb24ueiwgbGlnaHQucmFuZ2UpO1xuICAgICAgICAgICAgaWYgKGludGVyc2VjdC5zcGhlcmVGcnVzdHVtKHRoaXMuX3NwaGVyZSwgZnJ1c3R1bSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxpZ2h0cy5wdXNoKGxpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyByYW5nZWQgZGlyIGxpZ2h0c1xuICAgICAgICBmb3IgKGNvbnN0IGxpZ2h0IG9mIHNjZW5lLnJhbmdlZERpckxpZ2h0cykge1xuICAgICAgICAgICAgQUFCQi50cmFuc2Zvcm0odGhpcy5fYm91bmRpbmdCb3gsIHRoaXMuX3JhbmdlZERpckxpZ2h0Qm91bmRpbmdCb3gsIGxpZ2h0Lm5vZGUhLmdldFdvcmxkTWF0cml4KCkpO1xuICAgICAgICAgICAgaWYgKGludGVyc2VjdC5hYWJiRnJ1c3R1bSh0aGlzLl9ib3VuZGluZ0JveCwgZnJ1c3R1bSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxpZ2h0cy5wdXNoKGxpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjYW1lcmFQb3MpIHtcbiAgICAgICAgICAgIHRoaXMuc2hhZG93RW5hYmxlZFNwb3RMaWdodHMuc29ydChcbiAgICAgICAgICAgICAgICAobGhzLCByaHMpID0+IFZlYzMuc3F1YXJlZERpc3RhbmNlKGNhbWVyYVBvcywgbGhzLnBvc2l0aW9uKSAtIFZlYzMuc3F1YXJlZERpc3RhbmNlKGNhbWVyYVBvcywgcmhzLnBvc2l0aW9uKSxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcHJpdmF0ZSBfYWRkTGlnaHRRdWV1ZXMoY2FtZXJhOiByZW5kZXJlci5zY2VuZS5DYW1lcmEsIHBhc3M6IHJlbmRlcmluZy5CYXNpY1JlbmRlclBhc3NCdWlsZGVyKTogdm9pZCB7XG4gICAgICAgIGZvciAoY29uc3QgbGlnaHQgb2YgdGhpcy5saWdodHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXVlID0gcGFzcy5hZGRRdWV1ZShyZW5kZXJpbmcuUXVldWVIaW50LkJMRU5ELCAnZm9yd2FyZC1hZGQnKTtcbiAgICAgICAgICAgIHN3aXRjaCAobGlnaHQudHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgTGlnaHRUeXBlLlNQSEVSRTpcbiAgICAgICAgICAgICAgICAgICAgcXVldWUubmFtZSA9ICdzcGhlcmUtbGlnaHQnO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIExpZ2h0VHlwZS5TUE9UOlxuICAgICAgICAgICAgICAgICAgICBxdWV1ZS5uYW1lID0gJ3Nwb3QtbGlnaHQnO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIExpZ2h0VHlwZS5QT0lOVDpcbiAgICAgICAgICAgICAgICAgICAgcXVldWUubmFtZSA9ICdwb2ludC1saWdodCc7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgTGlnaHRUeXBlLlJBTkdFRF9ESVJFQ1RJT05BTDpcbiAgICAgICAgICAgICAgICAgICAgcXVldWUubmFtZSA9ICdyYW5nZWQtZGlyZWN0aW9uYWwtbGlnaHQnO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBxdWV1ZS5uYW1lID0gJ3Vua25vd24tbGlnaHQnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcXVldWUuYWRkU2NlbmUoXG4gICAgICAgICAgICAgICAgY2FtZXJhLFxuICAgICAgICAgICAgICAgIHJlbmRlcmluZy5TY2VuZUZsYWdzLkJMRU5ELFxuICAgICAgICAgICAgICAgIGxpZ2h0LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwdWJsaWMgYWRkU3BvdGxpZ2h0U2hhZG93UGFzc2VzKFxuICAgICAgICBwcGw6IHJlbmRlcmluZy5CYXNpY1BpcGVsaW5lLFxuICAgICAgICBjYW1lcmE6IHJlbmRlcmVyLnNjZW5lLkNhbWVyYSxcbiAgICAgICAgbWF4TnVtU2hhZG93TWFwczogbnVtYmVyLFxuICAgICk6IHZvaWQge1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgbGlnaHQgb2YgdGhpcy5zaGFkb3dFbmFibGVkU3BvdExpZ2h0cykge1xuICAgICAgICAgICAgY29uc3Qgc2hhZG93TWFwU2l6ZSA9IHBwbC5waXBlbGluZVNjZW5lRGF0YS5zaGFkb3dzLnNpemU7XG4gICAgICAgICAgICBjb25zdCBzaGFkb3dQYXNzID0gcHBsLmFkZFJlbmRlclBhc3Moc2hhZG93TWFwU2l6ZS54LCBzaGFkb3dNYXBTaXplLnksICdkZWZhdWx0Jyk7XG4gICAgICAgICAgICBzaGFkb3dQYXNzLm5hbWUgPSBgU3BvdExpZ2h0U2hhZG93UGFzcyR7aX1gO1xuICAgICAgICAgICAgc2hhZG93UGFzcy5hZGRSZW5kZXJUYXJnZXQoYFNwb3RTaGFkb3dNYXAke2l9YCwgTG9hZE9wLkNMRUFSLCBTdG9yZU9wLlNUT1JFLCBuZXcgQ29sb3IoMSwgMSwgMSwgMSkpO1xuICAgICAgICAgICAgc2hhZG93UGFzcy5hZGREZXB0aFN0ZW5jaWwoYFNwb3RTaGFkb3dEZXB0aCR7aX1gLCBMb2FkT3AuQ0xFQVIsIFN0b3JlT3AuRElTQ0FSRCk7XG4gICAgICAgICAgICBzaGFkb3dQYXNzLmFkZFF1ZXVlKHJlbmRlcmluZy5RdWV1ZUhpbnQuTk9ORSwgJ3NoYWRvdy1jYXN0ZXInKVxuICAgICAgICAgICAgICAgIC5hZGRTY2VuZShjYW1lcmEsIHJlbmRlcmluZy5TY2VuZUZsYWdzLk9QQVFVRSB8IHJlbmRlcmluZy5TY2VuZUZsYWdzLk1BU0sgfCByZW5kZXJpbmcuU2NlbmVGbGFncy5TSEFET1dfQ0FTVEVSKVxuICAgICAgICAgICAgICAgIC51c2VMaWdodEZydXN0dW0obGlnaHQpO1xuICAgICAgICAgICAgKytpO1xuICAgICAgICAgICAgaWYgKGkgPj0gbWF4TnVtU2hhZG93TWFwcykge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHB1YmxpYyBhZGRMaWdodFF1ZXVlcyhwYXNzOiByZW5kZXJpbmcuQmFzaWNSZW5kZXJQYXNzQnVpbGRlcixcbiAgICAgICAgY2FtZXJhOiByZW5kZXJlci5zY2VuZS5DYW1lcmEsIG1heE51bVNoYWRvd01hcHM6IG51bWJlcik6IHZvaWQge1xuICAgICAgICB0aGlzLl9hZGRMaWdodFF1ZXVlcyhjYW1lcmEsIHBhc3MpO1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgbGlnaHQgb2YgdGhpcy5zaGFkb3dFbmFibGVkU3BvdExpZ2h0cykge1xuICAgICAgICAgICAgLy8gQWRkIHNwb3QtbGlnaHQgcGFzc1xuICAgICAgICAgICAgLy8gU2F2ZSBsYXN0IFJlbmRlclBhc3MgdG8gdGhlIGBwYXNzYCB2YXJpYWJsZVxuICAgICAgICAgICAgLy8gVE9ETyh6aG91emhlbmdsb25nKTogRml4IHBlciBxdWV1ZSBhZGRUZXh0dXJlXG4gICAgICAgICAgICBwYXNzLmFkZFRleHR1cmUoYFNwb3RTaGFkb3dNYXAke2l9YCwgJ2NjX3Nwb3RTaGFkb3dNYXAnKTtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXVlID0gcGFzcy5hZGRRdWV1ZShyZW5kZXJpbmcuUXVldWVIaW50LkJMRU5ELCAnZm9yd2FyZC1hZGQnKTtcbiAgICAgICAgICAgIHF1ZXVlLmFkZFNjZW5lKGNhbWVyYSwgcmVuZGVyaW5nLlNjZW5lRmxhZ3MuQkxFTkQsIGxpZ2h0KTtcbiAgICAgICAgICAgICsraTtcbiAgICAgICAgICAgIGlmIChpID49IG1heE51bVNoYWRvd01hcHMpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIE5vdGljZTogRm9yd2FyZExpZ2h0aW5nIGNhbm5vdCBoYW5kbGUgYSBsb3Qgb2YgbGlnaHRzLlxuICAgIC8vIElmIHRoZXJlIGFyZSB0b28gbWFueSBsaWdodHMsIHRoZSBwZXJmb3JtYW5jZSB3aWxsIGJlIHZlcnkgcG9vci5cbiAgICAvLyBJZiBtYW55IGxpZ2h0cyBhcmUgbmVlZGVkLCBwbGVhc2UgaW1wbGVtZW50IGEgZm9yd2FyZCsgb3IgZGVmZXJyZWQgcmVuZGVyaW5nIHBpcGVsaW5lLlxuICAgIHB1YmxpYyBhZGRMaWdodFBhc3NlcyhcbiAgICAgICAgY29sb3JOYW1lOiBzdHJpbmcsXG4gICAgICAgIGRlcHRoU3RlbmNpbE5hbWU6IHN0cmluZyxcbiAgICAgICAgZGVwdGhTdGVuY2lsU3RvcmVPcDogZ2Z4LlN0b3JlT3AsXG4gICAgICAgIGlkOiBudW1iZXIsIC8vIHdpbmRvdyBpZFxuICAgICAgICB3aWR0aDogbnVtYmVyLFxuICAgICAgICBoZWlnaHQ6IG51bWJlcixcbiAgICAgICAgY2FtZXJhOiByZW5kZXJlci5zY2VuZS5DYW1lcmEsXG4gICAgICAgIHZpZXdwb3J0OiBnZnguVmlld3BvcnQsXG4gICAgICAgIHBwbDogcmVuZGVyaW5nLkJhc2ljUGlwZWxpbmUsXG4gICAgICAgIHBhc3M6IHJlbmRlcmluZy5CYXNpY1JlbmRlclBhc3NCdWlsZGVyLFxuICAgICk6IHJlbmRlcmluZy5CYXNpY1JlbmRlclBhc3NCdWlsZGVyIHtcbiAgICAgICAgdGhpcy5fYWRkTGlnaHRRdWV1ZXMoY2FtZXJhLCBwYXNzKTtcblxuICAgICAgICBsZXQgY291bnQgPSAwO1xuICAgICAgICBjb25zdCBzaGFkb3dNYXBTaXplID0gcHBsLnBpcGVsaW5lU2NlbmVEYXRhLnNoYWRvd3Muc2l6ZTtcbiAgICAgICAgZm9yIChjb25zdCBsaWdodCBvZiB0aGlzLnNoYWRvd0VuYWJsZWRTcG90TGlnaHRzKSB7XG4gICAgICAgICAgICBjb25zdCBzaGFkb3dQYXNzID0gcHBsLmFkZFJlbmRlclBhc3Moc2hhZG93TWFwU2l6ZS54LCBzaGFkb3dNYXBTaXplLnksICdkZWZhdWx0Jyk7XG4gICAgICAgICAgICBzaGFkb3dQYXNzLm5hbWUgPSAnU3BvdGxpZ2h0U2hhZG93UGFzcyc7XG4gICAgICAgICAgICAvLyBSZXVzZSBjc20gc2hhZG93IG1hcFxuICAgICAgICAgICAgc2hhZG93UGFzcy5hZGRSZW5kZXJUYXJnZXQoYFNoYWRvd01hcCR7aWR9YCwgTG9hZE9wLkNMRUFSLCBTdG9yZU9wLlNUT1JFLCBuZXcgQ29sb3IoMSwgMSwgMSwgMSkpO1xuICAgICAgICAgICAgc2hhZG93UGFzcy5hZGREZXB0aFN0ZW5jaWwoYFNoYWRvd0RlcHRoJHtpZH1gLCBMb2FkT3AuQ0xFQVIsIFN0b3JlT3AuRElTQ0FSRCk7XG4gICAgICAgICAgICBzaGFkb3dQYXNzLmFkZFF1ZXVlKHJlbmRlcmluZy5RdWV1ZUhpbnQuTk9ORSwgJ3NoYWRvdy1jYXN0ZXInKVxuICAgICAgICAgICAgICAgIC5hZGRTY2VuZShjYW1lcmEsIHJlbmRlcmluZy5TY2VuZUZsYWdzLk9QQVFVRSB8IHJlbmRlcmluZy5TY2VuZUZsYWdzLk1BU0sgfCByZW5kZXJpbmcuU2NlbmVGbGFncy5TSEFET1dfQ0FTVEVSKVxuICAgICAgICAgICAgICAgIC51c2VMaWdodEZydXN0dW0obGlnaHQpO1xuXG4gICAgICAgICAgICAvLyBBZGQgc3BvdC1saWdodCBwYXNzXG4gICAgICAgICAgICAvLyBTYXZlIGxhc3QgUmVuZGVyUGFzcyB0byB0aGUgYHBhc3NgIHZhcmlhYmxlXG4gICAgICAgICAgICArK2NvdW50O1xuICAgICAgICAgICAgY29uc3Qgc3RvcmVPcCA9IGNvdW50ID09PSB0aGlzLnNoYWRvd0VuYWJsZWRTcG90TGlnaHRzLmxlbmd0aFxuICAgICAgICAgICAgICAgID8gZGVwdGhTdGVuY2lsU3RvcmVPcFxuICAgICAgICAgICAgICAgIDogU3RvcmVPcC5TVE9SRTtcblxuICAgICAgICAgICAgcGFzcyA9IHBwbC5hZGRSZW5kZXJQYXNzKHdpZHRoLCBoZWlnaHQsICdkZWZhdWx0Jyk7XG4gICAgICAgICAgICBwYXNzLm5hbWUgPSAnU3BvdGxpZ2h0V2l0aFNoYWRvd01hcCc7XG4gICAgICAgICAgICBwYXNzLnNldFZpZXdwb3J0KHZpZXdwb3J0KTtcbiAgICAgICAgICAgIHBhc3MuYWRkUmVuZGVyVGFyZ2V0KGNvbG9yTmFtZSwgTG9hZE9wLkxPQUQpO1xuICAgICAgICAgICAgcGFzcy5hZGREZXB0aFN0ZW5jaWwoZGVwdGhTdGVuY2lsTmFtZSwgTG9hZE9wLkxPQUQsIHN0b3JlT3ApO1xuICAgICAgICAgICAgcGFzcy5hZGRUZXh0dXJlKGBTaGFkb3dNYXAke2lkfWAsICdjY19zcG90U2hhZG93TWFwJyk7XG4gICAgICAgICAgICBjb25zdCBxdWV1ZSA9IHBhc3MuYWRkUXVldWUocmVuZGVyaW5nLlF1ZXVlSGludC5CTEVORCwgJ2ZvcndhcmQtYWRkJyk7XG4gICAgICAgICAgICBxdWV1ZS5hZGRTY2VuZShcbiAgICAgICAgICAgICAgICBjYW1lcmEsXG4gICAgICAgICAgICAgICAgcmVuZGVyaW5nLlNjZW5lRmxhZ3MuQkxFTkQsXG4gICAgICAgICAgICAgICAgbGlnaHQsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXNzO1xuICAgIH1cblxuICAgIHB1YmxpYyBpc011bHRpcGxlTGlnaHRQYXNzZXNOZWVkZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLnNoYWRvd0VuYWJsZWRTcG90TGlnaHRzLmxlbmd0aCA+IDA7XG4gICAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZvcndhcmRQYXNzQ29uZmlncyB7XG4gICAgZW5hYmxlTWFpbkxpZ2h0U2hhZG93TWFwOiBib29sZWFuO1xuICAgIGVuYWJsZU1haW5MaWdodFBsYW5hclNoYWRvd01hcDogYm9vbGVhbjtcbiAgICBlbmFibGVQbGFuYXJSZWZsZWN0aW9uUHJvYmU6IGJvb2xlYW47XG4gICAgZW5hYmxlTVNBQTogYm9vbGVhbjtcbiAgICBlbmFibGVTaW5nbGVGb3J3YXJkUGFzczogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNsYXNzIEJ1aWx0aW5Gb3J3YXJkUGFzc0J1aWxkZXIgaW1wbGVtZW50cyByZW5kZXJpbmcuUGlwZWxpbmVQYXNzQnVpbGRlciB7XG4gICAgc3RhdGljIENvbmZpZ09yZGVyID0gMTAwO1xuICAgIHN0YXRpYyBSZW5kZXJPcmRlciA9IDEwMDtcbiAgICBnZXRDb25maWdPcmRlcigpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gQnVpbHRpbkZvcndhcmRQYXNzQnVpbGRlci5Db25maWdPcmRlcjtcbiAgICB9XG4gICAgZ2V0UmVuZGVyT3JkZXIoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIEJ1aWx0aW5Gb3J3YXJkUGFzc0J1aWxkZXIuUmVuZGVyT3JkZXI7XG4gICAgfVxuICAgIGNvbmZpZ0NhbWVyYShcbiAgICAgICAgY2FtZXJhOiBSZWFkb25seTxyZW5kZXJlci5zY2VuZS5DYW1lcmE+LFxuICAgICAgICBwaXBlbGluZUNvbmZpZ3M6IFJlYWRvbmx5PFBpcGVsaW5lQ29uZmlncz4sXG4gICAgICAgIGNhbWVyYUNvbmZpZ3M6IENhbWVyYUNvbmZpZ3MgJiBGb3J3YXJkUGFzc0NvbmZpZ3MpOiB2b2lkIHtcbiAgICAgICAgLy8gU2hhZG93XG4gICAgICAgIGNhbWVyYUNvbmZpZ3MuZW5hYmxlTWFpbkxpZ2h0U2hhZG93TWFwID0gcGlwZWxpbmVDb25maWdzLnNoYWRvd0VuYWJsZWRcbiAgICAgICAgICAgICYmICFwaXBlbGluZUNvbmZpZ3MudXNlUGxhbmFyU2hhZG93XG4gICAgICAgICAgICAmJiAhIWNhbWVyYS5zY2VuZVxuICAgICAgICAgICAgJiYgISFjYW1lcmEuc2NlbmUubWFpbkxpZ2h0XG4gICAgICAgICAgICAmJiBjYW1lcmEuc2NlbmUubWFpbkxpZ2h0LnNoYWRvd0VuYWJsZWQ7XG5cbiAgICAgICAgY2FtZXJhQ29uZmlncy5lbmFibGVNYWluTGlnaHRQbGFuYXJTaGFkb3dNYXAgPSBwaXBlbGluZUNvbmZpZ3Muc2hhZG93RW5hYmxlZFxuICAgICAgICAgICAgJiYgcGlwZWxpbmVDb25maWdzLnVzZVBsYW5hclNoYWRvd1xuICAgICAgICAgICAgJiYgISFjYW1lcmEuc2NlbmVcbiAgICAgICAgICAgICYmICEhY2FtZXJhLnNjZW5lLm1haW5MaWdodFxuICAgICAgICAgICAgJiYgY2FtZXJhLnNjZW5lLm1haW5MaWdodC5zaGFkb3dFbmFibGVkO1xuXG4gICAgICAgIC8vIFJlZmxlY3Rpb24gUHJvYmVcbiAgICAgICAgY2FtZXJhQ29uZmlncy5lbmFibGVQbGFuYXJSZWZsZWN0aW9uUHJvYmUgPSBjYW1lcmFDb25maWdzLmlzTWFpbkdhbWVXaW5kb3dcbiAgICAgICAgICAgIHx8IGNhbWVyYS5jYW1lcmFVc2FnZSA9PT0gQ2FtZXJhVXNhZ2UuU0NFTkVfVklFV1xuICAgICAgICAgICAgfHwgY2FtZXJhLmNhbWVyYVVzYWdlID09PSBDYW1lcmFVc2FnZS5HQU1FX1ZJRVc7XG5cbiAgICAgICAgLy8gTVNBQVxuICAgICAgICBjYW1lcmFDb25maWdzLmVuYWJsZU1TQUEgPSBjYW1lcmFDb25maWdzLnNldHRpbmdzLm1zYWEuZW5hYmxlZFxuICAgICAgICAgICAgJiYgIWNhbWVyYUNvbmZpZ3MuZW5hYmxlU3RvcmVTY2VuZURlcHRoIC8vIENhbm5vdCBzdG9yZSBNUyBkZXB0aCwgcmVzb2x2ZSBkZXB0aCBpcyBhbHNvIG5vdCBjcm9zcy1wbGF0Zm9ybVxuICAgICAgICAgICAgJiYgIXBpcGVsaW5lQ29uZmlncy5pc1dlYiAvLyBUT0RPKHpob3V6aGVuZ2xvbmcpOiByZW1vdmUgdGhpcyBjb25zdHJhaW50XG4gICAgICAgICAgICAmJiAhcGlwZWxpbmVDb25maWdzLmlzV2ViR0wxO1xuXG4gICAgICAgIC8vIEZvcndhcmQgcmVuZGVyaW5nIChEZXBlbmQgb24gTVNBQSBhbmQgVEJSKVxuICAgICAgICBjYW1lcmFDb25maWdzLmVuYWJsZVNpbmdsZUZvcndhcmRQYXNzXG4gICAgICAgICAgICA9IHBpcGVsaW5lQ29uZmlncy5pc01vYmlsZSB8fCBjYW1lcmFDb25maWdzLmVuYWJsZU1TQUE7XG5cbiAgICAgICAgKytjYW1lcmFDb25maWdzLnJlbWFpbmluZ1Bhc3NlcztcbiAgICB9XG4gICAgd2luZG93UmVzaXplKFxuICAgICAgICBwcGw6IHJlbmRlcmluZy5CYXNpY1BpcGVsaW5lLFxuICAgICAgICBwcGxDb25maWdzOiBSZWFkb25seTxQaXBlbGluZUNvbmZpZ3M+LFxuICAgICAgICBjYW1lcmFDb25maWdzOiBSZWFkb25seTxDYW1lcmFDb25maWdzICYgRm9yd2FyZFBhc3NDb25maWdzPixcbiAgICAgICAgd2luZG93OiByZW5kZXJlci5SZW5kZXJXaW5kb3csXG4gICAgICAgIGNhbWVyYTogcmVuZGVyZXIuc2NlbmUuQ2FtZXJhLFxuICAgICAgICBuYXRpdmVXaWR0aDogbnVtYmVyLFxuICAgICAgICBuYXRpdmVIZWlnaHQ6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBjb25zdCBSZXNvdXJjZUZsYWdzID0gcmVuZGVyaW5nLlJlc291cmNlRmxhZ3M7XG4gICAgICAgIGNvbnN0IFJlc291cmNlUmVzaWRlbmN5ID0gcmVuZGVyaW5nLlJlc291cmNlUmVzaWRlbmN5O1xuICAgICAgICBjb25zdCBpZCA9IHdpbmRvdy5yZW5kZXJXaW5kb3dJZDtcbiAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSBjYW1lcmFDb25maWdzLnNldHRpbmdzO1xuXG4gICAgICAgIGNvbnN0IHdpZHRoID0gY2FtZXJhQ29uZmlncy5lbmFibGVTaGFkaW5nU2NhbGVcbiAgICAgICAgICAgID8gTWF0aC5tYXgoTWF0aC5mbG9vcihuYXRpdmVXaWR0aCAqIGNhbWVyYUNvbmZpZ3Muc2hhZGluZ1NjYWxlKSwgMSlcbiAgICAgICAgICAgIDogbmF0aXZlV2lkdGg7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IGNhbWVyYUNvbmZpZ3MuZW5hYmxlU2hhZGluZ1NjYWxlXG4gICAgICAgICAgICA/IE1hdGgubWF4KE1hdGguZmxvb3IobmF0aXZlSGVpZ2h0ICogY2FtZXJhQ29uZmlncy5zaGFkaW5nU2NhbGUpLCAxKVxuICAgICAgICAgICAgOiBuYXRpdmVIZWlnaHQ7XG5cbiAgICAgICAgLy8gTXNhYVJhZGlhbmNlXG4gICAgICAgIGlmIChjYW1lcmFDb25maWdzLmVuYWJsZU1TQUEpIHtcbiAgICAgICAgICAgIC8vIE5vdGljZTogV2UgbmV2ZXIgc3RvcmUgbXVsdGlzYW1wbGUgcmVzdWx0cy5cbiAgICAgICAgICAgIC8vIFRoZXNlIHNhbXBsZXMgYXJlIGFsd2F5cyByZXNvbHZlZCBhbmQgZGlzY2FyZGVkIGF0IHRoZSBlbmQgb2YgdGhlIHJlbmRlciBwYXNzLlxuICAgICAgICAgICAgLy8gU28gdGhlIFJlc291cmNlUmVzaWRlbmN5IHNob3VsZCBiZSBNRU1PUllMRVNTLlxuICAgICAgICAgICAgaWYgKGNhbWVyYUNvbmZpZ3MuZW5hYmxlSERSKSB7XG4gICAgICAgICAgICAgICAgcHBsLmFkZFRleHR1cmUoYE1zYWFSYWRpYW5jZSR7aWR9YCwgVGV4dHVyZVR5cGUuVEVYMkQsIGNhbWVyYUNvbmZpZ3MucmFkaWFuY2VGb3JtYXQsIHdpZHRoLCBoZWlnaHQsIDEsIDEsIDEsXG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLm1zYWEuc2FtcGxlQ291bnQsIFJlc291cmNlRmxhZ3MuQ09MT1JfQVRUQUNITUVOVCwgUmVzb3VyY2VSZXNpZGVuY3kuTUVNT1JZTEVTUyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBwbC5hZGRUZXh0dXJlKGBNc2FhUmFkaWFuY2Uke2lkfWAsIFRleHR1cmVUeXBlLlRFWDJELCBGb3JtYXQuUkdCQTgsIHdpZHRoLCBoZWlnaHQsIDEsIDEsIDEsXG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLm1zYWEuc2FtcGxlQ291bnQsIFJlc291cmNlRmxhZ3MuQ09MT1JfQVRUQUNITUVOVCwgUmVzb3VyY2VSZXNpZGVuY3kuTUVNT1JZTEVTUyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcGwuYWRkVGV4dHVyZShgTXNhYURlcHRoU3RlbmNpbCR7aWR9YCwgVGV4dHVyZVR5cGUuVEVYMkQsIEZvcm1hdC5ERVBUSF9TVEVOQ0lMLCB3aWR0aCwgaGVpZ2h0LCAxLCAxLCAxLFxuICAgICAgICAgICAgICAgIHNldHRpbmdzLm1zYWEuc2FtcGxlQ291bnQsIFJlc291cmNlRmxhZ3MuREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5ULCBSZXNvdXJjZVJlc2lkZW5jeS5NRU1PUllMRVNTKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1haW5saWdodCBTaGFkb3dNYXBcbiAgICAgICAgcHBsLmFkZFJlbmRlclRhcmdldChcbiAgICAgICAgICAgIGBTaGFkb3dNYXAke2lkfWAsXG4gICAgICAgICAgICBwcGxDb25maWdzLnNoYWRvd01hcEZvcm1hdCxcbiAgICAgICAgICAgIHBwbENvbmZpZ3Muc2hhZG93TWFwU2l6ZS54LFxuICAgICAgICAgICAgcHBsQ29uZmlncy5zaGFkb3dNYXBTaXplLnksXG4gICAgICAgICk7XG4gICAgICAgIHBwbC5hZGREZXB0aFN0ZW5jaWwoXG4gICAgICAgICAgICBgU2hhZG93RGVwdGgke2lkfWAsXG4gICAgICAgICAgICBGb3JtYXQuREVQVEhfU1RFTkNJTCxcbiAgICAgICAgICAgIHBwbENvbmZpZ3Muc2hhZG93TWFwU2l6ZS54LFxuICAgICAgICAgICAgcHBsQ29uZmlncy5zaGFkb3dNYXBTaXplLnksXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gU3BvdC1saWdodCBzaGFkb3cgbWFwc1xuICAgICAgICBpZiAoY2FtZXJhQ29uZmlncy5lbmFibGVTaW5nbGVGb3J3YXJkUGFzcykge1xuICAgICAgICAgICAgY29uc3QgY291bnQgPSBwcGxDb25maWdzLm1vYmlsZU1heFNwb3RMaWdodFNoYWRvd01hcHM7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gY291bnQ7ICsraSkge1xuICAgICAgICAgICAgICAgIHBwbC5hZGRSZW5kZXJUYXJnZXQoXG4gICAgICAgICAgICAgICAgICAgIGBTcG90U2hhZG93TWFwJHtpfWAsXG4gICAgICAgICAgICAgICAgICAgIHBwbENvbmZpZ3Muc2hhZG93TWFwRm9ybWF0LFxuICAgICAgICAgICAgICAgICAgICBwcGxDb25maWdzLnNoYWRvd01hcFNpemUueCxcbiAgICAgICAgICAgICAgICAgICAgcHBsQ29uZmlncy5zaGFkb3dNYXBTaXplLnksXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBwcGwuYWRkRGVwdGhTdGVuY2lsKFxuICAgICAgICAgICAgICAgICAgICBgU3BvdFNoYWRvd0RlcHRoJHtpfWAsXG4gICAgICAgICAgICAgICAgICAgIEZvcm1hdC5ERVBUSF9TVEVOQ0lMLFxuICAgICAgICAgICAgICAgICAgICBwcGxDb25maWdzLnNoYWRvd01hcFNpemUueCxcbiAgICAgICAgICAgICAgICAgICAgcHBsQ29uZmlncy5zaGFkb3dNYXBTaXplLnksXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXR1cChcbiAgICAgICAgcHBsOiByZW5kZXJpbmcuQmFzaWNQaXBlbGluZSxcbiAgICAgICAgcHBsQ29uZmlnczogUmVhZG9ubHk8UGlwZWxpbmVDb25maWdzPixcbiAgICAgICAgY2FtZXJhQ29uZmlnczogQ2FtZXJhQ29uZmlncyAmIEZvcndhcmRQYXNzQ29uZmlncyxcbiAgICAgICAgY2FtZXJhOiByZW5kZXJlci5zY2VuZS5DYW1lcmEsXG4gICAgICAgIGNvbnRleHQ6IFBpcGVsaW5lQ29udGV4dCk6IHJlbmRlcmluZy5CYXNpY1JlbmRlclBhc3NCdWlsZGVyIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgLy8gQWRkIGdsb2JhbCBjb25zdGFudHNcbiAgICAgICAgcHBsLnNldFZlYzQoJ2dfcGxhdGZvcm0nLCBwcGxDb25maWdzLnBsYXRmb3JtKTtcblxuICAgICAgICBjb25zdCBpZCA9IGNhbWVyYS53aW5kb3cucmVuZGVyV2luZG93SWQ7XG5cbiAgICAgICAgY29uc3Qgc2NlbmUgPSBjYW1lcmEuc2NlbmUhO1xuICAgICAgICBjb25zdCBtYWluTGlnaHQgPSBzY2VuZS5tYWluTGlnaHQ7XG5cbiAgICAgICAgLS1jYW1lcmFDb25maWdzLnJlbWFpbmluZ1Bhc3NlcztcbiAgICAgICAgYXNzZXJ0KGNhbWVyYUNvbmZpZ3MucmVtYWluaW5nUGFzc2VzID49IDApO1xuXG4gICAgICAgIC8vIEZvcndhcmQgTGlnaHRpbmcgKExpZ2h0IEN1bGxpbmcpXG4gICAgICAgIHRoaXMuZm9yd2FyZExpZ2h0aW5nLmN1bGxMaWdodHMoc2NlbmUsIGNhbWVyYS5mcnVzdHVtKTtcblxuICAgICAgICAvLyBNYWluIERpcmVjdGlvbmFsIGxpZ2h0IENTTSBTaGFkb3cgTWFwXG4gICAgICAgIGlmIChjYW1lcmFDb25maWdzLmVuYWJsZU1haW5MaWdodFNoYWRvd01hcCkge1xuICAgICAgICAgICAgYXNzZXJ0KCEhbWFpbkxpZ2h0KTtcbiAgICAgICAgICAgIHRoaXMuX2FkZENhc2NhZGVkU2hhZG93TWFwUGFzcyhwcGwsIHBwbENvbmZpZ3MsIGlkLCBtYWluTGlnaHQsIGNhbWVyYSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTcG90IGxpZ2h0IHNoYWRvdyBtYXBzIChNb2JpbGUgb3IgTVNBQSlcbiAgICAgICAgaWYgKGNhbWVyYUNvbmZpZ3MuZW5hYmxlU2luZ2xlRm9yd2FyZFBhc3MpIHtcbiAgICAgICAgICAgIC8vIEN1cnJlbnRseSwgb25seSBzdXBwb3J0IDEgc3BvdCBsaWdodCB3aXRoIHNoYWRvdyBtYXAgb24gbW9iaWxlIHBsYXRmb3JtLlxuICAgICAgICAgICAgLy8gVE9ETyh6aG91emhlbmdsb25nKTogUmVsZXggdGhpcyBsaW1pdGF0aW9uLlxuICAgICAgICAgICAgdGhpcy5mb3J3YXJkTGlnaHRpbmcuYWRkU3BvdGxpZ2h0U2hhZG93UGFzc2VzKFxuICAgICAgICAgICAgICAgIHBwbCwgY2FtZXJhLCBwcGxDb25maWdzLm1vYmlsZU1heFNwb3RMaWdodFNoYWRvd01hcHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdHJ5QWRkUmVmbGVjdGlvblByb2JlUGFzc2VzKHBwbCwgY2FtZXJhQ29uZmlncywgaWQsIG1haW5MaWdodCwgY2FtZXJhLnNjZW5lKTtcblxuICAgICAgICBpZiAoY2FtZXJhQ29uZmlncy5yZW1haW5pbmdQYXNzZXMgPiAwIHx8IGNhbWVyYUNvbmZpZ3MuZW5hYmxlU2hhZGluZ1NjYWxlKSB7XG4gICAgICAgICAgICBjb250ZXh0LmNvbG9yTmFtZSA9IGNhbWVyYUNvbmZpZ3MuZW5hYmxlU2hhZGluZ1NjYWxlXG4gICAgICAgICAgICAgICAgPyBgU2NhbGVkUmFkaWFuY2UwXyR7aWR9YFxuICAgICAgICAgICAgICAgIDogYFJhZGlhbmNlMF8ke2lkfWA7XG4gICAgICAgICAgICBjb250ZXh0LmRlcHRoU3RlbmNpbE5hbWUgPSBjYW1lcmFDb25maWdzLmVuYWJsZVNoYWRpbmdTY2FsZVxuICAgICAgICAgICAgICAgID8gYFNjYWxlZFNjZW5lRGVwdGhfJHtpZH1gXG4gICAgICAgICAgICAgICAgOiBgU2NlbmVEZXB0aF8ke2lkfWA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb250ZXh0LmNvbG9yTmFtZSA9IGNhbWVyYUNvbmZpZ3MuY29sb3JOYW1lO1xuICAgICAgICAgICAgY29udGV4dC5kZXB0aFN0ZW5jaWxOYW1lID0gY2FtZXJhQ29uZmlncy5kZXB0aFN0ZW5jaWxOYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcGFzcyA9IHRoaXMuX2FkZEZvcndhcmRSYWRpYW5jZVBhc3NlcyhcbiAgICAgICAgICAgIHBwbCwgcHBsQ29uZmlncywgY2FtZXJhQ29uZmlncywgaWQsIGNhbWVyYSxcbiAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3Mud2lkdGgsIGNhbWVyYUNvbmZpZ3MuaGVpZ2h0LCBtYWluTGlnaHQsXG4gICAgICAgICAgICBjb250ZXh0LmNvbG9yTmFtZSwgY29udGV4dC5kZXB0aFN0ZW5jaWxOYW1lLFxuICAgICAgICAgICAgIWNhbWVyYUNvbmZpZ3MuZW5hYmxlTVNBQSxcbiAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3MuZW5hYmxlU3RvcmVTY2VuZURlcHRoID8gU3RvcmVPcC5TVE9SRSA6IFN0b3JlT3AuRElTQ0FSRCk7XG5cbiAgICAgICAgaWYgKCFjYW1lcmFDb25maWdzLmVuYWJsZVN0b3JlU2NlbmVEZXB0aCkge1xuICAgICAgICAgICAgY29udGV4dC5kZXB0aFN0ZW5jaWxOYW1lID0gJyc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2FtZXJhQ29uZmlncy5yZW1haW5pbmdQYXNzZXMgPT09IDAgJiYgY2FtZXJhQ29uZmlncy5lbmFibGVTaGFkaW5nU2NhbGUpIHtcbiAgICAgICAgICAgIHJldHVybiBhZGRDb3B5VG9TY3JlZW5QYXNzKHBwbCwgcHBsQ29uZmlncywgY2FtZXJhQ29uZmlncywgY29udGV4dC5jb2xvck5hbWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHBhc3M7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcHJpdmF0ZSBfYWRkQ2FzY2FkZWRTaGFkb3dNYXBQYXNzKFxuICAgICAgICBwcGw6IHJlbmRlcmluZy5CYXNpY1BpcGVsaW5lLFxuICAgICAgICBwcGxDb25maWdzOiBSZWFkb25seTxQaXBlbGluZUNvbmZpZ3M+LFxuICAgICAgICBpZDogbnVtYmVyLFxuICAgICAgICBsaWdodDogcmVuZGVyZXIuc2NlbmUuRGlyZWN0aW9uYWxMaWdodCxcbiAgICAgICAgY2FtZXJhOiByZW5kZXJlci5zY2VuZS5DYW1lcmEsXG4gICAgKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IFF1ZXVlSGludCA9IHJlbmRlcmluZy5RdWV1ZUhpbnQ7XG4gICAgICAgIGNvbnN0IFNjZW5lRmxhZ3MgPSByZW5kZXJpbmcuU2NlbmVGbGFncztcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAvLyBEeW5hbWljIHN0YXRlc1xuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIGNvbnN0IHNoYWRvd1NpemUgPSBwcGwucGlwZWxpbmVTY2VuZURhdGEuc2hhZG93cy5zaXplO1xuICAgICAgICBjb25zdCB3aWR0aCA9IHNoYWRvd1NpemUueDtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gc2hhZG93U2l6ZS55O1xuXG4gICAgICAgIGNvbnN0IHZpZXdwb3J0ID0gdGhpcy5fdmlld3BvcnQ7XG4gICAgICAgIHZpZXdwb3J0LmxlZnQgPSB2aWV3cG9ydC50b3AgPSAwO1xuICAgICAgICB2aWV3cG9ydC53aWR0aCA9IHdpZHRoO1xuICAgICAgICB2aWV3cG9ydC5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAvLyBDU00gU2hhZG93IE1hcFxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIGNvbnN0IHBhc3MgPSBwcGwuYWRkUmVuZGVyUGFzcyh3aWR0aCwgaGVpZ2h0LCAnZGVmYXVsdCcpO1xuICAgICAgICBwYXNzLm5hbWUgPSAnQ2FzY2FkZWRTaGFkb3dNYXAnO1xuICAgICAgICBwYXNzLmFkZFJlbmRlclRhcmdldChgU2hhZG93TWFwJHtpZH1gLCBMb2FkT3AuQ0xFQVIsIFN0b3JlT3AuU1RPUkUsIG5ldyBDb2xvcigxLCAxLCAxLCAxKSk7XG4gICAgICAgIHBhc3MuYWRkRGVwdGhTdGVuY2lsKGBTaGFkb3dEZXB0aCR7aWR9YCwgTG9hZE9wLkNMRUFSLCBTdG9yZU9wLkRJU0NBUkQpO1xuICAgICAgICBjb25zdCBjc21MZXZlbCA9IHBwbC5waXBlbGluZVNjZW5lRGF0YS5jc21TdXBwb3J0ZWQgPyBsaWdodC5jc21MZXZlbCA6IDE7XG5cbiAgICAgICAgLy8gQWRkIHNoYWRvdyBtYXAgdmlld3BvcnRzXG4gICAgICAgIGZvciAobGV0IGxldmVsID0gMDsgbGV2ZWwgIT09IGNzbUxldmVsOyArK2xldmVsKSB7XG4gICAgICAgICAgICBnZXRDc21NYWluTGlnaHRWaWV3cG9ydChsaWdodCwgd2lkdGgsIGhlaWdodCwgbGV2ZWwsIHRoaXMuX3ZpZXdwb3J0LCBwcGxDb25maWdzLnNjcmVlblNwYWNlU2lnblkpO1xuICAgICAgICAgICAgY29uc3QgcXVldWUgPSBwYXNzLmFkZFF1ZXVlKFF1ZXVlSGludC5OT05FLCAnc2hhZG93LWNhc3RlcicpO1xuICAgICAgICAgICAgaWYgKCFwcGxDb25maWdzLmlzV2ViR1BVKSB7IC8vIFRlbXBvcmFyeSB3b3JrYXJvdW5kIGZvciBXZWJHUFVcbiAgICAgICAgICAgICAgICBxdWV1ZS5zZXRWaWV3cG9ydCh0aGlzLl92aWV3cG9ydCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBxdWV1ZVxuICAgICAgICAgICAgICAgIC5hZGRTY2VuZShjYW1lcmEsIFNjZW5lRmxhZ3MuT1BBUVVFIHwgU2NlbmVGbGFncy5NQVNLIHwgU2NlbmVGbGFncy5TSEFET1dfQ0FTVEVSKVxuICAgICAgICAgICAgICAgIC51c2VMaWdodEZydXN0dW0obGlnaHQsIGxldmVsKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwcml2YXRlIF90cnlBZGRSZWZsZWN0aW9uUHJvYmVQYXNzZXMoXG4gICAgICAgIHBwbDogcmVuZGVyaW5nLkJhc2ljUGlwZWxpbmUsXG4gICAgICAgIGNhbWVyYUNvbmZpZ3M6IFJlYWRvbmx5PENhbWVyYUNvbmZpZ3MgJiBGb3J3YXJkUGFzc0NvbmZpZ3M+LFxuICAgICAgICBpZDogbnVtYmVyLFxuICAgICAgICBtYWluTGlnaHQ6IHJlbmRlcmVyLnNjZW5lLkRpcmVjdGlvbmFsTGlnaHQgfCBudWxsLFxuICAgICAgICBzY2VuZTogcmVuZGVyZXIuUmVuZGVyU2NlbmUgfCBudWxsLFxuICAgICk6IHZvaWQge1xuICAgICAgICBjb25zdCByZWZsZWN0aW9uUHJvYmVNYW5hZ2VyID0gY2NsZWdhY3kuaW50ZXJuYWwucmVmbGVjdGlvblByb2JlTWFuYWdlciBhcyBSZWZsZWN0aW9uUHJvYmVNYW5hZ2VyIHwgdW5kZWZpbmVkO1xuICAgICAgICBpZiAoIXJlZmxlY3Rpb25Qcm9iZU1hbmFnZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBSZXNvdXJjZVJlc2lkZW5jeSA9IHJlbmRlcmluZy5SZXNvdXJjZVJlc2lkZW5jeTtcbiAgICAgICAgY29uc3QgcHJvYmVzID0gcmVmbGVjdGlvblByb2JlTWFuYWdlci5nZXRQcm9iZXMoKTtcbiAgICAgICAgY29uc3QgbWF4UHJvYmVDb3VudCA9IDQ7XG4gICAgICAgIGxldCBwcm9iZUlEID0gMDtcbiAgICAgICAgZm9yIChjb25zdCBwcm9iZSBvZiBwcm9iZXMpIHtcbiAgICAgICAgICAgIGlmICghcHJvYmUubmVlZFJlbmRlcikge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYXJlYSA9IHByb2JlLnJlbmRlckFyZWEoKTtcbiAgICAgICAgICAgIGNvbnN0IHdpZHRoID0gTWF0aC5tYXgoTWF0aC5mbG9vcihhcmVhLngpLCAxKTtcbiAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IE1hdGgubWF4KE1hdGguZmxvb3IoYXJlYS55KSwgMSk7XG5cbiAgICAgICAgICAgIGlmIChwcm9iZS5wcm9iZVR5cGUgPT09IHJlbmRlcmVyLnNjZW5lLlByb2JlVHlwZS5QTEFOQVIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWNhbWVyYUNvbmZpZ3MuZW5hYmxlUGxhbmFyUmVmbGVjdGlvblByb2JlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCB3aW5kb3c6IHJlbmRlcmVyLlJlbmRlcldpbmRvdyA9IHByb2JlLnJlYWx0aW1lUGxhbmFyVGV4dHVyZSEud2luZG93ITtcbiAgICAgICAgICAgICAgICBjb25zdCBjb2xvck5hbWUgPSBgUGxhbmFyUHJvYmVSVCR7cHJvYmVJRH1gO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlcHRoU3RlbmNpbE5hbWUgPSBgUGxhbmFyUHJvYmVEUyR7cHJvYmVJRH1gO1xuICAgICAgICAgICAgICAgIC8vIFByb2JlUmVzb3VyY2VcbiAgICAgICAgICAgICAgICBwcGwuYWRkUmVuZGVyV2luZG93KGNvbG9yTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhQ29uZmlncy5yYWRpYW5jZUZvcm1hdCwgd2lkdGgsIGhlaWdodCwgd2luZG93KTtcbiAgICAgICAgICAgICAgICBwcGwuYWRkRGVwdGhTdGVuY2lsKGRlcHRoU3RlbmNpbE5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGdmeC5Gb3JtYXQuREVQVEhfU1RFTkNJTCwgd2lkdGgsIGhlaWdodCwgUmVzb3VyY2VSZXNpZGVuY3kuTUVNT1JZTEVTUyk7XG5cbiAgICAgICAgICAgICAgICAvLyBSZW5kZXJpbmdcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9iZVBhc3MgPSBwcGwuYWRkUmVuZGVyUGFzcyh3aWR0aCwgaGVpZ2h0LCAnZGVmYXVsdCcpO1xuICAgICAgICAgICAgICAgIHByb2JlUGFzcy5uYW1lID0gYFBsYW5hclJlZmxlY3Rpb25Qcm9iZSR7cHJvYmVJRH1gO1xuICAgICAgICAgICAgICAgIHRoaXMuX2J1aWxkUmVmbGVjdGlvblByb2JlUGFzcyhwcm9iZVBhc3MsIGNhbWVyYUNvbmZpZ3MsIGlkLCBwcm9iZS5jYW1lcmEsXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yTmFtZSwgZGVwdGhTdGVuY2lsTmFtZSwgbWFpbkxpZ2h0LCBzY2VuZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKEVESVRPUikge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGZhY2VJZHggPSAwOyBmYWNlSWR4IDwgcHJvYmUuYmFrZWRDdWJlVGV4dHVyZXMubGVuZ3RoOyBmYWNlSWR4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvYmUudXBkYXRlQ2FtZXJhRGlyKGZhY2VJZHgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB3aW5kb3c6IHJlbmRlcmVyLlJlbmRlcldpbmRvdyA9IHByb2JlLmJha2VkQ3ViZVRleHR1cmVzW2ZhY2VJZHhdLndpbmRvdyE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbG9yTmFtZSA9IGBDdWJlUHJvYmVSVCR7cHJvYmVJRH0ke2ZhY2VJZHh9YDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVwdGhTdGVuY2lsTmFtZSA9IGBDdWJlUHJvYmVEUyR7cHJvYmVJRH0ke2ZhY2VJZHh9YDtcbiAgICAgICAgICAgICAgICAgICAgLy8gUHJvYmVSZXNvdXJjZVxuICAgICAgICAgICAgICAgICAgICBwcGwuYWRkUmVuZGVyV2luZG93KGNvbG9yTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3MucmFkaWFuY2VGb3JtYXQsIHdpZHRoLCBoZWlnaHQsIHdpbmRvdyk7XG4gICAgICAgICAgICAgICAgICAgIHBwbC5hZGREZXB0aFN0ZW5jaWwoZGVwdGhTdGVuY2lsTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdmeC5Gb3JtYXQuREVQVEhfU1RFTkNJTCwgd2lkdGgsIGhlaWdodCwgUmVzb3VyY2VSZXNpZGVuY3kuTUVNT1JZTEVTUyk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gUmVuZGVyaW5nXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2JlUGFzcyA9IHBwbC5hZGRSZW5kZXJQYXNzKHdpZHRoLCBoZWlnaHQsICdkZWZhdWx0Jyk7XG4gICAgICAgICAgICAgICAgICAgIHByb2JlUGFzcy5uYW1lID0gYEN1YmVQcm9iZSR7cHJvYmVJRH0ke2ZhY2VJZHh9YDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYnVpbGRSZWZsZWN0aW9uUHJvYmVQYXNzKHByb2JlUGFzcywgY2FtZXJhQ29uZmlncywgaWQsIHByb2JlLmNhbWVyYSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yTmFtZSwgZGVwdGhTdGVuY2lsTmFtZSwgbWFpbkxpZ2h0LCBzY2VuZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHByb2JlLm5lZWRSZW5kZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICsrcHJvYmVJRDtcbiAgICAgICAgICAgIGlmIChwcm9iZUlEID09PSBtYXhQcm9iZUNvdW50KSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcHJpdmF0ZSBfYnVpbGRSZWZsZWN0aW9uUHJvYmVQYXNzKFxuICAgICAgICBwYXNzOiByZW5kZXJpbmcuQmFzaWNSZW5kZXJQYXNzQnVpbGRlcixcbiAgICAgICAgY2FtZXJhQ29uZmlnczogUmVhZG9ubHk8Q2FtZXJhQ29uZmlncyAmIEZvcndhcmRQYXNzQ29uZmlncz4sXG4gICAgICAgIGlkOiBudW1iZXIsXG4gICAgICAgIGNhbWVyYTogcmVuZGVyZXIuc2NlbmUuQ2FtZXJhLFxuICAgICAgICBjb2xvck5hbWU6IHN0cmluZyxcbiAgICAgICAgZGVwdGhTdGVuY2lsTmFtZTogc3RyaW5nLFxuICAgICAgICBtYWluTGlnaHQ6IHJlbmRlcmVyLnNjZW5lLkRpcmVjdGlvbmFsTGlnaHQgfCBudWxsLFxuICAgICAgICBzY2VuZTogcmVuZGVyZXIuUmVuZGVyU2NlbmUgfCBudWxsID0gbnVsbCxcbiAgICApOiB2b2lkIHtcbiAgICAgICAgY29uc3QgUXVldWVIaW50ID0gcmVuZGVyaW5nLlF1ZXVlSGludDtcbiAgICAgICAgY29uc3QgU2NlbmVGbGFncyA9IHJlbmRlcmluZy5TY2VuZUZsYWdzO1xuICAgICAgICAvLyBzZXQgdmlld3BvcnRcbiAgICAgICAgY29uc3QgY29sb3JTdG9yZU9wID0gY2FtZXJhQ29uZmlncy5lbmFibGVNU0FBID8gU3RvcmVPcC5ESVNDQVJEIDogU3RvcmVPcC5TVE9SRTtcblxuICAgICAgICAvLyBiaW5kIG91dHB1dCByZW5kZXIgdGFyZ2V0XG4gICAgICAgIGlmIChmb3J3YXJkTmVlZENsZWFyQ29sb3IoY2FtZXJhKSkge1xuICAgICAgICAgICAgdGhpcy5fcmVmbGVjdGlvblByb2JlQ2xlYXJDb2xvci54ID0gY2FtZXJhLmNsZWFyQ29sb3IueDtcbiAgICAgICAgICAgIHRoaXMuX3JlZmxlY3Rpb25Qcm9iZUNsZWFyQ29sb3IueSA9IGNhbWVyYS5jbGVhckNvbG9yLnk7XG4gICAgICAgICAgICB0aGlzLl9yZWZsZWN0aW9uUHJvYmVDbGVhckNvbG9yLnogPSBjYW1lcmEuY2xlYXJDb2xvci56O1xuICAgICAgICAgICAgY29uc3QgY2xlYXJDb2xvciA9IHJlbmRlcmluZy5wYWNrUkdCRSh0aGlzLl9yZWZsZWN0aW9uUHJvYmVDbGVhckNvbG9yKTtcbiAgICAgICAgICAgIHRoaXMuX2NsZWFyQ29sb3IueCA9IGNsZWFyQ29sb3IueDtcbiAgICAgICAgICAgIHRoaXMuX2NsZWFyQ29sb3IueSA9IGNsZWFyQ29sb3IueTtcbiAgICAgICAgICAgIHRoaXMuX2NsZWFyQ29sb3IueiA9IGNsZWFyQ29sb3IuejtcbiAgICAgICAgICAgIHRoaXMuX2NsZWFyQ29sb3IudyA9IGNsZWFyQ29sb3IudztcbiAgICAgICAgICAgIHBhc3MuYWRkUmVuZGVyVGFyZ2V0KGNvbG9yTmFtZSwgTG9hZE9wLkNMRUFSLCBjb2xvclN0b3JlT3AsIHRoaXMuX2NsZWFyQ29sb3IpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFzcy5hZGRSZW5kZXJUYXJnZXQoY29sb3JOYW1lLCBMb2FkT3AuTE9BRCwgY29sb3JTdG9yZU9wKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGJpbmQgZGVwdGggc3RlbmNpbCBidWZmZXJcbiAgICAgICAgaWYgKGNhbWVyYS5jbGVhckZsYWcgJiBDbGVhckZsYWdCaXQuREVQVEhfU1RFTkNJTCkge1xuICAgICAgICAgICAgcGFzcy5hZGREZXB0aFN0ZW5jaWwoXG4gICAgICAgICAgICAgICAgZGVwdGhTdGVuY2lsTmFtZSxcbiAgICAgICAgICAgICAgICBMb2FkT3AuQ0xFQVIsXG4gICAgICAgICAgICAgICAgU3RvcmVPcC5ESVNDQVJELFxuICAgICAgICAgICAgICAgIGNhbWVyYS5jbGVhckRlcHRoLFxuICAgICAgICAgICAgICAgIGNhbWVyYS5jbGVhclN0ZW5jaWwsXG4gICAgICAgICAgICAgICAgY2FtZXJhLmNsZWFyRmxhZyAmIENsZWFyRmxhZ0JpdC5ERVBUSF9TVEVOQ0lMLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhc3MuYWRkRGVwdGhTdGVuY2lsKGRlcHRoU3RlbmNpbE5hbWUsIExvYWRPcC5MT0FELCBTdG9yZU9wLkRJU0NBUkQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2V0IHNoYWRvdyBtYXAgaWYgZW5hYmxlZFxuICAgICAgICBpZiAoY2FtZXJhQ29uZmlncy5lbmFibGVNYWluTGlnaHRTaGFkb3dNYXApIHtcbiAgICAgICAgICAgIHBhc3MuYWRkVGV4dHVyZShgU2hhZG93TWFwJHtpZH1gLCAnY2Nfc2hhZG93TWFwJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPKHpob3V6aGVuZ2xvbmcpOiBTZXBhcmF0ZSBPUEFRVUUgYW5kIE1BU0sgcXVldWVcblxuICAgICAgICAvLyBhZGQgb3BhcXVlIGFuZCBtYXNrIHF1ZXVlXG4gICAgICAgIHBhc3MuYWRkUXVldWUoUXVldWVIaW50Lk5PTkUsICdyZWZsZWN0LW1hcCcpIC8vIEN1cnJlbnRseSB3ZSBwdXQgT1BBUVVFIGFuZCBNQVNLIGludG8gb25lIHF1ZXVlLCBzbyBRdWV1ZUhpbnQgaXMgTk9ORVxuICAgICAgICAgICAgLmFkZFNjZW5lKGNhbWVyYSxcbiAgICAgICAgICAgICAgICBTY2VuZUZsYWdzLk9QQVFVRSB8IFNjZW5lRmxhZ3MuTUFTSyB8IFNjZW5lRmxhZ3MuUkVGTEVDVElPTl9QUk9CRSxcbiAgICAgICAgICAgICAgICBtYWluTGlnaHQgfHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIHNjZW5lID8gc2NlbmUgOiB1bmRlZmluZWQpO1xuICAgIH1cbiAgICBwcml2YXRlIF9hZGRGb3J3YXJkUmFkaWFuY2VQYXNzZXMoXG4gICAgICAgIHBwbDogcmVuZGVyaW5nLkJhc2ljUGlwZWxpbmUsXG4gICAgICAgIHBwbENvbmZpZ3M6IFJlYWRvbmx5PFBpcGVsaW5lQ29uZmlncz4sXG4gICAgICAgIGNhbWVyYUNvbmZpZ3M6IFJlYWRvbmx5PENhbWVyYUNvbmZpZ3MgJiBGb3J3YXJkUGFzc0NvbmZpZ3M+LFxuICAgICAgICBpZDogbnVtYmVyLFxuICAgICAgICBjYW1lcmE6IHJlbmRlcmVyLnNjZW5lLkNhbWVyYSxcbiAgICAgICAgd2lkdGg6IG51bWJlcixcbiAgICAgICAgaGVpZ2h0OiBudW1iZXIsXG4gICAgICAgIG1haW5MaWdodDogcmVuZGVyZXIuc2NlbmUuRGlyZWN0aW9uYWxMaWdodCB8IG51bGwsXG4gICAgICAgIGNvbG9yTmFtZTogc3RyaW5nLFxuICAgICAgICBkZXB0aFN0ZW5jaWxOYW1lOiBzdHJpbmcsXG4gICAgICAgIGRpc2FibGVNU0FBOiBib29sZWFuID0gZmFsc2UsXG4gICAgICAgIGRlcHRoU3RlbmNpbFN0b3JlT3A6IGdmeC5TdG9yZU9wID0gU3RvcmVPcC5ESVNDQVJELFxuICAgICk6IHJlbmRlcmluZy5CYXNpY1JlbmRlclBhc3NCdWlsZGVyIHtcbiAgICAgICAgY29uc3QgUXVldWVIaW50ID0gcmVuZGVyaW5nLlF1ZXVlSGludDtcbiAgICAgICAgY29uc3QgU2NlbmVGbGFncyA9IHJlbmRlcmluZy5TY2VuZUZsYWdzO1xuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIC8vIER5bmFtaWMgc3RhdGVzXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgLy8gUHJlcGFyZSBjYW1lcmEgY2xlYXIgY29sb3JcbiAgICAgICAgY29uc3QgY2xlYXJDb2xvciA9IGNhbWVyYS5jbGVhckNvbG9yOyAvLyBSZWR1Y2UgQysrL1RTIGludGVyb3BcbiAgICAgICAgdGhpcy5fY2xlYXJDb2xvci54ID0gY2xlYXJDb2xvci54O1xuICAgICAgICB0aGlzLl9jbGVhckNvbG9yLnkgPSBjbGVhckNvbG9yLnk7XG4gICAgICAgIHRoaXMuX2NsZWFyQ29sb3IueiA9IGNsZWFyQ29sb3IuejtcbiAgICAgICAgdGhpcy5fY2xlYXJDb2xvci53ID0gY2xlYXJDb2xvci53O1xuXG4gICAgICAgIC8vIFByZXBhcmUgY2FtZXJhIHZpZXdwb3J0XG4gICAgICAgIGNvbnN0IHZpZXdwb3J0ID0gY2FtZXJhLnZpZXdwb3J0OyAvLyBSZWR1Y2UgQysrL1RTIGludGVyb3BcbiAgICAgICAgdGhpcy5fdmlld3BvcnQubGVmdCA9IE1hdGgucm91bmQodmlld3BvcnQueCAqIHdpZHRoKTtcbiAgICAgICAgdGhpcy5fdmlld3BvcnQudG9wID0gTWF0aC5yb3VuZCh2aWV3cG9ydC55ICogaGVpZ2h0KTtcbiAgICAgICAgLy8gSGVyZSB3ZSBtdXN0IHVzZSBjYW1lcmEudmlld3BvcnQud2lkdGggaW5zdGVhZCBvZiBjYW1lcmEudmlld3BvcnQueiwgd2hpY2hcbiAgICAgICAgLy8gaXMgdW5kZWZpbmVkIG9uIG5hdGl2ZSBwbGF0Zm9ybS4gVGhlIHNhbWUgYXMgY2FtZXJhLnZpZXdwb3J0LmhlaWdodC5cbiAgICAgICAgdGhpcy5fdmlld3BvcnQud2lkdGggPSBNYXRoLm1heChNYXRoLnJvdW5kKHZpZXdwb3J0LndpZHRoICogd2lkdGgpLCAxKTtcbiAgICAgICAgdGhpcy5fdmlld3BvcnQuaGVpZ2h0ID0gTWF0aC5tYXgoTWF0aC5yb3VuZCh2aWV3cG9ydC5oZWlnaHQgKiBoZWlnaHQpLCAxKTtcblxuICAgICAgICAvLyBNU0FBXG4gICAgICAgIGNvbnN0IGVuYWJsZU1TQUEgPSAhZGlzYWJsZU1TQUEgJiYgY2FtZXJhQ29uZmlncy5lbmFibGVNU0FBO1xuICAgICAgICBhc3NlcnQoIWVuYWJsZU1TQUEgfHwgY2FtZXJhQ29uZmlncy5lbmFibGVTaW5nbGVGb3J3YXJkUGFzcyk7XG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAvLyBGb3J3YXJkIExpZ2h0aW5nIChNYWluIERpcmVjdGlvbmFsIExpZ2h0KVxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIGNvbnN0IHBhc3MgPSBjYW1lcmFDb25maWdzLmVuYWJsZVNpbmdsZUZvcndhcmRQYXNzXG4gICAgICAgICAgICA/IHRoaXMuX2FkZEZvcndhcmRTaW5nbGVSYWRpYW5jZVBhc3MocHBsLCBwcGxDb25maWdzLCBjYW1lcmFDb25maWdzLFxuICAgICAgICAgICAgICAgIGlkLCBjYW1lcmEsIGVuYWJsZU1TQUEsIHdpZHRoLCBoZWlnaHQsIG1haW5MaWdodCxcbiAgICAgICAgICAgICAgICBjb2xvck5hbWUsIGRlcHRoU3RlbmNpbE5hbWUsIGRlcHRoU3RlbmNpbFN0b3JlT3ApXG4gICAgICAgICAgICA6IHRoaXMuX2FkZEZvcndhcmRNdWx0aXBsZVJhZGlhbmNlUGFzc2VzKHBwbCwgY2FtZXJhQ29uZmlncyxcbiAgICAgICAgICAgICAgICBpZCwgY2FtZXJhLCB3aWR0aCwgaGVpZ2h0LCBtYWluTGlnaHQsXG4gICAgICAgICAgICAgICAgY29sb3JOYW1lLCBkZXB0aFN0ZW5jaWxOYW1lLCBkZXB0aFN0ZW5jaWxTdG9yZU9wKTtcblxuICAgICAgICAvLyBQbGFuYXIgU2hhZG93XG4gICAgICAgIGlmIChjYW1lcmFDb25maWdzLmVuYWJsZU1haW5MaWdodFBsYW5hclNoYWRvd01hcCkge1xuICAgICAgICAgICAgdGhpcy5fYWRkUGxhbmFyU2hhZG93UXVldWUoY2FtZXJhLCBtYWluTGlnaHQsIHBhc3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAvLyBGb3J3YXJkIExpZ2h0aW5nIChCbGVuZClcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAvLyBBZGQgdHJhbnNwYXJlbnQgcXVldWVcblxuICAgICAgICBjb25zdCBzY2VuZUZsYWdzID0gU2NlbmVGbGFncy5CTEVORCB8XG4gICAgICAgICAgICAoY2FtZXJhLmdlb21ldHJ5UmVuZGVyZXJcbiAgICAgICAgICAgICAgICA/IFNjZW5lRmxhZ3MuR0VPTUVUUllcbiAgICAgICAgICAgICAgICA6IFNjZW5lRmxhZ3MuTk9ORSk7XG5cbiAgICAgICAgcGFzc1xuICAgICAgICAgICAgLmFkZFF1ZXVlKFF1ZXVlSGludC5CTEVORClcbiAgICAgICAgICAgIC5hZGRTY2VuZShjYW1lcmEsIHNjZW5lRmxhZ3MsIG1haW5MaWdodCB8fCB1bmRlZmluZWQpO1xuXG4gICAgICAgIHJldHVybiBwYXNzO1xuICAgIH1cbiAgICBwcml2YXRlIF9hZGRGb3J3YXJkU2luZ2xlUmFkaWFuY2VQYXNzKFxuICAgICAgICBwcGw6IHJlbmRlcmluZy5CYXNpY1BpcGVsaW5lLFxuICAgICAgICBwcGxDb25maWdzOiBSZWFkb25seTxQaXBlbGluZUNvbmZpZ3M+LFxuICAgICAgICBjYW1lcmFDb25maWdzOiBSZWFkb25seTxDYW1lcmFDb25maWdzICYgRm9yd2FyZFBhc3NDb25maWdzPixcbiAgICAgICAgaWQ6IG51bWJlcixcbiAgICAgICAgY2FtZXJhOiByZW5kZXJlci5zY2VuZS5DYW1lcmEsXG4gICAgICAgIGVuYWJsZU1TQUE6IGJvb2xlYW4sXG4gICAgICAgIHdpZHRoOiBudW1iZXIsXG4gICAgICAgIGhlaWdodDogbnVtYmVyLFxuICAgICAgICBtYWluTGlnaHQ6IHJlbmRlcmVyLnNjZW5lLkRpcmVjdGlvbmFsTGlnaHQgfCBudWxsLFxuICAgICAgICBjb2xvck5hbWU6IHN0cmluZyxcbiAgICAgICAgZGVwdGhTdGVuY2lsTmFtZTogc3RyaW5nLFxuICAgICAgICBkZXB0aFN0ZW5jaWxTdG9yZU9wOiBnZnguU3RvcmVPcFxuICAgICk6IHJlbmRlcmluZy5CYXNpY1JlbmRlclBhc3NCdWlsZGVyIHtcbiAgICAgICAgYXNzZXJ0KGNhbWVyYUNvbmZpZ3MuZW5hYmxlU2luZ2xlRm9yd2FyZFBhc3MpO1xuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIC8vIEZvcndhcmQgTGlnaHRpbmcgKE1haW4gRGlyZWN0aW9uYWwgTGlnaHQpXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgbGV0IHBhc3M6IHJlbmRlcmluZy5CYXNpY1JlbmRlclBhc3NCdWlsZGVyO1xuICAgICAgICBpZiAoZW5hYmxlTVNBQSkge1xuICAgICAgICAgICAgY29uc3QgbXNhYVJhZGlhbmNlTmFtZSA9IGBNc2FhUmFkaWFuY2Uke2lkfWA7XG4gICAgICAgICAgICBjb25zdCBtc2FhRGVwdGhTdGVuY2lsTmFtZSA9IGBNc2FhRGVwdGhTdGVuY2lsJHtpZH1gO1xuICAgICAgICAgICAgY29uc3Qgc2FtcGxlQ291bnQgPSBjYW1lcmFDb25maWdzLnNldHRpbmdzLm1zYWEuc2FtcGxlQ291bnQ7XG5cbiAgICAgICAgICAgIGNvbnN0IG1zUGFzcyA9IHBwbC5hZGRNdWx0aXNhbXBsZVJlbmRlclBhc3Mod2lkdGgsIGhlaWdodCwgc2FtcGxlQ291bnQsIDAsICdkZWZhdWx0Jyk7XG4gICAgICAgICAgICBtc1Bhc3MubmFtZSA9ICdNc2FhRm9yd2FyZFBhc3MnO1xuXG4gICAgICAgICAgICAvLyBNU0FBIGFsd2F5cyBkaXNjYXJkcyBkZXB0aCBzdGVuY2lsXG4gICAgICAgICAgICB0aGlzLl9idWlsZEZvcndhcmRNYWluTGlnaHRQYXNzKG1zUGFzcywgY2FtZXJhQ29uZmlncywgaWQsIGNhbWVyYSxcbiAgICAgICAgICAgICAgICBtc2FhUmFkaWFuY2VOYW1lLCBtc2FhRGVwdGhTdGVuY2lsTmFtZSwgU3RvcmVPcC5ESVNDQVJELCBtYWluTGlnaHQpO1xuXG4gICAgICAgICAgICBtc1Bhc3MucmVzb2x2ZVJlbmRlclRhcmdldChtc2FhUmFkaWFuY2VOYW1lLCBjb2xvck5hbWUpO1xuXG4gICAgICAgICAgICBwYXNzID0gbXNQYXNzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFzcyA9IHBwbC5hZGRSZW5kZXJQYXNzKHdpZHRoLCBoZWlnaHQsICdkZWZhdWx0Jyk7XG4gICAgICAgICAgICBwYXNzLm5hbWUgPSAnRm9yd2FyZFBhc3MnO1xuXG4gICAgICAgICAgICB0aGlzLl9idWlsZEZvcndhcmRNYWluTGlnaHRQYXNzKHBhc3MsIGNhbWVyYUNvbmZpZ3MsIGlkLCBjYW1lcmEsXG4gICAgICAgICAgICAgICAgY29sb3JOYW1lLCBkZXB0aFN0ZW5jaWxOYW1lLCBkZXB0aFN0ZW5jaWxTdG9yZU9wLCBtYWluTGlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGFzc2VydChwYXNzICE9PSB1bmRlZmluZWQpO1xuXG4gICAgICAgIC8vIEZvcndhcmQgTGlnaHRpbmcgKEFkZGl0aXZlIExpZ2h0cylcbiAgICAgICAgdGhpcy5mb3J3YXJkTGlnaHRpbmcuYWRkTGlnaHRRdWV1ZXMoXG4gICAgICAgICAgICBwYXNzLFxuICAgICAgICAgICAgY2FtZXJhLFxuICAgICAgICAgICAgcHBsQ29uZmlncy5tb2JpbGVNYXhTcG90TGlnaHRTaGFkb3dNYXBzLFxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiBwYXNzO1xuICAgIH1cbiAgICBwcml2YXRlIF9hZGRGb3J3YXJkTXVsdGlwbGVSYWRpYW5jZVBhc3NlcyhcbiAgICAgICAgcHBsOiByZW5kZXJpbmcuQmFzaWNQaXBlbGluZSxcbiAgICAgICAgY2FtZXJhQ29uZmlnczogUmVhZG9ubHk8Q2FtZXJhQ29uZmlncyAmIEZvcndhcmRQYXNzQ29uZmlncz4sXG4gICAgICAgIGlkOiBudW1iZXIsXG4gICAgICAgIGNhbWVyYTogcmVuZGVyZXIuc2NlbmUuQ2FtZXJhLFxuICAgICAgICB3aWR0aDogbnVtYmVyLFxuICAgICAgICBoZWlnaHQ6IG51bWJlcixcbiAgICAgICAgbWFpbkxpZ2h0OiByZW5kZXJlci5zY2VuZS5EaXJlY3Rpb25hbExpZ2h0IHwgbnVsbCxcbiAgICAgICAgY29sb3JOYW1lOiBzdHJpbmcsXG4gICAgICAgIGRlcHRoU3RlbmNpbE5hbWU6IHN0cmluZyxcbiAgICAgICAgZGVwdGhTdGVuY2lsU3RvcmVPcDogZ2Z4LlN0b3JlT3BcbiAgICApOiByZW5kZXJpbmcuQmFzaWNSZW5kZXJQYXNzQnVpbGRlciB7XG4gICAgICAgIGFzc2VydCghY2FtZXJhQ29uZmlncy5lbmFibGVTaW5nbGVGb3J3YXJkUGFzcyk7XG5cbiAgICAgICAgLy8gRm9yd2FyZCBMaWdodGluZyAoTWFpbiBEaXJlY3Rpb25hbCBMaWdodClcbiAgICAgICAgbGV0IHBhc3MgPSBwcGwuYWRkUmVuZGVyUGFzcyh3aWR0aCwgaGVpZ2h0LCAnZGVmYXVsdCcpO1xuICAgICAgICBwYXNzLm5hbWUgPSAnRm9yd2FyZFBhc3MnO1xuXG4gICAgICAgIGNvbnN0IGZpcnN0U3RvcmVPcCA9IHRoaXMuZm9yd2FyZExpZ2h0aW5nLmlzTXVsdGlwbGVMaWdodFBhc3Nlc05lZWRlZCgpXG4gICAgICAgICAgICA/IFN0b3JlT3AuU1RPUkVcbiAgICAgICAgICAgIDogZGVwdGhTdGVuY2lsU3RvcmVPcDtcblxuICAgICAgICB0aGlzLl9idWlsZEZvcndhcmRNYWluTGlnaHRQYXNzKHBhc3MsIGNhbWVyYUNvbmZpZ3MsXG4gICAgICAgICAgICBpZCwgY2FtZXJhLCBjb2xvck5hbWUsIGRlcHRoU3RlbmNpbE5hbWUsIGZpcnN0U3RvcmVPcCwgbWFpbkxpZ2h0KTtcblxuICAgICAgICAvLyBGb3J3YXJkIExpZ2h0aW5nIChBZGRpdGl2ZSBMaWdodHMpXG4gICAgICAgIHBhc3MgPSB0aGlzLmZvcndhcmRMaWdodGluZ1xuICAgICAgICAgICAgLmFkZExpZ2h0UGFzc2VzKGNvbG9yTmFtZSwgZGVwdGhTdGVuY2lsTmFtZSwgZGVwdGhTdGVuY2lsU3RvcmVPcCxcbiAgICAgICAgICAgICAgICBpZCwgd2lkdGgsIGhlaWdodCwgY2FtZXJhLCB0aGlzLl92aWV3cG9ydCwgcHBsLCBwYXNzKTtcblxuICAgICAgICByZXR1cm4gcGFzcztcbiAgICB9XG4gICAgcHJpdmF0ZSBfYnVpbGRGb3J3YXJkTWFpbkxpZ2h0UGFzcyhcbiAgICAgICAgcGFzczogcmVuZGVyaW5nLkJhc2ljUmVuZGVyUGFzc0J1aWxkZXIsXG4gICAgICAgIGNhbWVyYUNvbmZpZ3M6IFJlYWRvbmx5PENhbWVyYUNvbmZpZ3MgJiBGb3J3YXJkUGFzc0NvbmZpZ3M+LFxuICAgICAgICBpZDogbnVtYmVyLFxuICAgICAgICBjYW1lcmE6IHJlbmRlcmVyLnNjZW5lLkNhbWVyYSxcbiAgICAgICAgY29sb3JOYW1lOiBzdHJpbmcsXG4gICAgICAgIGRlcHRoU3RlbmNpbE5hbWU6IHN0cmluZyxcbiAgICAgICAgZGVwdGhTdGVuY2lsU3RvcmVPcDogZ2Z4LlN0b3JlT3AsXG4gICAgICAgIG1haW5MaWdodDogcmVuZGVyZXIuc2NlbmUuRGlyZWN0aW9uYWxMaWdodCB8IG51bGwsXG4gICAgICAgIHNjZW5lOiByZW5kZXJlci5SZW5kZXJTY2VuZSB8IG51bGwgPSBudWxsLFxuICAgICk6IHZvaWQge1xuICAgICAgICBjb25zdCBRdWV1ZUhpbnQgPSByZW5kZXJpbmcuUXVldWVIaW50O1xuICAgICAgICBjb25zdCBTY2VuZUZsYWdzID0gcmVuZGVyaW5nLlNjZW5lRmxhZ3M7XG4gICAgICAgIC8vIHNldCB2aWV3cG9ydFxuICAgICAgICBwYXNzLnNldFZpZXdwb3J0KHRoaXMuX3ZpZXdwb3J0KTtcblxuICAgICAgICBjb25zdCBjb2xvclN0b3JlT3AgPSBjYW1lcmFDb25maWdzLmVuYWJsZU1TQUEgPyBTdG9yZU9wLkRJU0NBUkQgOiBTdG9yZU9wLlNUT1JFO1xuXG4gICAgICAgIC8vIGJpbmQgb3V0cHV0IHJlbmRlciB0YXJnZXRcbiAgICAgICAgaWYgKGZvcndhcmROZWVkQ2xlYXJDb2xvcihjYW1lcmEpKSB7XG4gICAgICAgICAgICBwYXNzLmFkZFJlbmRlclRhcmdldChjb2xvck5hbWUsIExvYWRPcC5DTEVBUiwgY29sb3JTdG9yZU9wLCB0aGlzLl9jbGVhckNvbG9yKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhc3MuYWRkUmVuZGVyVGFyZ2V0KGNvbG9yTmFtZSwgTG9hZE9wLkxPQUQsIGNvbG9yU3RvcmVPcCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBiaW5kIGRlcHRoIHN0ZW5jaWwgYnVmZmVyXG4gICAgICAgIGlmIChERUJVRykge1xuICAgICAgICAgICAgaWYgKGNvbG9yTmFtZSA9PT0gY2FtZXJhQ29uZmlncy5jb2xvck5hbWUgJiZcbiAgICAgICAgICAgICAgICBkZXB0aFN0ZW5jaWxOYW1lICE9PSBjYW1lcmFDb25maWdzLmRlcHRoU3RlbmNpbE5hbWUpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdEZWZhdWx0IGZyYW1lYnVmZmVyIGNhbm5vdCB1c2UgY3VzdG9tIGRlcHRoIHN0ZW5jaWwgYnVmZmVyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2FtZXJhLmNsZWFyRmxhZyAmIENsZWFyRmxhZ0JpdC5ERVBUSF9TVEVOQ0lMKSB7XG4gICAgICAgICAgICBwYXNzLmFkZERlcHRoU3RlbmNpbChcbiAgICAgICAgICAgICAgICBkZXB0aFN0ZW5jaWxOYW1lLFxuICAgICAgICAgICAgICAgIExvYWRPcC5DTEVBUixcbiAgICAgICAgICAgICAgICBkZXB0aFN0ZW5jaWxTdG9yZU9wLFxuICAgICAgICAgICAgICAgIGNhbWVyYS5jbGVhckRlcHRoLFxuICAgICAgICAgICAgICAgIGNhbWVyYS5jbGVhclN0ZW5jaWwsXG4gICAgICAgICAgICAgICAgY2FtZXJhLmNsZWFyRmxhZyAmIENsZWFyRmxhZ0JpdC5ERVBUSF9TVEVOQ0lMLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhc3MuYWRkRGVwdGhTdGVuY2lsKGRlcHRoU3RlbmNpbE5hbWUsIExvYWRPcC5MT0FELCBkZXB0aFN0ZW5jaWxTdG9yZU9wKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNldCBzaGFkb3cgbWFwIGlmIGVuYWJsZWRcbiAgICAgICAgaWYgKGNhbWVyYUNvbmZpZ3MuZW5hYmxlTWFpbkxpZ2h0U2hhZG93TWFwKSB7XG4gICAgICAgICAgICBwYXNzLmFkZFRleHR1cmUoYFNoYWRvd01hcCR7aWR9YCwgJ2NjX3NoYWRvd01hcCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVE9ETyh6aG91emhlbmdsb25nKTogU2VwYXJhdGUgT1BBUVVFIGFuZCBNQVNLIHF1ZXVlXG5cbiAgICAgICAgLy8gYWRkIG9wYXF1ZSBhbmQgbWFzayBxdWV1ZVxuICAgICAgICBwYXNzLmFkZFF1ZXVlKFF1ZXVlSGludC5OT05FKSAvLyBDdXJyZW50bHkgd2UgcHV0IE9QQVFVRSBhbmQgTUFTSyBpbnRvIG9uZSBxdWV1ZSwgc28gUXVldWVIaW50IGlzIE5PTkVcbiAgICAgICAgICAgIC5hZGRTY2VuZShjYW1lcmEsXG4gICAgICAgICAgICAgICAgU2NlbmVGbGFncy5PUEFRVUUgfCBTY2VuZUZsYWdzLk1BU0ssXG4gICAgICAgICAgICAgICAgbWFpbkxpZ2h0IHx8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBzY2VuZSA/IHNjZW5lIDogdW5kZWZpbmVkKTtcbiAgICB9XG4gICAgcHJpdmF0ZSBfYWRkUGxhbmFyU2hhZG93UXVldWUoXG4gICAgICAgIGNhbWVyYTogcmVuZGVyZXIuc2NlbmUuQ2FtZXJhLFxuICAgICAgICBtYWluTGlnaHQ6IHJlbmRlcmVyLnNjZW5lLkRpcmVjdGlvbmFsTGlnaHQgfCBudWxsLFxuICAgICAgICBwYXNzOiByZW5kZXJpbmcuQmFzaWNSZW5kZXJQYXNzQnVpbGRlcixcbiAgICApIHtcbiAgICAgICAgY29uc3QgUXVldWVIaW50ID0gcmVuZGVyaW5nLlF1ZXVlSGludDtcbiAgICAgICAgY29uc3QgU2NlbmVGbGFncyA9IHJlbmRlcmluZy5TY2VuZUZsYWdzO1xuICAgICAgICBwYXNzLmFkZFF1ZXVlKFF1ZXVlSGludC5CTEVORCwgJ3BsYW5hci1zaGFkb3cnKVxuICAgICAgICAgICAgLmFkZFNjZW5lKFxuICAgICAgICAgICAgICAgIGNhbWVyYSxcbiAgICAgICAgICAgICAgICBTY2VuZUZsYWdzLlNIQURPV19DQVNURVIgfCBTY2VuZUZsYWdzLlBMQU5BUl9TSEFET1cgfCBTY2VuZUZsYWdzLkJMRU5ELFxuICAgICAgICAgICAgICAgIG1haW5MaWdodCB8fCB1bmRlZmluZWQsXG4gICAgICAgICAgICApO1xuICAgIH1cbiAgICBwcml2YXRlIHJlYWRvbmx5IGZvcndhcmRMaWdodGluZyA9IG5ldyBGb3J3YXJkTGlnaHRpbmcoKTtcbiAgICBwcml2YXRlIHJlYWRvbmx5IF92aWV3cG9ydCA9IG5ldyBWaWV3cG9ydCgpO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgX2NsZWFyQ29sb3IgPSBuZXcgQ29sb3IoMCwgMCwgMCwgMSk7XG4gICAgcHJpdmF0ZSByZWFkb25seSBfcmVmbGVjdGlvblByb2JlQ2xlYXJDb2xvciA9IG5ldyBWZWMzKDAsIDAsIDApO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJsb29tUGFzc0NvbmZpZ3Mge1xuICAgIGVuYWJsZUJsb29tOiBib29sZWFuO1xufVxuXG5mdW5jdGlvbiBkb3duU2l6ZShzaXplOiBudW1iZXIsIHNjYWxlOiBudW1iZXIpOiBudW1iZXIge1xuICAgIHJldHVybiBNYXRoLm1heChNYXRoLmZsb29yKHNpemUgKiBzY2FsZSksIDEpO1xufVxuXG5pbnRlcmZhY2UgUmVuZGVyVGV4dHVyZURlc2Mge1xuICAgIG5hbWU6IHN0cmluZztcbiAgICB3aWR0aDogbnVtYmVyO1xuICAgIGhlaWdodDogbnVtYmVyO1xufVxuXG5leHBvcnQgY2xhc3MgQnVpbHRpbkJsb29tUGFzc0J1aWxkZXIgaW1wbGVtZW50cyByZW5kZXJpbmcuUGlwZWxpbmVQYXNzQnVpbGRlciB7XG4gICAgZ2V0Q29uZmlnT3JkZXIoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGdldFJlbmRlck9yZGVyKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiAyMDA7XG4gICAgfVxuICAgIGNvbmZpZ0NhbWVyYShcbiAgICAgICAgY2FtZXJhOiBSZWFkb25seTxyZW5kZXJlci5zY2VuZS5DYW1lcmE+LFxuICAgICAgICBwaXBlbGluZUNvbmZpZ3M6IFJlYWRvbmx5PFBpcGVsaW5lQ29uZmlncz4sXG4gICAgICAgIGNhbWVyYUNvbmZpZ3M6IENhbWVyYUNvbmZpZ3MgJiBCbG9vbVBhc3NDb25maWdzKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHsgYmxvb20gfSA9IGNhbWVyYUNvbmZpZ3Muc2V0dGluZ3M7XG4gICAgICAgIGNvbnN0IGhhc1ZhbGlkTWF0ZXJpYWwgPSAoXG4gICAgICAgICAgICBibG9vbS50eXBlID09PSBCbG9vbVR5cGUuS2F3YXNlRHVhbEZpbHRlciAmJiAhIWJsb29tLmthd2FzZUZpbHRlck1hdGVyaWFsIHx8XG4gICAgICAgICAgICBibG9vbS50eXBlID09PSBCbG9vbVR5cGUuTWlwbWFwRmlsdGVyICYmICEhYmxvb20ubWlwbWFwRmlsdGVyTWF0ZXJpYWxcbiAgICAgICAgKTtcbiAgICAgICAgY2FtZXJhQ29uZmlncy5lbmFibGVCbG9vbSA9IGJsb29tLmVuYWJsZWQgJiYgaGFzVmFsaWRNYXRlcmlhbDtcblxuICAgICAgICBpZiAoY2FtZXJhQ29uZmlncy5lbmFibGVCbG9vbSkge1xuICAgICAgICAgICAgKytjYW1lcmFDb25maWdzLnJlbWFpbmluZ1Bhc3NlcztcbiAgICAgICAgfVxuICAgIH1cbiAgICB3aW5kb3dSZXNpemUoXG4gICAgICAgIHBwbDogcmVuZGVyaW5nLkJhc2ljUGlwZWxpbmUsXG4gICAgICAgIHBwbENvbmZpZ3M6IFJlYWRvbmx5PFBpcGVsaW5lQ29uZmlncz4sXG4gICAgICAgIGNhbWVyYUNvbmZpZ3M6IENhbWVyYUNvbmZpZ3MgJiBCbG9vbVBhc3NDb25maWdzLFxuICAgICAgICB3aW5kb3c6IHJlbmRlcmVyLlJlbmRlcldpbmRvdyk6IHZvaWQge1xuICAgICAgICBpZiAoIWNhbWVyYUNvbmZpZ3MuZW5hYmxlQmxvb20pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCwgc2V0dGluZ3M6IHsgYmxvb20gfSB9ID0gY2FtZXJhQ29uZmlncztcbiAgICAgICAgY29uc3QgaWQgPSB3aW5kb3cucmVuZGVyV2luZG93SWQ7XG4gICAgICAgIGNvbnN0IGZvcm1hdCA9IGNhbWVyYUNvbmZpZ3MucmFkaWFuY2VGb3JtYXQ7XG5cbiAgICAgICAgaWYgKGJsb29tLnR5cGUgPT09IEJsb29tVHlwZS5LYXdhc2VEdWFsRmlsdGVyKSB7XG4gICAgICAgICAgICBsZXQgYmxvb21XaWR0aCA9IGNhbWVyYUNvbmZpZ3Mud2lkdGg7XG4gICAgICAgICAgICBsZXQgYmxvb21IZWlnaHQgPSBjYW1lcmFDb25maWdzLmhlaWdodDtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBibG9vbS5pdGVyYXRpb25zICsgMTsgKytpKSB7XG4gICAgICAgICAgICAgICAgYmxvb21XaWR0aCA9IE1hdGgubWF4KE1hdGguZmxvb3IoYmxvb21XaWR0aCAvIDIpLCAxKTtcbiAgICAgICAgICAgICAgICBibG9vbUhlaWdodCA9IE1hdGgubWF4KE1hdGguZmxvb3IoYmxvb21IZWlnaHQgLyAyKSwgMSk7XG4gICAgICAgICAgICAgICAgcHBsLmFkZFJlbmRlclRhcmdldChgQmxvb21UZXgke2lkfV8ke2l9YCwgZm9ybWF0LCBibG9vbVdpZHRoLCBibG9vbUhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoYmxvb20udHlwZSA9PT0gQmxvb21UeXBlLk1pcG1hcEZpbHRlcikge1xuICAgICAgICAgICAgY29uc3QgaXRlcmF0aW9ucyA9IGJsb29tLml0ZXJhdGlvbnM7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gaXRlcmF0aW9ucyArIDE7ICsraSkge1xuICAgICAgICAgICAgICAgIC8vIERvd25TYW1wbGVcbiAgICAgICAgICAgICAgICBpZiAoaSA8IGl0ZXJhdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSBNYXRoLnBvdygwLjUsIGkgKyAyKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYmxvb21Eb3duU2FtcGxlVGV4RGVzY3NbaV0gPSB0aGlzLmNyZWF0ZVRleHR1cmUoXG4gICAgICAgICAgICAgICAgICAgICAgICBwcGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBgRG93blNhbXBsZUNvbG9yJHtpZH0ke2l9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvd25TaXplKHdpZHRoLCBzY2FsZSksXG4gICAgICAgICAgICAgICAgICAgICAgICBkb3duU2l6ZShoZWlnaHQsIHNjYWxlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFVwU2FtcGxlXG4gICAgICAgICAgICAgICAgaWYgKGkgPCBpdGVyYXRpb25zIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzY2FsZSA9IE1hdGgucG93KDAuNSwgaXRlcmF0aW9ucyAtIGkgLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYmxvb21VcFNhbXBsZVRleERlc2NzW2ldID0gdGhpcy5jcmVhdGVUZXh0dXJlKFxuICAgICAgICAgICAgICAgICAgICAgICAgcHBsLFxuICAgICAgICAgICAgICAgICAgICAgICAgYFVwU2FtcGxlQ29sb3Ike2lkfSR7aX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgZG93blNpemUod2lkdGgsIHNjYWxlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvd25TaXplKGhlaWdodCwgc2NhbGUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9vcmlnaW5hbENvbG9yRGVzYyA9IHRoaXMuY3JlYXRlVGV4dHVyZShwcGwsIGBPcmlnaW5hbENvbG9yJHtpZH1gLCB3aWR0aCwgaGVpZ2h0LCBmb3JtYXQpO1xuICAgICAgICAgICAgdGhpcy5fcHJlZmlsdGVyVGV4RGVzYyA9IHRoaXMuY3JlYXRlVGV4dHVyZShwcGwsIGBQcmVmaWx0ZXJDb2xvciR7aWR9YCxcbiAgICAgICAgICAgICAgICBkb3duU2l6ZSh3aWR0aCwgMC41KSwgZG93blNpemUoaGVpZ2h0LCAwLjUpLCBmb3JtYXQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHByaXZhdGUgY3JlYXRlVGV4dHVyZShcbiAgICAgICAgcHBsOiByZW5kZXJpbmcuQmFzaWNQaXBlbGluZSxcbiAgICAgICAgbmFtZTogc3RyaW5nLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciwgZm9ybWF0OiBudW1iZXIpOiBSZW5kZXJUZXh0dXJlRGVzYyB7XG4gICAgICAgIGNvbnN0IGRlc2MgPSB7IG5hbWUsIHdpZHRoLCBoZWlnaHQgfTtcbiAgICAgICAgcHBsLmFkZFJlbmRlclRhcmdldChkZXNjLm5hbWUsIGZvcm1hdCwgZGVzYy53aWR0aCwgZGVzYy5oZWlnaHQpO1xuICAgICAgICByZXR1cm4gZGVzYztcbiAgICB9XG5cbiAgICBzZXR1cChcbiAgICAgICAgcHBsOiByZW5kZXJpbmcuQmFzaWNQaXBlbGluZSxcbiAgICAgICAgcHBsQ29uZmlnczogUmVhZG9ubHk8UGlwZWxpbmVDb25maWdzPixcbiAgICAgICAgY2FtZXJhQ29uZmlnczogQ2FtZXJhQ29uZmlncyAmIEJsb29tUGFzc0NvbmZpZ3MsXG4gICAgICAgIGNhbWVyYTogcmVuZGVyZXIuc2NlbmUuQ2FtZXJhLFxuICAgICAgICBjb250ZXh0OiBQaXBlbGluZUNvbnRleHQsXG4gICAgICAgIHByZXZSZW5kZXJQYXNzPzogcmVuZGVyaW5nLkJhc2ljUmVuZGVyUGFzc0J1aWxkZXIpXG4gICAgICAgIDogcmVuZGVyaW5nLkJhc2ljUmVuZGVyUGFzc0J1aWxkZXIgfCB1bmRlZmluZWQge1xuICAgICAgICBpZiAoIWNhbWVyYUNvbmZpZ3MuZW5hYmxlQmxvb20pIHtcbiAgICAgICAgICAgIHJldHVybiBwcmV2UmVuZGVyUGFzcztcbiAgICAgICAgfVxuXG4gICAgICAgIC0tY2FtZXJhQ29uZmlncy5yZW1haW5pbmdQYXNzZXM7XG4gICAgICAgIGFzc2VydChjYW1lcmFDb25maWdzLnJlbWFpbmluZ1Bhc3NlcyA+PSAwKTtcblxuICAgICAgICBjb25zdCBibG9vbSA9IGNhbWVyYUNvbmZpZ3Muc2V0dGluZ3MuYmxvb207XG4gICAgICAgIGNvbnN0IGlkID0gY2FtZXJhLndpbmRvdy5yZW5kZXJXaW5kb3dJZDtcblxuICAgICAgICBzd2l0Y2ggKGJsb29tLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgQmxvb21UeXBlLkthd2FzZUR1YWxGaWx0ZXI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBtYXRlcmlhbCA9IGJsb29tLmthd2FzZUZpbHRlck1hdGVyaWFsO1xuICAgICAgICAgICAgICAgIGFzc2VydCghIW1hdGVyaWFsKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYWRkS2F3YXNlRHVhbEZpbHRlckJsb29tUGFzc2VzKFxuICAgICAgICAgICAgICAgICAgICBwcGwsIHBwbENvbmZpZ3MsXG4gICAgICAgICAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3MsXG4gICAgICAgICAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3Muc2V0dGluZ3MsXG4gICAgICAgICAgICAgICAgICAgIG1hdGVyaWFsLFxuICAgICAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhQ29uZmlncy53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhQ29uZmlncy5oZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY29sb3JOYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgQmxvb21UeXBlLk1pcG1hcEZpbHRlcjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hdGVyaWFsID0gYmxvb20ubWlwbWFwRmlsdGVyTWF0ZXJpYWw7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KCEhbWF0ZXJpYWwpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9hZGRNaXBtYXBGaWx0ZXJCbG9vbVBhc3NlcyhcbiAgICAgICAgICAgICAgICAgICAgcHBsLCBwcGxDb25maWdzLFxuICAgICAgICAgICAgICAgICAgICBjYW1lcmFDb25maWdzLFxuICAgICAgICAgICAgICAgICAgICBjYW1lcmFDb25maWdzLnNldHRpbmdzLFxuICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbCxcbiAgICAgICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3Mud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3MuaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmNvbG9yTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBwcmV2UmVuZGVyUGFzcztcbiAgICAgICAgfVxuICAgIH1cbiAgICBwcml2YXRlIF9hZGRLYXdhc2VEdWFsRmlsdGVyQmxvb21QYXNzZXMoXG4gICAgICAgIHBwbDogcmVuZGVyaW5nLkJhc2ljUGlwZWxpbmUsXG4gICAgICAgIHBwbENvbmZpZ3M6IFJlYWRvbmx5PFBpcGVsaW5lQ29uZmlncz4sXG4gICAgICAgIGNhbWVyYUNvbmZpZ3M6IENhbWVyYUNvbmZpZ3MgJiBSZWFkb25seTxCbG9vbVBhc3NDb25maWdzPixcbiAgICAgICAgc2V0dGluZ3M6IFBpcGVsaW5lU2V0dGluZ3MsXG4gICAgICAgIGJsb29tTWF0ZXJpYWw6IE1hdGVyaWFsLFxuICAgICAgICBpZDogbnVtYmVyLFxuICAgICAgICB3aWR0aDogbnVtYmVyLFxuICAgICAgICBoZWlnaHQ6IG51bWJlcixcbiAgICAgICAgcmFkaWFuY2VOYW1lOiBzdHJpbmcsXG4gICAgKTogcmVuZGVyaW5nLkJhc2ljUmVuZGVyUGFzc0J1aWxkZXIge1xuICAgICAgICBjb25zdCBRdWV1ZUhpbnQgPSByZW5kZXJpbmcuUXVldWVIaW50O1xuICAgICAgICAvLyBCYXNlZCBvbiBLYXdhc2UgRHVhbCBGaWx0ZXIgQmx1ci4gU2F2ZXMgYmFuZHdpZHRoIG9uIG1vYmlsZSBkZXZpY2VzLlxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWxlblxuICAgICAgICAvLyBodHRwczovL2NvbW11bml0eS5hcm0uY29tL2Nmcy1maWxlL19fa2V5L2NvbW11bml0eXNlcnZlci1ibG9ncy1jb21wb25lbnRzLXdlYmxvZ2ZpbGVzLzAwLTAwLTAwLTIwLTY2L3NpZ2dyYXBoMjAxNV8yRDAwX21tZ18yRDAwX21hcml1c18yRDAwX3NsaWRlcy5wZGZcblxuICAgICAgICAvLyBTaXplOiBbcHJlZmlsdGVyKDEvMiksIGRvd25zYW1wbGUoMS80KSwgZG93bnNhbXBsZSgxLzgpLCBkb3duc2FtcGxlKDEvMTYpLCAuLi5dXG4gICAgICAgIGNvbnN0IGl0ZXJhdGlvbnMgPSBzZXR0aW5ncy5ibG9vbS5pdGVyYXRpb25zO1xuICAgICAgICBjb25zdCBzaXplQ291bnQgPSBpdGVyYXRpb25zICsgMTtcbiAgICAgICAgdGhpcy5fYmxvb21XaWR0aHMubGVuZ3RoID0gc2l6ZUNvdW50O1xuICAgICAgICB0aGlzLl9ibG9vbUhlaWdodHMubGVuZ3RoID0gc2l6ZUNvdW50O1xuICAgICAgICB0aGlzLl9ibG9vbVdpZHRoc1swXSA9IE1hdGgubWF4KE1hdGguZmxvb3Iod2lkdGggLyAyKSwgMSk7XG4gICAgICAgIHRoaXMuX2Jsb29tSGVpZ2h0c1swXSA9IE1hdGgubWF4KE1hdGguZmxvb3IoaGVpZ2h0IC8gMiksIDEpO1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSAhPT0gc2l6ZUNvdW50OyArK2kpIHtcbiAgICAgICAgICAgIHRoaXMuX2Jsb29tV2lkdGhzW2ldID0gTWF0aC5tYXgoTWF0aC5mbG9vcih0aGlzLl9ibG9vbVdpZHRoc1tpIC0gMV0gLyAyKSwgMSk7XG4gICAgICAgICAgICB0aGlzLl9ibG9vbUhlaWdodHNbaV0gPSBNYXRoLm1heChNYXRoLmZsb29yKHRoaXMuX2Jsb29tSGVpZ2h0c1tpIC0gMV0gLyAyKSwgMSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCbG9vbSB0ZXh0dXJlIG5hbWVzXG4gICAgICAgIHRoaXMuX2Jsb29tVGV4TmFtZXMubGVuZ3RoID0gc2l6ZUNvdW50O1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gc2l6ZUNvdW50OyArK2kpIHtcbiAgICAgICAgICAgIHRoaXMuX2Jsb29tVGV4TmFtZXNbaV0gPSBgQmxvb21UZXgke2lkfV8ke2l9YDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNldHVwIGJsb29tIHBhcmFtZXRlcnNcbiAgICAgICAgdGhpcy5fYmxvb21QYXJhbXMueCA9IHBwbENvbmZpZ3MudXNlRmxvYXRPdXRwdXQgPyAxIDogMDtcbiAgICAgICAgdGhpcy5fYmxvb21QYXJhbXMueSA9IDA7IC8vIHVudXNlZFxuICAgICAgICB0aGlzLl9ibG9vbVBhcmFtcy56ID0gc2V0dGluZ3MuYmxvb20udGhyZXNob2xkO1xuICAgICAgICB0aGlzLl9ibG9vbVBhcmFtcy53ID0gc2V0dGluZ3MuYmxvb20uZW5hYmxlQWxwaGFNYXNrID8gMSA6IDA7XG5cbiAgICAgICAgLy8gUHJlZmlsdGVyIHBhc3NcbiAgICAgICAgY29uc3QgcHJlZmlsdGVyUGFzcyA9IHBwbC5hZGRSZW5kZXJQYXNzKHRoaXMuX2Jsb29tV2lkdGhzWzBdLCB0aGlzLl9ibG9vbUhlaWdodHNbMF0sICdjYy1ibG9vbS1wcmVmaWx0ZXInKTtcbiAgICAgICAgcHJlZmlsdGVyUGFzcy5hZGRSZW5kZXJUYXJnZXQoXG4gICAgICAgICAgICB0aGlzLl9ibG9vbVRleE5hbWVzWzBdLFxuICAgICAgICAgICAgTG9hZE9wLkNMRUFSLFxuICAgICAgICAgICAgU3RvcmVPcC5TVE9SRSxcbiAgICAgICAgICAgIHRoaXMuX2NsZWFyQ29sb3JUcmFuc3BhcmVudEJsYWNrLFxuICAgICAgICApO1xuICAgICAgICBwcmVmaWx0ZXJQYXNzLmFkZFRleHR1cmUocmFkaWFuY2VOYW1lLCAnaW5wdXRUZXh0dXJlJyk7XG4gICAgICAgIHByZWZpbHRlclBhc3Muc2V0VmVjNCgnYmxvb21QYXJhbXMnLCB0aGlzLl9ibG9vbVBhcmFtcyk7XG4gICAgICAgIHByZWZpbHRlclBhc3NcbiAgICAgICAgICAgIC5hZGRRdWV1ZShRdWV1ZUhpbnQuT1BBUVVFKVxuICAgICAgICAgICAgLmFkZEZ1bGxzY3JlZW5RdWFkKGJsb29tTWF0ZXJpYWwsIDApO1xuXG4gICAgICAgIC8vIERvd25zYW1wbGUgcGFzc2VzXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpICE9PSBzaXplQ291bnQ7ICsraSkge1xuICAgICAgICAgICAgY29uc3QgZG93blBhc3MgPSBwcGwuYWRkUmVuZGVyUGFzcyh0aGlzLl9ibG9vbVdpZHRoc1tpXSwgdGhpcy5fYmxvb21IZWlnaHRzW2ldLCAnY2MtYmxvb20tZG93bnNhbXBsZScpO1xuICAgICAgICAgICAgZG93blBhc3MuYWRkUmVuZGVyVGFyZ2V0KHRoaXMuX2Jsb29tVGV4TmFtZXNbaV0sIExvYWRPcC5DTEVBUiwgU3RvcmVPcC5TVE9SRSwgdGhpcy5fY2xlYXJDb2xvclRyYW5zcGFyZW50QmxhY2spO1xuICAgICAgICAgICAgZG93blBhc3MuYWRkVGV4dHVyZSh0aGlzLl9ibG9vbVRleE5hbWVzW2kgLSAxXSwgJ2Jsb29tVGV4dHVyZScpO1xuICAgICAgICAgICAgdGhpcy5fYmxvb21UZXhTaXplLnggPSB0aGlzLl9ibG9vbVdpZHRoc1tpIC0gMV07XG4gICAgICAgICAgICB0aGlzLl9ibG9vbVRleFNpemUueSA9IHRoaXMuX2Jsb29tSGVpZ2h0c1tpIC0gMV07XG4gICAgICAgICAgICBkb3duUGFzcy5zZXRWZWM0KCdibG9vbVRleFNpemUnLCB0aGlzLl9ibG9vbVRleFNpemUpO1xuICAgICAgICAgICAgZG93blBhc3NcbiAgICAgICAgICAgICAgICAuYWRkUXVldWUoUXVldWVIaW50Lk9QQVFVRSlcbiAgICAgICAgICAgICAgICAuYWRkRnVsbHNjcmVlblF1YWQoYmxvb21NYXRlcmlhbCwgMSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVcHNhbXBsZSBwYXNzZXNcbiAgICAgICAgZm9yIChsZXQgaSA9IGl0ZXJhdGlvbnM7IGktLSA+IDA7KSB7XG4gICAgICAgICAgICBjb25zdCB1cFBhc3MgPSBwcGwuYWRkUmVuZGVyUGFzcyh0aGlzLl9ibG9vbVdpZHRoc1tpXSwgdGhpcy5fYmxvb21IZWlnaHRzW2ldLCAnY2MtYmxvb20tdXBzYW1wbGUnKTtcbiAgICAgICAgICAgIHVwUGFzcy5hZGRSZW5kZXJUYXJnZXQodGhpcy5fYmxvb21UZXhOYW1lc1tpXSwgTG9hZE9wLkNMRUFSLCBTdG9yZU9wLlNUT1JFLCB0aGlzLl9jbGVhckNvbG9yVHJhbnNwYXJlbnRCbGFjayk7XG4gICAgICAgICAgICB1cFBhc3MuYWRkVGV4dHVyZSh0aGlzLl9ibG9vbVRleE5hbWVzW2kgKyAxXSwgJ2Jsb29tVGV4dHVyZScpO1xuICAgICAgICAgICAgdGhpcy5fYmxvb21UZXhTaXplLnggPSB0aGlzLl9ibG9vbVdpZHRoc1tpICsgMV07XG4gICAgICAgICAgICB0aGlzLl9ibG9vbVRleFNpemUueSA9IHRoaXMuX2Jsb29tSGVpZ2h0c1tpICsgMV07XG4gICAgICAgICAgICB1cFBhc3Muc2V0VmVjNCgnYmxvb21UZXhTaXplJywgdGhpcy5fYmxvb21UZXhTaXplKTtcbiAgICAgICAgICAgIHVwUGFzc1xuICAgICAgICAgICAgICAgIC5hZGRRdWV1ZShRdWV1ZUhpbnQuT1BBUVVFKVxuICAgICAgICAgICAgICAgIC5hZGRGdWxsc2NyZWVuUXVhZChibG9vbU1hdGVyaWFsLCAyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENvbWJpbmUgcGFzc1xuICAgICAgICB0aGlzLl9ibG9vbVBhcmFtcy53ID0gc2V0dGluZ3MuYmxvb20uaW50ZW5zaXR5O1xuICAgICAgICBjb25zdCBjb21iaW5lUGFzcyA9IHBwbC5hZGRSZW5kZXJQYXNzKHdpZHRoLCBoZWlnaHQsICdjYy1ibG9vbS1jb21iaW5lJyk7XG4gICAgICAgIGNvbWJpbmVQYXNzLmFkZFJlbmRlclRhcmdldChyYWRpYW5jZU5hbWUsIExvYWRPcC5MT0FELCBTdG9yZU9wLlNUT1JFKTtcbiAgICAgICAgY29tYmluZVBhc3MuYWRkVGV4dHVyZSh0aGlzLl9ibG9vbVRleE5hbWVzWzBdLCAnYmxvb21UZXh0dXJlJyk7XG4gICAgICAgIGNvbWJpbmVQYXNzLnNldFZlYzQoJ2Jsb29tUGFyYW1zJywgdGhpcy5fYmxvb21QYXJhbXMpO1xuICAgICAgICBjb21iaW5lUGFzc1xuICAgICAgICAgICAgLmFkZFF1ZXVlKFF1ZXVlSGludC5CTEVORClcbiAgICAgICAgICAgIC5hZGRGdWxsc2NyZWVuUXVhZChibG9vbU1hdGVyaWFsLCAzKTtcblxuICAgICAgICBpZiAoY2FtZXJhQ29uZmlncy5yZW1haW5pbmdQYXNzZXMgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBhZGRDb3B5VG9TY3JlZW5QYXNzKHBwbCwgcHBsQ29uZmlncywgY2FtZXJhQ29uZmlncywgcmFkaWFuY2VOYW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBjb21iaW5lUGFzcztcbiAgICAgICAgfVxuICAgIH1cbiAgICBwcml2YXRlIF9hZGRQYXNzKFxuICAgICAgICBwcGw6IHJlbmRlcmluZy5CYXNpY1BpcGVsaW5lLFxuICAgICAgICB3aWR0aDogbnVtYmVyLFxuICAgICAgICBoZWlnaHQ6IG51bWJlcixcbiAgICAgICAgbGF5b3V0OiBzdHJpbmcsXG4gICAgICAgIGNvbG9yTmFtZTogc3RyaW5nLFxuICAgICAgICBtYXRlcmlhbDogTWF0ZXJpYWwsXG4gICAgICAgIHBhc3NJbmRleDogbnVtYmVyLFxuICAgICAgICBsb2FkT3A6IGdmeC5Mb2FkT3AgPSBMb2FkT3AuQ0xFQVIsXG4gICAgICAgIGNsZWFyQ29sb3I6IGdmeC5Db2xvciA9IHNDbGVhckNvbG9yVHJhbnNwYXJlbnRCbGFjayxcbiAgICAgICAgcXVldWVIaW50OiByZW5kZXJpbmcuUXVldWVIaW50ID0gcmVuZGVyaW5nLlF1ZXVlSGludC5PUEFRVUUpOiByZW5kZXJpbmcuQmFzaWNSZW5kZXJQYXNzQnVpbGRlciB7XG4gICAgICAgIGNvbnN0IHBhc3MgPSBwcGwuYWRkUmVuZGVyUGFzcyh3aWR0aCwgaGVpZ2h0LCBsYXlvdXQpO1xuICAgICAgICBwYXNzLmFkZFJlbmRlclRhcmdldChjb2xvck5hbWUsIGxvYWRPcCwgU3RvcmVPcC5TVE9SRSwgY2xlYXJDb2xvcik7XG4gICAgICAgIHBhc3MuYWRkUXVldWUocXVldWVIaW50KVxuICAgICAgICAgICAgLmFkZEZ1bGxzY3JlZW5RdWFkKG1hdGVyaWFsLCBwYXNzSW5kZXgpO1xuICAgICAgICByZXR1cm4gcGFzcztcbiAgICB9XG4gICAgcHJpdmF0ZSBfYWRkTWlwbWFwRmlsdGVyQmxvb21QYXNzZXMoXG4gICAgICAgIHBwbDogcmVuZGVyaW5nLkJhc2ljUGlwZWxpbmUsXG4gICAgICAgIHBwbENvbmZpZ3M6IFJlYWRvbmx5PFBpcGVsaW5lQ29uZmlncz4sXG4gICAgICAgIGNhbWVyYUNvbmZpZ3M6IENhbWVyYUNvbmZpZ3MgJiBSZWFkb25seTxCbG9vbVBhc3NDb25maWdzPixcbiAgICAgICAgc2V0dGluZ3M6IFBpcGVsaW5lU2V0dGluZ3MsXG4gICAgICAgIGJsb29tTWF0ZXJpYWw6IE1hdGVyaWFsLFxuICAgICAgICBpZDogbnVtYmVyLFxuICAgICAgICB3aWR0aDogbnVtYmVyLFxuICAgICAgICBoZWlnaHQ6IG51bWJlcixcbiAgICAgICAgcmFkaWFuY2VOYW1lOiBzdHJpbmcsXG4gICAgKTogcmVuZGVyaW5nLkJhc2ljUmVuZGVyUGFzc0J1aWxkZXIge1xuICAgICAgICAvLyBTZXR1cCBibG9vbSBwYXJhbWV0ZXJzXG4gICAgICAgIHRoaXMuX2Jsb29tUGFyYW1zLnggPSBwcGxDb25maWdzLnVzZUZsb2F0T3V0cHV0ID8gMSA6IDA7XG4gICAgICAgIHRoaXMuX2Jsb29tUGFyYW1zLnggPSAwOyAvLyB1bnVzZWRcbiAgICAgICAgdGhpcy5fYmxvb21QYXJhbXMueiA9IHNldHRpbmdzLmJsb29tLnRocmVzaG9sZDtcbiAgICAgICAgdGhpcy5fYmxvb21QYXJhbXMudyA9IHNldHRpbmdzLmJsb29tLmludGVuc2l0eTtcbiAgICAgICAgY29uc3QgcHJlZmlsdGVySW5mbyA9IHRoaXMuX3ByZWZpbHRlclRleERlc2M7XG5cbiAgICAgICAgLy8gUHJlZmlsdGVyIHBhc3NcbiAgICAgICAgbGV0IGN1cnJTYW1wbGVQYXNzID0gdGhpcy5fYWRkUGFzcyhcbiAgICAgICAgICAgIHBwbCxcbiAgICAgICAgICAgIHByZWZpbHRlckluZm8ud2lkdGgsXG4gICAgICAgICAgICBwcmVmaWx0ZXJJbmZvLmhlaWdodCxcbiAgICAgICAgICAgICdjYy1ibG9vbS1taXBtYXAtcHJlZmlsdGVyJyxcbiAgICAgICAgICAgIHByZWZpbHRlckluZm8ubmFtZSxcbiAgICAgICAgICAgIGJsb29tTWF0ZXJpYWwsXG4gICAgICAgICAgICAwLFxuICAgICAgICApO1xuICAgICAgICBjdXJyU2FtcGxlUGFzcy5hZGRUZXh0dXJlKHJhZGlhbmNlTmFtZSwgJ21haW5UZXh0dXJlJyk7XG4gICAgICAgIGN1cnJTYW1wbGVQYXNzLnNldFZlYzQoJ2Jsb29tUGFyYW1zJywgdGhpcy5fYmxvb21QYXJhbXMpO1xuXG4gICAgICAgIGNvbnN0IGRvd25TYW1wbGVJbmZvcyA9IHRoaXMuX2Jsb29tRG93blNhbXBsZVRleERlc2NzO1xuICAgICAgICAvLyBEb3duc2FtcGxlIHBhc3Nlc1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRvd25TYW1wbGVJbmZvcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgY29uc3QgY3VyckluZm8gPSBkb3duU2FtcGxlSW5mb3NbaV07XG4gICAgICAgICAgICBjb25zdCBzYW1wbGVyU3JjID0gaSA9PT0gMCA/IHByZWZpbHRlckluZm8gOiBkb3duU2FtcGxlSW5mb3NbaSAtIDFdO1xuICAgICAgICAgICAgY29uc3Qgc2FtcGxlclNyY05hbWUgPSBzYW1wbGVyU3JjLm5hbWU7XG4gICAgICAgICAgICB0aGlzLl9ibG9vbVRleFNpemUueCA9IDEgLyBzYW1wbGVyU3JjLndpZHRoO1xuICAgICAgICAgICAgdGhpcy5fYmxvb21UZXhTaXplLnkgPSAxIC8gc2FtcGxlclNyYy5oZWlnaHQ7XG4gICAgICAgICAgICBjdXJyU2FtcGxlUGFzcyA9IHRoaXMuX2FkZFBhc3MoXG4gICAgICAgICAgICAgICAgcHBsLFxuICAgICAgICAgICAgICAgIGN1cnJJbmZvLndpZHRoLFxuICAgICAgICAgICAgICAgIGN1cnJJbmZvLmhlaWdodCxcbiAgICAgICAgICAgICAgICAnY2MtYmxvb20tbWlwbWFwLWRvd25zYW1wbGUnLFxuICAgICAgICAgICAgICAgIGN1cnJJbmZvLm5hbWUsXG4gICAgICAgICAgICAgICAgYmxvb21NYXRlcmlhbCxcbiAgICAgICAgICAgICAgICAxLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGN1cnJTYW1wbGVQYXNzLmFkZFRleHR1cmUoc2FtcGxlclNyY05hbWUsICdtYWluVGV4dHVyZScpO1xuICAgICAgICAgICAgY3VyclNhbXBsZVBhc3Muc2V0VmVjNCgnYmxvb21QYXJhbXMnLCB0aGlzLl9ibG9vbVRleFNpemUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxhc3RJbmRleCA9IGRvd25TYW1wbGVJbmZvcy5sZW5ndGggLSAxO1xuICAgICAgICBjb25zdCB1cFNhbXBsZUluZm9zID0gdGhpcy5fYmxvb21VcFNhbXBsZVRleERlc2NzO1xuICAgICAgICAvLyBVcHNhbXBsZSBwYXNzZXNcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB1cFNhbXBsZUluZm9zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJySW5mbyA9IHVwU2FtcGxlSW5mb3NbaV07XG4gICAgICAgICAgICBjb25zdCBzYW1wbGVTcmMgPSBpID09PSAwID8gZG93blNhbXBsZUluZm9zW2xhc3RJbmRleF0gOiB1cFNhbXBsZUluZm9zW2kgLSAxXTtcbiAgICAgICAgICAgIGNvbnN0IHNhbXBsZVNyY05hbWUgPSBzYW1wbGVTcmMubmFtZTtcbiAgICAgICAgICAgIHRoaXMuX2Jsb29tVGV4U2l6ZS54ID0gMSAvIHNhbXBsZVNyYy53aWR0aDtcbiAgICAgICAgICAgIHRoaXMuX2Jsb29tVGV4U2l6ZS55ID0gMSAvIHNhbXBsZVNyYy5oZWlnaHQ7XG4gICAgICAgICAgICBjdXJyU2FtcGxlUGFzcyA9IHRoaXMuX2FkZFBhc3MoXG4gICAgICAgICAgICAgICAgcHBsLFxuICAgICAgICAgICAgICAgIGN1cnJJbmZvLndpZHRoLFxuICAgICAgICAgICAgICAgIGN1cnJJbmZvLmhlaWdodCxcbiAgICAgICAgICAgICAgICAnY2MtYmxvb20tbWlwbWFwLXVwc2FtcGxlJyxcbiAgICAgICAgICAgICAgICBjdXJySW5mby5uYW1lLFxuICAgICAgICAgICAgICAgIGJsb29tTWF0ZXJpYWwsXG4gICAgICAgICAgICAgICAgMixcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjdXJyU2FtcGxlUGFzcy5hZGRUZXh0dXJlKHNhbXBsZVNyY05hbWUsICdtYWluVGV4dHVyZScpO1xuICAgICAgICAgICAgY3VyclNhbXBsZVBhc3MuYWRkVGV4dHVyZShkb3duU2FtcGxlSW5mb3NbbGFzdEluZGV4IC0gMSAtIGldLm5hbWUsICdkb3duc2FtcGxlVGV4dHVyZScpO1xuICAgICAgICAgICAgY3VyclNhbXBsZVBhc3Muc2V0VmVjNCgnYmxvb21QYXJhbXMnLCB0aGlzLl9ibG9vbVRleFNpemUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ29tYmluZSBwYXNzXG4gICAgICAgIGNvbnN0IGNvbWJpbmVQYXNzID0gdGhpcy5fYWRkUGFzcyhcbiAgICAgICAgICAgIHBwbCxcbiAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0LFxuICAgICAgICAgICAgJ2NjLWJsb29tLW1pcG1hcC1jb21iaW5lJyxcbiAgICAgICAgICAgIHJhZGlhbmNlTmFtZSxcbiAgICAgICAgICAgIGJsb29tTWF0ZXJpYWwsXG4gICAgICAgICAgICAzLFxuICAgICAgICAgICAgTG9hZE9wLkxPQUQsXG4gICAgICAgICk7XG4gICAgICAgIGNvbWJpbmVQYXNzLmFkZFRleHR1cmUodXBTYW1wbGVJbmZvc1t1cFNhbXBsZUluZm9zLmxlbmd0aCAtIDFdLm5hbWUsICdibG9vbVRleHR1cmUnKTtcbiAgICAgICAgY29tYmluZVBhc3Muc2V0VmVjNCgnYmxvb21QYXJhbXMnLCB0aGlzLl9ibG9vbVBhcmFtcyk7XG4gICAgICAgIGlmIChjYW1lcmFDb25maWdzLnJlbWFpbmluZ1Bhc3NlcyA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGFkZENvcHlUb1NjcmVlblBhc3MocHBsLCBwcGxDb25maWdzLCBjYW1lcmFDb25maWdzLCByYWRpYW5jZU5hbWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGNvbWJpbmVQYXNzO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gQmxvb21cbiAgICBwcml2YXRlIHJlYWRvbmx5IF9jbGVhckNvbG9yVHJhbnNwYXJlbnRCbGFjayA9IG5ldyBDb2xvcigwLCAwLCAwLCAwKTtcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9ibG9vbVBhcmFtcyA9IG5ldyBWZWM0KDAsIDAsIDAsIDApO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgX2Jsb29tVGV4U2l6ZSA9IG5ldyBWZWM0KDAsIDAsIDAsIDApO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgX2Jsb29tV2lkdGhzOiBBcnJheTxudW1iZXI+ID0gW107XG4gICAgcHJpdmF0ZSByZWFkb25seSBfYmxvb21IZWlnaHRzOiBBcnJheTxudW1iZXI+ID0gW107XG4gICAgcHJpdmF0ZSByZWFkb25seSBfYmxvb21UZXhOYW1lczogQXJyYXk8c3RyaW5nPiA9IFtdO1xuXG4gICAgLy8gTWlwbWFwIEJsb29tXG4gICAgcHJpdmF0ZSByZWFkb25seSBfYmxvb21VcFNhbXBsZVRleERlc2NzOiBBcnJheTxSZW5kZXJUZXh0dXJlRGVzYz4gPSBbXTtcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9ibG9vbURvd25TYW1wbGVUZXhEZXNjczogQXJyYXk8UmVuZGVyVGV4dHVyZURlc2M+ID0gW107XG4gICAgcHJpdmF0ZSBfcHJlZmlsdGVyVGV4RGVzYzogUmVuZGVyVGV4dHVyZURlc2MgPSB7IG5hbWU6ICcnLCB3aWR0aDogMCwgaGVpZ2h0OiAwIH07XG4gICAgcHJpdmF0ZSBfb3JpZ2luYWxDb2xvckRlc2M6IFJlbmRlclRleHR1cmVEZXNjID0geyBuYW1lOiAnJywgd2lkdGg6IDAsIGhlaWdodDogMCB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRvbmVNYXBwaW5nUGFzc0NvbmZpZ3Mge1xuICAgIGVuYWJsZVRvbmVNYXBwaW5nOiBib29sZWFuO1xuICAgIGVuYWJsZUNvbG9yR3JhZGluZzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNsYXNzIEJ1aWx0aW5Ub25lTWFwcGluZ1Bhc3NCdWlsZGVyIGltcGxlbWVudHMgcmVuZGVyaW5nLlBpcGVsaW5lUGFzc0J1aWxkZXIge1xuICAgIGdldENvbmZpZ09yZGVyKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBnZXRSZW5kZXJPcmRlcigpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gMzAwO1xuICAgIH1cbiAgICBjb25maWdDYW1lcmEoXG4gICAgICAgIGNhbWVyYTogUmVhZG9ubHk8cmVuZGVyZXIuc2NlbmUuQ2FtZXJhPixcbiAgICAgICAgcHBsQ29uZmlnczogUmVhZG9ubHk8UGlwZWxpbmVDb25maWdzPixcbiAgICAgICAgY2FtZXJhQ29uZmlnczogQ2FtZXJhQ29uZmlncyAmIFRvbmVNYXBwaW5nUGFzc0NvbmZpZ3MpOiB2b2lkIHtcbiAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSBjYW1lcmFDb25maWdzLnNldHRpbmdzO1xuXG4gICAgICAgIGNhbWVyYUNvbmZpZ3MuZW5hYmxlQ29sb3JHcmFkaW5nXG4gICAgICAgICAgICA9IHNldHRpbmdzLmNvbG9yR3JhZGluZy5lbmFibGVkXG4gICAgICAgICAgICAmJiAhIXNldHRpbmdzLmNvbG9yR3JhZGluZy5tYXRlcmlhbFxuICAgICAgICAgICAgJiYgISFzZXR0aW5ncy5jb2xvckdyYWRpbmcuY29sb3JHcmFkaW5nTWFwO1xuXG4gICAgICAgIGNhbWVyYUNvbmZpZ3MuZW5hYmxlVG9uZU1hcHBpbmdcbiAgICAgICAgICAgID0gY2FtZXJhQ29uZmlncy5lbmFibGVIRFIgLy8gRnJvbSBIYWxmIHRvIFJHQkE4XG4gICAgICAgICAgICB8fCBjYW1lcmFDb25maWdzLmVuYWJsZUNvbG9yR3JhZGluZzsgLy8gQ29sb3IgZ3JhZGluZ1xuXG4gICAgICAgIGlmIChjYW1lcmFDb25maWdzLmVuYWJsZVRvbmVNYXBwaW5nKSB7XG4gICAgICAgICAgICArK2NhbWVyYUNvbmZpZ3MucmVtYWluaW5nUGFzc2VzO1xuICAgICAgICB9XG4gICAgfVxuICAgIHdpbmRvd1Jlc2l6ZShcbiAgICAgICAgcHBsOiByZW5kZXJpbmcuQmFzaWNQaXBlbGluZSxcbiAgICAgICAgcHBsQ29uZmlnczogUmVhZG9ubHk8UGlwZWxpbmVDb25maWdzPixcbiAgICAgICAgY2FtZXJhQ29uZmlnczogQ2FtZXJhQ29uZmlncyAmIFRvbmVNYXBwaW5nUGFzc0NvbmZpZ3MpOiB2b2lkIHtcbiAgICAgICAgaWYgKGNhbWVyYUNvbmZpZ3MuZW5hYmxlQ29sb3JHcmFkaW5nKSB7XG4gICAgICAgICAgICBhc3NlcnQoISFjYW1lcmFDb25maWdzLnNldHRpbmdzLmNvbG9yR3JhZGluZy5tYXRlcmlhbCk7XG4gICAgICAgICAgICBjYW1lcmFDb25maWdzLnNldHRpbmdzLmNvbG9yR3JhZGluZy5tYXRlcmlhbC5zZXRQcm9wZXJ0eShcbiAgICAgICAgICAgICAgICAnY29sb3JHcmFkaW5nTWFwJyxcbiAgICAgICAgICAgICAgICBjYW1lcmFDb25maWdzLnNldHRpbmdzLmNvbG9yR3JhZGluZy5jb2xvckdyYWRpbmdNYXApO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldHVwKFxuICAgICAgICBwcGw6IHJlbmRlcmluZy5CYXNpY1BpcGVsaW5lLFxuICAgICAgICBwcGxDb25maWdzOiBSZWFkb25seTxQaXBlbGluZUNvbmZpZ3M+LFxuICAgICAgICBjYW1lcmFDb25maWdzOiBDYW1lcmFDb25maWdzICYgVG9uZU1hcHBpbmdQYXNzQ29uZmlncyxcbiAgICAgICAgY2FtZXJhOiByZW5kZXJlci5zY2VuZS5DYW1lcmEsXG4gICAgICAgIGNvbnRleHQ6IFBpcGVsaW5lQ29udGV4dCxcbiAgICAgICAgcHJldlJlbmRlclBhc3M/OiByZW5kZXJpbmcuQmFzaWNSZW5kZXJQYXNzQnVpbGRlcilcbiAgICAgICAgOiByZW5kZXJpbmcuQmFzaWNSZW5kZXJQYXNzQnVpbGRlciB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGlmICghY2FtZXJhQ29uZmlncy5lbmFibGVUb25lTWFwcGluZykge1xuICAgICAgICAgICAgcmV0dXJuIHByZXZSZW5kZXJQYXNzO1xuICAgICAgICB9XG5cbiAgICAgICAgLS1jYW1lcmFDb25maWdzLnJlbWFpbmluZ1Bhc3NlcztcbiAgICAgICAgYXNzZXJ0KGNhbWVyYUNvbmZpZ3MucmVtYWluaW5nUGFzc2VzID49IDApO1xuICAgICAgICBpZiAoY2FtZXJhQ29uZmlncy5yZW1haW5pbmdQYXNzZXMgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hZGRDb3B5QW5kVG9uZW1hcFBhc3MocHBsLCBwcGxDb25maWdzLCBjYW1lcmFDb25maWdzLFxuICAgICAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3Mud2lkdGgsIGNhbWVyYUNvbmZpZ3MuaGVpZ2h0LFxuICAgICAgICAgICAgICAgIGNvbnRleHQuY29sb3JOYW1lLCBjYW1lcmFDb25maWdzLmNvbG9yTmFtZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBpZCA9IGNhbWVyYUNvbmZpZ3MucmVuZGVyV2luZG93SWQ7XG4gICAgICAgICAgICBjb25zdCBsZHJDb2xvclByZWZpeCA9IGNhbWVyYUNvbmZpZ3MuZW5hYmxlU2hhZGluZ1NjYWxlXG4gICAgICAgICAgICAgICAgPyBgU2NhbGVkTGRyQ29sb3JgXG4gICAgICAgICAgICAgICAgOiBgTGRyQ29sb3JgO1xuXG4gICAgICAgICAgICBjb25zdCBsZHJDb2xvck5hbWUgPSBnZXRQaW5nUG9uZ1JlbmRlclRhcmdldChjb250ZXh0LmNvbG9yTmFtZSwgbGRyQ29sb3JQcmVmaXgsIGlkKTtcbiAgICAgICAgICAgIGNvbnN0IHJhZGlhbmNlTmFtZSA9IGNvbnRleHQuY29sb3JOYW1lO1xuICAgICAgICAgICAgY29udGV4dC5jb2xvck5hbWUgPSBsZHJDb2xvck5hbWU7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hZGRDb3B5QW5kVG9uZW1hcFBhc3MocHBsLCBwcGxDb25maWdzLCBjYW1lcmFDb25maWdzLFxuICAgICAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3Mud2lkdGgsIGNhbWVyYUNvbmZpZ3MuaGVpZ2h0LFxuICAgICAgICAgICAgICAgIHJhZGlhbmNlTmFtZSwgbGRyQ29sb3JOYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwcml2YXRlIF9hZGRDb3B5QW5kVG9uZW1hcFBhc3MoXG4gICAgICAgIHBwbDogcmVuZGVyaW5nLkJhc2ljUGlwZWxpbmUsXG4gICAgICAgIHBwbENvbmZpZ3M6IFJlYWRvbmx5PFBpcGVsaW5lQ29uZmlncz4sXG4gICAgICAgIGNhbWVyYUNvbmZpZ3M6IENhbWVyYUNvbmZpZ3MgJiBUb25lTWFwcGluZ1Bhc3NDb25maWdzLFxuICAgICAgICB3aWR0aDogbnVtYmVyLFxuICAgICAgICBoZWlnaHQ6IG51bWJlcixcbiAgICAgICAgcmFkaWFuY2VOYW1lOiBzdHJpbmcsXG4gICAgICAgIGNvbG9yTmFtZTogc3RyaW5nLFxuICAgICk6IHJlbmRlcmluZy5CYXNpY1JlbmRlclBhc3NCdWlsZGVyIHtcbiAgICAgICAgbGV0IHBhc3M6IHJlbmRlcmluZy5CYXNpY1JlbmRlclBhc3NCdWlsZGVyO1xuICAgICAgICBjb25zdCBzZXR0aW5ncyA9IGNhbWVyYUNvbmZpZ3Muc2V0dGluZ3M7XG4gICAgICAgIGlmIChjYW1lcmFDb25maWdzLmVuYWJsZUNvbG9yR3JhZGluZykge1xuICAgICAgICAgICAgYXNzZXJ0KCEhc2V0dGluZ3MuY29sb3JHcmFkaW5nLm1hdGVyaWFsKTtcbiAgICAgICAgICAgIGFzc2VydCghIXNldHRpbmdzLmNvbG9yR3JhZGluZy5jb2xvckdyYWRpbmdNYXApO1xuXG4gICAgICAgICAgICBjb25zdCBsdXRUZXggPSBzZXR0aW5ncy5jb2xvckdyYWRpbmcuY29sb3JHcmFkaW5nTWFwO1xuICAgICAgICAgICAgdGhpcy5fY29sb3JHcmFkaW5nVGV4U2l6ZS54ID0gbHV0VGV4LndpZHRoO1xuICAgICAgICAgICAgdGhpcy5fY29sb3JHcmFkaW5nVGV4U2l6ZS55ID0gbHV0VGV4LmhlaWdodDtcblxuICAgICAgICAgICAgY29uc3QgaXNTcXVhcmVNYXAgPSBsdXRUZXgud2lkdGggPT09IGx1dFRleC5oZWlnaHQ7XG4gICAgICAgICAgICBpZiAoaXNTcXVhcmVNYXApIHtcbiAgICAgICAgICAgICAgICBwYXNzID0gcHBsLmFkZFJlbmRlclBhc3Mod2lkdGgsIGhlaWdodCwgJ2NjLWNvbG9yLWdyYWRpbmctOHg4Jyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhc3MgPSBwcGwuYWRkUmVuZGVyUGFzcyh3aWR0aCwgaGVpZ2h0LCAnY2MtY29sb3ItZ3JhZGluZy1ueDEnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhc3MuYWRkUmVuZGVyVGFyZ2V0KGNvbG9yTmFtZSwgTG9hZE9wLkNMRUFSLCBTdG9yZU9wLlNUT1JFLCBzQ2xlYXJDb2xvclRyYW5zcGFyZW50QmxhY2spO1xuICAgICAgICAgICAgcGFzcy5hZGRUZXh0dXJlKHJhZGlhbmNlTmFtZSwgJ3NjZW5lQ29sb3JNYXAnKTtcbiAgICAgICAgICAgIHBhc3Muc2V0VmVjMignbHV0VGV4dHVyZVNpemUnLCB0aGlzLl9jb2xvckdyYWRpbmdUZXhTaXplKTtcbiAgICAgICAgICAgIHBhc3Muc2V0RmxvYXQoJ2NvbnRyaWJ1dGUnLCBzZXR0aW5ncy5jb2xvckdyYWRpbmcuY29udHJpYnV0ZSk7XG4gICAgICAgICAgICBwYXNzLmFkZFF1ZXVlKHJlbmRlcmluZy5RdWV1ZUhpbnQuT1BBUVVFKVxuICAgICAgICAgICAgICAgIC5hZGRGdWxsc2NyZWVuUXVhZChzZXR0aW5ncy5jb2xvckdyYWRpbmcubWF0ZXJpYWwsIGlzU3F1YXJlTWFwID8gMSA6IDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFzcyA9IHBwbC5hZGRSZW5kZXJQYXNzKHdpZHRoLCBoZWlnaHQsICdjYy10b25lLW1hcHBpbmcnKTtcbiAgICAgICAgICAgIHBhc3MuYWRkUmVuZGVyVGFyZ2V0KGNvbG9yTmFtZSwgTG9hZE9wLkNMRUFSLCBTdG9yZU9wLlNUT1JFLCBzQ2xlYXJDb2xvclRyYW5zcGFyZW50QmxhY2spO1xuICAgICAgICAgICAgcGFzcy5hZGRUZXh0dXJlKHJhZGlhbmNlTmFtZSwgJ2lucHV0VGV4dHVyZScpO1xuICAgICAgICAgICAgaWYgKHNldHRpbmdzLnRvbmVNYXBwaW5nLm1hdGVyaWFsKSB7XG4gICAgICAgICAgICAgICAgcGFzcy5hZGRRdWV1ZShyZW5kZXJpbmcuUXVldWVIaW50Lk9QQVFVRSlcbiAgICAgICAgICAgICAgICAgICAgLmFkZEZ1bGxzY3JlZW5RdWFkKHNldHRpbmdzLnRvbmVNYXBwaW5nLm1hdGVyaWFsLCAwKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KCEhY2FtZXJhQ29uZmlncy5jb3B5QW5kVG9uZW1hcE1hdGVyaWFsKTtcbiAgICAgICAgICAgICAgICBwYXNzLmFkZFF1ZXVlKHJlbmRlcmluZy5RdWV1ZUhpbnQuT1BBUVVFKVxuICAgICAgICAgICAgICAgICAgICAuYWRkRnVsbHNjcmVlblF1YWQoY2FtZXJhQ29uZmlncy5jb3B5QW5kVG9uZW1hcE1hdGVyaWFsLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFzcztcbiAgICB9XG4gICAgcHJpdmF0ZSByZWFkb25seSBfY29sb3JHcmFkaW5nVGV4U2l6ZSA9IG5ldyBWZWMyKDAsIDApO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZYQUFQYXNzQ29uZmlncyB7XG4gICAgZW5hYmxlRlhBQTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNsYXNzIEJ1aWx0aW5GWEFBUGFzc0J1aWxkZXIgaW1wbGVtZW50cyByZW5kZXJpbmcuUGlwZWxpbmVQYXNzQnVpbGRlciB7XG4gICAgZ2V0Q29uZmlnT3JkZXIoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGdldFJlbmRlck9yZGVyKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiA0MDA7XG4gICAgfVxuICAgIGNvbmZpZ0NhbWVyYShcbiAgICAgICAgY2FtZXJhOiBSZWFkb25seTxyZW5kZXJlci5zY2VuZS5DYW1lcmE+LFxuICAgICAgICBwcGxDb25maWdzOiBSZWFkb25seTxQaXBlbGluZUNvbmZpZ3M+LFxuICAgICAgICBjYW1lcmFDb25maWdzOiBDYW1lcmFDb25maWdzICYgRlhBQVBhc3NDb25maWdzKTogdm9pZCB7XG4gICAgICAgIGNhbWVyYUNvbmZpZ3MuZW5hYmxlRlhBQVxuICAgICAgICAgICAgPSBjYW1lcmFDb25maWdzLnNldHRpbmdzLmZ4YWEuZW5hYmxlZFxuICAgICAgICAgICAgJiYgISFjYW1lcmFDb25maWdzLnNldHRpbmdzLmZ4YWEubWF0ZXJpYWw7XG4gICAgICAgIGlmIChjYW1lcmFDb25maWdzLmVuYWJsZUZYQUEpIHtcbiAgICAgICAgICAgICsrY2FtZXJhQ29uZmlncy5yZW1haW5pbmdQYXNzZXM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0dXAoXG4gICAgICAgIHBwbDogcmVuZGVyaW5nLkJhc2ljUGlwZWxpbmUsXG4gICAgICAgIHBwbENvbmZpZ3M6IFJlYWRvbmx5PFBpcGVsaW5lQ29uZmlncz4sXG4gICAgICAgIGNhbWVyYUNvbmZpZ3M6IENhbWVyYUNvbmZpZ3MgJiBGWEFBUGFzc0NvbmZpZ3MsXG4gICAgICAgIGNhbWVyYTogcmVuZGVyZXIuc2NlbmUuQ2FtZXJhLFxuICAgICAgICBjb250ZXh0OiBQaXBlbGluZUNvbnRleHQsXG4gICAgICAgIHByZXZSZW5kZXJQYXNzPzogcmVuZGVyaW5nLkJhc2ljUmVuZGVyUGFzc0J1aWxkZXIpXG4gICAgICAgIDogcmVuZGVyaW5nLkJhc2ljUmVuZGVyUGFzc0J1aWxkZXIgfCB1bmRlZmluZWQge1xuICAgICAgICBpZiAoIWNhbWVyYUNvbmZpZ3MuZW5hYmxlRlhBQSkge1xuICAgICAgICAgICAgcmV0dXJuIHByZXZSZW5kZXJQYXNzO1xuICAgICAgICB9XG4gICAgICAgIC0tY2FtZXJhQ29uZmlncy5yZW1haW5pbmdQYXNzZXM7XG4gICAgICAgIGFzc2VydChjYW1lcmFDb25maWdzLnJlbWFpbmluZ1Bhc3NlcyA+PSAwKTtcblxuICAgICAgICBjb25zdCBpZCA9IGNhbWVyYUNvbmZpZ3MucmVuZGVyV2luZG93SWQ7XG4gICAgICAgIGNvbnN0IGxkckNvbG9yUHJlZml4ID0gY2FtZXJhQ29uZmlncy5lbmFibGVTaGFkaW5nU2NhbGVcbiAgICAgICAgICAgID8gYFNjYWxlZExkckNvbG9yYFxuICAgICAgICAgICAgOiBgTGRyQ29sb3JgO1xuICAgICAgICBjb25zdCBsZHJDb2xvck5hbWUgPSBnZXRQaW5nUG9uZ1JlbmRlclRhcmdldChjb250ZXh0LmNvbG9yTmFtZSwgbGRyQ29sb3JQcmVmaXgsIGlkKTtcblxuICAgICAgICBhc3NlcnQoISFjYW1lcmFDb25maWdzLnNldHRpbmdzLmZ4YWEubWF0ZXJpYWwpO1xuICAgICAgICBpZiAoY2FtZXJhQ29uZmlncy5yZW1haW5pbmdQYXNzZXMgPT09IDApIHtcbiAgICAgICAgICAgIGlmIChjYW1lcmFDb25maWdzLmVuYWJsZVNoYWRpbmdTY2FsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FkZEZ4YWFQYXNzKHBwbCwgcHBsQ29uZmlncyxcbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhQ29uZmlncy5zZXR0aW5ncy5meGFhLm1hdGVyaWFsLFxuICAgICAgICAgICAgICAgICAgICBjYW1lcmFDb25maWdzLndpZHRoLFxuICAgICAgICAgICAgICAgICAgICBjYW1lcmFDb25maWdzLmhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jb2xvck5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGxkckNvbG9yTmFtZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFkZENvcHlUb1NjcmVlblBhc3MocHBsLCBwcGxDb25maWdzLCBjYW1lcmFDb25maWdzLCBsZHJDb2xvck5hbWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhc3NlcnQoY2FtZXJhQ29uZmlncy53aWR0aCA9PT0gY2FtZXJhQ29uZmlncy5uYXRpdmVXaWR0aCk7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KGNhbWVyYUNvbmZpZ3MuaGVpZ2h0ID09PSBjYW1lcmFDb25maWdzLm5hdGl2ZUhlaWdodCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FkZEZ4YWFQYXNzKHBwbCwgcHBsQ29uZmlncyxcbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhQ29uZmlncy5zZXR0aW5ncy5meGFhLm1hdGVyaWFsLFxuICAgICAgICAgICAgICAgICAgICBjYW1lcmFDb25maWdzLndpZHRoLFxuICAgICAgICAgICAgICAgICAgICBjYW1lcmFDb25maWdzLmhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jb2xvck5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3MuY29sb3JOYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGlucHV0Q29sb3JOYW1lID0gY29udGV4dC5jb2xvck5hbWU7XG4gICAgICAgICAgICBjb250ZXh0LmNvbG9yTmFtZSA9IGxkckNvbG9yTmFtZTtcbiAgICAgICAgICAgIGNvbnN0IGxhc3RQYXNzID0gdGhpcy5fYWRkRnhhYVBhc3MocHBsLCBwcGxDb25maWdzLFxuICAgICAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3Muc2V0dGluZ3MuZnhhYS5tYXRlcmlhbCxcbiAgICAgICAgICAgICAgICBjYW1lcmFDb25maWdzLndpZHRoLFxuICAgICAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3MuaGVpZ2h0LFxuICAgICAgICAgICAgICAgIGlucHV0Q29sb3JOYW1lLFxuICAgICAgICAgICAgICAgIGxkckNvbG9yTmFtZSk7XG4gICAgICAgICAgICByZXR1cm4gbGFzdFBhc3M7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcHJpdmF0ZSBfYWRkRnhhYVBhc3MoXG4gICAgICAgIHBwbDogcmVuZGVyaW5nLkJhc2ljUGlwZWxpbmUsXG4gICAgICAgIHBwbENvbmZpZ3M6IFJlYWRvbmx5PFBpcGVsaW5lQ29uZmlncz4sXG4gICAgICAgIGZ4YWFNYXRlcmlhbDogTWF0ZXJpYWwsXG4gICAgICAgIHdpZHRoOiBudW1iZXIsXG4gICAgICAgIGhlaWdodDogbnVtYmVyLFxuICAgICAgICBsZHJDb2xvck5hbWU6IHN0cmluZyxcbiAgICAgICAgY29sb3JOYW1lOiBzdHJpbmcsXG4gICAgKTogcmVuZGVyaW5nLkJhc2ljUmVuZGVyUGFzc0J1aWxkZXIge1xuICAgICAgICB0aGlzLl9meGFhUGFyYW1zLnggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5fZnhhYVBhcmFtcy55ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLl9meGFhUGFyYW1zLnogPSAxIC8gd2lkdGg7XG4gICAgICAgIHRoaXMuX2Z4YWFQYXJhbXMudyA9IDEgLyBoZWlnaHQ7XG5cbiAgICAgICAgY29uc3QgcGFzcyA9IHBwbC5hZGRSZW5kZXJQYXNzKHdpZHRoLCBoZWlnaHQsICdjYy1meGFhJyk7XG4gICAgICAgIHBhc3MuYWRkUmVuZGVyVGFyZ2V0KGNvbG9yTmFtZSwgTG9hZE9wLkNMRUFSLCBTdG9yZU9wLlNUT1JFLCBzQ2xlYXJDb2xvclRyYW5zcGFyZW50QmxhY2spO1xuICAgICAgICBwYXNzLmFkZFRleHR1cmUobGRyQ29sb3JOYW1lLCAnc2NlbmVDb2xvck1hcCcpO1xuICAgICAgICBwYXNzLnNldFZlYzQoJ3RleFNpemUnLCB0aGlzLl9meGFhUGFyYW1zKTtcbiAgICAgICAgcGFzcy5hZGRRdWV1ZShyZW5kZXJpbmcuUXVldWVIaW50Lk9QQVFVRSlcbiAgICAgICAgICAgIC5hZGRGdWxsc2NyZWVuUXVhZChmeGFhTWF0ZXJpYWwsIDApO1xuICAgICAgICByZXR1cm4gcGFzcztcbiAgICB9XG4gICAgLy8gRlhBQVxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2Z4YWFQYXJhbXMgPSBuZXcgVmVjNCgwLCAwLCAwLCAwKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBGU1JQYXNzQ29uZmlncyB7XG4gICAgZW5hYmxlRlNSOiBib29sZWFuO1xufVxuXG5leHBvcnQgY2xhc3MgQnVpbHRpbkZzclBhc3NCdWlsZGVyIGltcGxlbWVudHMgcmVuZGVyaW5nLlBpcGVsaW5lUGFzc0J1aWxkZXIge1xuICAgIGdldENvbmZpZ09yZGVyKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBnZXRSZW5kZXJPcmRlcigpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gNTAwO1xuICAgIH1cbiAgICBjb25maWdDYW1lcmEoXG4gICAgICAgIGNhbWVyYTogUmVhZG9ubHk8cmVuZGVyZXIuc2NlbmUuQ2FtZXJhPixcbiAgICAgICAgcHBsQ29uZmlnczogUmVhZG9ubHk8UGlwZWxpbmVDb25maWdzPixcbiAgICAgICAgY2FtZXJhQ29uZmlnczogQ2FtZXJhQ29uZmlncyAmIEZTUlBhc3NDb25maWdzKTogdm9pZCB7XG4gICAgICAgIC8vIEZTUiAoRGVwZW5kIG9uIFNoYWRpbmcgc2NhbGUpXG4gICAgICAgIGNhbWVyYUNvbmZpZ3MuZW5hYmxlRlNSID0gY2FtZXJhQ29uZmlncy5zZXR0aW5ncy5mc3IuZW5hYmxlZFxuICAgICAgICAgICAgJiYgISFjYW1lcmFDb25maWdzLnNldHRpbmdzLmZzci5tYXRlcmlhbFxuICAgICAgICAgICAgJiYgY2FtZXJhQ29uZmlncy5lbmFibGVTaGFkaW5nU2NhbGVcbiAgICAgICAgICAgICYmIGNhbWVyYUNvbmZpZ3Muc2hhZGluZ1NjYWxlIDwgMS4wO1xuXG4gICAgICAgIGlmIChjYW1lcmFDb25maWdzLmVuYWJsZUZTUikge1xuICAgICAgICAgICAgKytjYW1lcmFDb25maWdzLnJlbWFpbmluZ1Bhc3NlcztcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXR1cChcbiAgICAgICAgcHBsOiByZW5kZXJpbmcuQmFzaWNQaXBlbGluZSxcbiAgICAgICAgcHBsQ29uZmlnczogUmVhZG9ubHk8UGlwZWxpbmVDb25maWdzPixcbiAgICAgICAgY2FtZXJhQ29uZmlnczogQ2FtZXJhQ29uZmlncyAmIEZTUlBhc3NDb25maWdzLFxuICAgICAgICBjYW1lcmE6IHJlbmRlcmVyLnNjZW5lLkNhbWVyYSxcbiAgICAgICAgY29udGV4dDogUGlwZWxpbmVDb250ZXh0LFxuICAgICAgICBwcmV2UmVuZGVyUGFzcz86IHJlbmRlcmluZy5CYXNpY1JlbmRlclBhc3NCdWlsZGVyKVxuICAgICAgICA6IHJlbmRlcmluZy5CYXNpY1JlbmRlclBhc3NCdWlsZGVyIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgaWYgKCFjYW1lcmFDb25maWdzLmVuYWJsZUZTUikge1xuICAgICAgICAgICAgcmV0dXJuIHByZXZSZW5kZXJQYXNzO1xuICAgICAgICB9XG4gICAgICAgIC0tY2FtZXJhQ29uZmlncy5yZW1haW5pbmdQYXNzZXM7XG5cbiAgICAgICAgY29uc3QgaW5wdXRDb2xvck5hbWUgPSBjb250ZXh0LmNvbG9yTmFtZTtcbiAgICAgICAgY29uc3Qgb3V0cHV0Q29sb3JOYW1lXG4gICAgICAgICAgICA9IGNhbWVyYUNvbmZpZ3MucmVtYWluaW5nUGFzc2VzID09PSAwXG4gICAgICAgICAgICAgICAgPyBjYW1lcmFDb25maWdzLmNvbG9yTmFtZVxuICAgICAgICAgICAgICAgIDogZ2V0UGluZ1BvbmdSZW5kZXJUYXJnZXQoY29udGV4dC5jb2xvck5hbWUsICdVaUNvbG9yJywgY2FtZXJhQ29uZmlncy5yZW5kZXJXaW5kb3dJZCk7XG4gICAgICAgIGNvbnRleHQuY29sb3JOYW1lID0gb3V0cHV0Q29sb3JOYW1lO1xuXG4gICAgICAgIGFzc2VydCghIWNhbWVyYUNvbmZpZ3Muc2V0dGluZ3MuZnNyLm1hdGVyaWFsKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZEZzclBhc3MocHBsLCBwcGxDb25maWdzLCBjYW1lcmFDb25maWdzLFxuICAgICAgICAgICAgY2FtZXJhQ29uZmlncy5zZXR0aW5ncyxcbiAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3Muc2V0dGluZ3MuZnNyLm1hdGVyaWFsLFxuICAgICAgICAgICAgY2FtZXJhQ29uZmlncy5yZW5kZXJXaW5kb3dJZCxcbiAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3Mud2lkdGgsXG4gICAgICAgICAgICBjYW1lcmFDb25maWdzLmhlaWdodCxcbiAgICAgICAgICAgIGlucHV0Q29sb3JOYW1lLFxuICAgICAgICAgICAgY2FtZXJhQ29uZmlncy5uYXRpdmVXaWR0aCxcbiAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3MubmF0aXZlSGVpZ2h0LFxuICAgICAgICAgICAgb3V0cHV0Q29sb3JOYW1lKTtcbiAgICB9XG4gICAgcHJpdmF0ZSBfYWRkRnNyUGFzcyhcbiAgICAgICAgcHBsOiByZW5kZXJpbmcuQmFzaWNQaXBlbGluZSxcbiAgICAgICAgcHBsQ29uZmlnczogUmVhZG9ubHk8UGlwZWxpbmVDb25maWdzPixcbiAgICAgICAgY2FtZXJhQ29uZmlnczogQ2FtZXJhQ29uZmlncyAmIEZTUlBhc3NDb25maWdzLFxuICAgICAgICBzZXR0aW5nczogUGlwZWxpbmVTZXR0aW5ncyxcbiAgICAgICAgZnNyTWF0ZXJpYWw6IE1hdGVyaWFsLFxuICAgICAgICBpZDogbnVtYmVyLFxuICAgICAgICB3aWR0aDogbnVtYmVyLFxuICAgICAgICBoZWlnaHQ6IG51bWJlcixcbiAgICAgICAgaW5wdXRDb2xvck5hbWU6IHN0cmluZyxcbiAgICAgICAgbmF0aXZlV2lkdGg6IG51bWJlcixcbiAgICAgICAgbmF0aXZlSGVpZ2h0OiBudW1iZXIsXG4gICAgICAgIG91dHB1dENvbG9yTmFtZTogc3RyaW5nLFxuICAgICk6IHJlbmRlcmluZy5CYXNpY1JlbmRlclBhc3NCdWlsZGVyIHtcbiAgICAgICAgdGhpcy5fZnNyVGV4U2l6ZS54ID0gd2lkdGg7XG4gICAgICAgIHRoaXMuX2ZzclRleFNpemUueSA9IGhlaWdodDtcbiAgICAgICAgdGhpcy5fZnNyVGV4U2l6ZS56ID0gbmF0aXZlV2lkdGg7XG4gICAgICAgIHRoaXMuX2ZzclRleFNpemUudyA9IG5hdGl2ZUhlaWdodDtcbiAgICAgICAgdGhpcy5fZnNyUGFyYW1zLnggPSBjbGFtcCgxLjAgLSBzZXR0aW5ncy5mc3Iuc2hhcnBuZXNzLCAwLjAyLCAwLjk4KTtcblxuICAgICAgICBjb25zdCB1aUNvbG9yUHJlZml4ID0gJ1VpQ29sb3InO1xuXG4gICAgICAgIGNvbnN0IGZzckNvbG9yTmFtZSA9IGdldFBpbmdQb25nUmVuZGVyVGFyZ2V0KG91dHB1dENvbG9yTmFtZSwgdWlDb2xvclByZWZpeCwgaWQpO1xuXG4gICAgICAgIGNvbnN0IGVhc3VQYXNzID0gcHBsLmFkZFJlbmRlclBhc3MobmF0aXZlV2lkdGgsIG5hdGl2ZUhlaWdodCwgJ2NjLWZzci1lYXN1Jyk7XG4gICAgICAgIGVhc3VQYXNzLmFkZFJlbmRlclRhcmdldChmc3JDb2xvck5hbWUsIExvYWRPcC5DTEVBUiwgU3RvcmVPcC5TVE9SRSwgc0NsZWFyQ29sb3JUcmFuc3BhcmVudEJsYWNrKTtcbiAgICAgICAgZWFzdVBhc3MuYWRkVGV4dHVyZShpbnB1dENvbG9yTmFtZSwgJ291dHB1dFJlc3VsdE1hcCcpO1xuICAgICAgICBlYXN1UGFzcy5zZXRWZWM0KCdmc3JUZXhTaXplJywgdGhpcy5fZnNyVGV4U2l6ZSk7XG4gICAgICAgIGVhc3VQYXNzXG4gICAgICAgICAgICAuYWRkUXVldWUocmVuZGVyaW5nLlF1ZXVlSGludC5PUEFRVUUpXG4gICAgICAgICAgICAuYWRkRnVsbHNjcmVlblF1YWQoZnNyTWF0ZXJpYWwsIDApO1xuXG4gICAgICAgIGNvbnN0IHJjYXNQYXNzID0gcHBsLmFkZFJlbmRlclBhc3MobmF0aXZlV2lkdGgsIG5hdGl2ZUhlaWdodCwgJ2NjLWZzci1yY2FzJyk7XG4gICAgICAgIHJjYXNQYXNzLmFkZFJlbmRlclRhcmdldChvdXRwdXRDb2xvck5hbWUsIExvYWRPcC5DTEVBUiwgU3RvcmVPcC5TVE9SRSwgc0NsZWFyQ29sb3JUcmFuc3BhcmVudEJsYWNrKTtcbiAgICAgICAgcmNhc1Bhc3MuYWRkVGV4dHVyZShmc3JDb2xvck5hbWUsICdvdXRwdXRSZXN1bHRNYXAnKTtcbiAgICAgICAgcmNhc1Bhc3Muc2V0VmVjNCgnZnNyVGV4U2l6ZScsIHRoaXMuX2ZzclRleFNpemUpO1xuICAgICAgICByY2FzUGFzcy5zZXRWZWM0KCdmc3JQYXJhbXMnLCB0aGlzLl9mc3JQYXJhbXMpO1xuICAgICAgICByY2FzUGFzc1xuICAgICAgICAgICAgLmFkZFF1ZXVlKHJlbmRlcmluZy5RdWV1ZUhpbnQuT1BBUVVFKVxuICAgICAgICAgICAgLmFkZEZ1bGxzY3JlZW5RdWFkKGZzck1hdGVyaWFsLCAxKTtcblxuICAgICAgICByZXR1cm4gcmNhc1Bhc3M7XG4gICAgfVxuICAgIC8vIEZTUlxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2ZzclBhcmFtcyA9IG5ldyBWZWM0KDAsIDAsIDAsIDApO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgX2ZzclRleFNpemUgPSBuZXcgVmVjNCgwLCAwLCAwLCAwKTtcbn1cblxuZXhwb3J0IGNsYXNzIEJ1aWx0aW5VaVBhc3NCdWlsZGVyIGltcGxlbWVudHMgcmVuZGVyaW5nLlBpcGVsaW5lUGFzc0J1aWxkZXIge1xuICAgIGdldENvbmZpZ09yZGVyKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBnZXRSZW5kZXJPcmRlcigpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gMTAwMDtcbiAgICB9XG4gICAgc2V0dXAoXG4gICAgICAgIHBwbDogcmVuZGVyaW5nLkJhc2ljUGlwZWxpbmUsXG4gICAgICAgIHBwbENvbmZpZ3M6IFJlYWRvbmx5PFBpcGVsaW5lQ29uZmlncz4sXG4gICAgICAgIGNhbWVyYUNvbmZpZ3M6IENhbWVyYUNvbmZpZ3MgJiBGU1JQYXNzQ29uZmlncyxcbiAgICAgICAgY2FtZXJhOiByZW5kZXJlci5zY2VuZS5DYW1lcmEsXG4gICAgICAgIGNvbnRleHQ6IFBpcGVsaW5lQ29udGV4dCxcbiAgICAgICAgcHJldlJlbmRlclBhc3M/OiByZW5kZXJpbmcuQmFzaWNSZW5kZXJQYXNzQnVpbGRlcilcbiAgICAgICAgOiByZW5kZXJpbmcuQmFzaWNSZW5kZXJQYXNzQnVpbGRlciB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGFzc2VydCghIXByZXZSZW5kZXJQYXNzKTtcblxuICAgICAgICBsZXQgZmxhZ3MgPSByZW5kZXJpbmcuU2NlbmVGbGFncy5VSTtcbiAgICAgICAgaWYgKGNhbWVyYUNvbmZpZ3MuZW5hYmxlUHJvZmlsZXIpIHtcbiAgICAgICAgICAgIGZsYWdzIHw9IHJlbmRlcmluZy5TY2VuZUZsYWdzLlBST0ZJTEVSO1xuICAgICAgICAgICAgcHJldlJlbmRlclBhc3Muc2hvd1N0YXRpc3RpY3MgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHByZXZSZW5kZXJQYXNzXG4gICAgICAgICAgICAuYWRkUXVldWUocmVuZGVyaW5nLlF1ZXVlSGludC5CTEVORCwgJ2RlZmF1bHQnLCAnZGVmYXVsdCcpXG4gICAgICAgICAgICAuYWRkU2NlbmUoY2FtZXJhLCBmbGFncyk7XG5cbiAgICAgICAgcmV0dXJuIHByZXZSZW5kZXJQYXNzO1xuICAgIH1cbn1cblxuaWYgKHJlbmRlcmluZykge1xuXG4gICAgY29uc3QgeyBRdWV1ZUhpbnQsIFNjZW5lRmxhZ3MgfSA9IHJlbmRlcmluZztcblxuICAgIGNsYXNzIEJ1aWx0aW5QaXBlbGluZUJ1aWxkZXIgaW1wbGVtZW50cyByZW5kZXJpbmcuUGlwZWxpbmVCdWlsZGVyIHtcbiAgICAgICAgcHJpdmF0ZSByZWFkb25seSBfcGlwZWxpbmVFdmVudDogUGlwZWxpbmVFdmVudFByb2Nlc3NvciA9IGNjbGVnYWN5LmRpcmVjdG9yLnJvb3QucGlwZWxpbmVFdmVudCBhcyBQaXBlbGluZUV2ZW50UHJvY2Vzc29yO1xuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IF9mb3J3YXJkUGFzcyA9IG5ldyBCdWlsdGluRm9yd2FyZFBhc3NCdWlsZGVyKCk7XG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgX2Jsb29tUGFzcyA9IG5ldyBCdWlsdGluQmxvb21QYXNzQnVpbGRlcigpO1xuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IF90b25lTWFwcGluZ1Bhc3MgPSBuZXcgQnVpbHRpblRvbmVNYXBwaW5nUGFzc0J1aWxkZXIoKTtcbiAgICAgICAgcHJpdmF0ZSByZWFkb25seSBfZnhhYVBhc3MgPSBuZXcgQnVpbHRpbkZYQUFQYXNzQnVpbGRlcigpO1xuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IF9mc3JQYXNzID0gbmV3IEJ1aWx0aW5Gc3JQYXNzQnVpbGRlcigpO1xuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IF91aVBhc3MgPSBuZXcgQnVpbHRpblVpUGFzc0J1aWxkZXIoKTtcbiAgICAgICAgLy8gSW50ZXJuYWwgY2FjaGVkIHJlc291cmNlc1xuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IF9jbGVhckNvbG9yID0gbmV3IENvbG9yKDAsIDAsIDAsIDEpO1xuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IF92aWV3cG9ydCA9IG5ldyBWaWV3cG9ydCgpO1xuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IF9jb25maWdzID0gbmV3IFBpcGVsaW5lQ29uZmlncygpO1xuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IF9jYW1lcmFDb25maWdzID0gbmV3IENhbWVyYUNvbmZpZ3MoKTtcbiAgICAgICAgLy8gTWF0ZXJpYWxzXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgX2NvcHlBbmRUb25lbWFwTWF0ZXJpYWwgPSBuZXcgTWF0ZXJpYWwoKTtcblxuICAgICAgICAvLyBJbnRlcm5hbCBTdGF0ZXNcbiAgICAgICAgcHJpdmF0ZSBfaW5pdGlhbGl6ZWQgPSBmYWxzZTsgLy8gVE9ETyh6aG91emhlbmdsb25nKTogTWFrZSBkZWZhdWx0IGVmZmVjdCBhc3NldCBsb2FkaW5nIGVhcmxpZXIgYW5kIHJlbW92ZSB0aGlzIGZsYWdcbiAgICAgICAgcHJpdmF0ZSBfcGFzc0J1aWxkZXJzOiByZW5kZXJpbmcuUGlwZWxpbmVQYXNzQnVpbGRlcltdID0gW107XG5cbiAgICAgICAgcHJpdmF0ZSBfc2V0dXBQaXBlbGluZVByZXZpZXcoXG4gICAgICAgICAgICBjYW1lcmE6IHJlbmRlcmVyLnNjZW5lLkNhbWVyYSxcbiAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3M6IENhbWVyYUNvbmZpZ3MpIHtcbiAgICAgICAgICAgIGNvbnN0IGlzRWRpdG9yVmlldzogYm9vbGVhblxuICAgICAgICAgICAgICAgID0gY2FtZXJhLmNhbWVyYVVzYWdlID09PSBDYW1lcmFVc2FnZS5TQ0VORV9WSUVXXG4gICAgICAgICAgICAgICAgfHwgY2FtZXJhLmNhbWVyYVVzYWdlID09PSBDYW1lcmFVc2FnZS5QUkVWSUVXO1xuXG4gICAgICAgICAgICBpZiAoaXNFZGl0b3JWaWV3KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZWRpdG9yU2V0dGluZ3MgPSByZW5kZXJpbmcuZ2V0RWRpdG9yUGlwZWxpbmVTZXR0aW5ncygpIGFzIFBpcGVsaW5lU2V0dGluZ3MgfCBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChlZGl0b3JTZXR0aW5ncykge1xuICAgICAgICAgICAgICAgICAgICBjYW1lcmFDb25maWdzLnNldHRpbmdzID0gZWRpdG9yU2V0dGluZ3M7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhQ29uZmlncy5zZXR0aW5ncyA9IGRlZmF1bHRTZXR0aW5ncztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChjYW1lcmEucGlwZWxpbmVTZXR0aW5ncykge1xuICAgICAgICAgICAgICAgICAgICBjYW1lcmFDb25maWdzLnNldHRpbmdzID0gY2FtZXJhLnBpcGVsaW5lU2V0dGluZ3MgYXMgUGlwZWxpbmVTZXR0aW5ncztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjYW1lcmFDb25maWdzLnNldHRpbmdzID0gZGVmYXVsdFNldHRpbmdzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3ByZXBhcmVQaXBlbGluZVBhc3NlcyhjYW1lcmFDb25maWdzOiBDYW1lcmFDb25maWdzKTogdm9pZCB7XG4gICAgICAgICAgICBjb25zdCBwYXNzQnVpbGRlcnMgPSB0aGlzLl9wYXNzQnVpbGRlcnM7XG4gICAgICAgICAgICBwYXNzQnVpbGRlcnMubGVuZ3RoID0gMDtcblxuICAgICAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSBjYW1lcmFDb25maWdzLnNldHRpbmdzIGFzIFBpcGVsaW5lU2V0dGluZ3MyO1xuICAgICAgICAgICAgaWYgKHNldHRpbmdzLl9wYXNzZXMpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHBhc3Mgb2Ygc2V0dGluZ3MuX3Bhc3Nlcykge1xuICAgICAgICAgICAgICAgICAgICBwYXNzQnVpbGRlcnMucHVzaChwYXNzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYXNzZXJ0KHBhc3NCdWlsZGVycy5sZW5ndGggPT09IHNldHRpbmdzLl9wYXNzZXMubGVuZ3RoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcGFzc0J1aWxkZXJzLnB1c2godGhpcy5fZm9yd2FyZFBhc3MpO1xuXG4gICAgICAgICAgICBpZiAoc2V0dGluZ3MuYmxvb20uZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIHBhc3NCdWlsZGVycy5wdXNoKHRoaXMuX2Jsb29tUGFzcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBhc3NCdWlsZGVycy5wdXNoKHRoaXMuX3RvbmVNYXBwaW5nUGFzcyk7XG5cbiAgICAgICAgICAgIGlmIChzZXR0aW5ncy5meGFhLmVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICBwYXNzQnVpbGRlcnMucHVzaCh0aGlzLl9meGFhUGFzcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzZXR0aW5ncy5mc3IuZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIHBhc3NCdWlsZGVycy5wdXNoKHRoaXMuX2ZzclBhc3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFzc0J1aWxkZXJzLnB1c2godGhpcy5fdWlQYXNzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3NldHVwQnVpbHRpbkNhbWVyYUNvbmZpZ3MoXG4gICAgICAgICAgICBwcGw6IHJlbmRlcmluZy5CYXNpY1BpcGVsaW5lLFxuICAgICAgICAgICAgY2FtZXJhOiByZW5kZXJlci5zY2VuZS5DYW1lcmEsXG4gICAgICAgICAgICBwaXBlbGluZUNvbmZpZ3M6IFBpcGVsaW5lQ29uZmlncyxcbiAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3M6IENhbWVyYUNvbmZpZ3NcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBjb25zdCB3aW5kb3cgPSBjYW1lcmEud2luZG93O1xuICAgICAgICAgICAgY29uc3QgaXNNYWluR2FtZVdpbmRvdzogYm9vbGVhbiA9IGNhbWVyYS5jYW1lcmFVc2FnZSA9PT0gQ2FtZXJhVXNhZ2UuR0FNRSAmJiAhIXdpbmRvdy5zd2FwY2hhaW47XG4gICAgICAgICAgICBjb25zdCBpc0dhbWVWaWV3ID0gaXNNYWluR2FtZVdpbmRvdyB8fCBjYW1lcmEuY2FtZXJhVXNhZ2UgPT09IENhbWVyYVVzYWdlLkdBTUVfVklFVztcblxuICAgICAgICAgICAgLy8gV2luZG93XG4gICAgICAgICAgICBjYW1lcmFDb25maWdzLmlzTWFpbkdhbWVXaW5kb3cgPSBpc01haW5HYW1lV2luZG93O1xuICAgICAgICAgICAgY2FtZXJhQ29uZmlncy5yZW5kZXJXaW5kb3dJZCA9IHdpbmRvdy5yZW5kZXJXaW5kb3dJZDtcblxuICAgICAgICAgICAgLy8gQ2FtZXJhXG4gICAgICAgICAgICBjYW1lcmFDb25maWdzLmNvbG9yTmFtZSA9IHdpbmRvdy5jb2xvck5hbWU7XG4gICAgICAgICAgICBjYW1lcmFDb25maWdzLmRlcHRoU3RlbmNpbE5hbWUgPSB3aW5kb3cuZGVwdGhTdGVuY2lsTmFtZTtcblxuICAgICAgICAgICAgLy8gUGlwZWxpbmVcbiAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3MuZW5hYmxlRnVsbFBpcGVsaW5lID0gKGNhbWVyYS52aXNpYmlsaXR5ICYgKExheWVycy5FbnVtLkRFRkFVTFQpKSAhPT0gMDtcbiAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3MuZW5hYmxlUHJvZmlsZXIgPSBwcGwucHJvZmlsZXIgJiYgaXNHYW1lVmlldztcbiAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3MucmVtYWluaW5nUGFzc2VzID0gMDtcblxuICAgICAgICAgICAgLy8gU2hhZGluZyBzY2FsZVxuICAgICAgICAgICAgY2FtZXJhQ29uZmlncy5zaGFkaW5nU2NhbGUgPSBjYW1lcmFDb25maWdzLnNldHRpbmdzLnNoYWRpbmdTY2FsZTtcbiAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3MuZW5hYmxlU2hhZGluZ1NjYWxlID0gY2FtZXJhQ29uZmlncy5zZXR0aW5ncy5lbmFibGVTaGFkaW5nU2NhbGVcbiAgICAgICAgICAgICAgICAmJiBjYW1lcmFDb25maWdzLnNoYWRpbmdTY2FsZSAhPT0gMS4wO1xuXG4gICAgICAgICAgICBjYW1lcmFDb25maWdzLm5hdGl2ZVdpZHRoID0gTWF0aC5tYXgoTWF0aC5mbG9vcih3aW5kb3cud2lkdGgpLCAxKTtcbiAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3MubmF0aXZlSGVpZ2h0ID0gTWF0aC5tYXgoTWF0aC5mbG9vcih3aW5kb3cuaGVpZ2h0KSwgMSk7XG5cbiAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3Mud2lkdGggPSBjYW1lcmFDb25maWdzLmVuYWJsZVNoYWRpbmdTY2FsZVxuICAgICAgICAgICAgICAgID8gTWF0aC5tYXgoTWF0aC5mbG9vcihjYW1lcmFDb25maWdzLm5hdGl2ZVdpZHRoICogY2FtZXJhQ29uZmlncy5zaGFkaW5nU2NhbGUpLCAxKVxuICAgICAgICAgICAgICAgIDogY2FtZXJhQ29uZmlncy5uYXRpdmVXaWR0aDtcbiAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3MuaGVpZ2h0ID0gY2FtZXJhQ29uZmlncy5lbmFibGVTaGFkaW5nU2NhbGVcbiAgICAgICAgICAgICAgICA/IE1hdGgubWF4KE1hdGguZmxvb3IoY2FtZXJhQ29uZmlncy5uYXRpdmVIZWlnaHQgKiBjYW1lcmFDb25maWdzLnNoYWRpbmdTY2FsZSksIDEpXG4gICAgICAgICAgICAgICAgOiBjYW1lcmFDb25maWdzLm5hdGl2ZUhlaWdodDtcblxuICAgICAgICAgICAgLy8gUmFkaWFuY2VcbiAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3MuZW5hYmxlSERSID0gY2FtZXJhQ29uZmlncy5lbmFibGVGdWxsUGlwZWxpbmVcbiAgICAgICAgICAgICAgICAmJiBwaXBlbGluZUNvbmZpZ3MudXNlRmxvYXRPdXRwdXQ7XG4gICAgICAgICAgICBjYW1lcmFDb25maWdzLnJhZGlhbmNlRm9ybWF0ID0gY2FtZXJhQ29uZmlncy5lbmFibGVIRFJcbiAgICAgICAgICAgICAgICA/IGdmeC5Gb3JtYXQuUkdCQTE2RiA6IGdmeC5Gb3JtYXQuUkdCQTg7XG5cbiAgICAgICAgICAgIC8vIFRvbmUgTWFwcGluZ1xuICAgICAgICAgICAgY2FtZXJhQ29uZmlncy5jb3B5QW5kVG9uZW1hcE1hdGVyaWFsID0gdGhpcy5fY29weUFuZFRvbmVtYXBNYXRlcmlhbDtcblxuICAgICAgICAgICAgLy8gRGVwdGhcbiAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3MuZW5hYmxlU3RvcmVTY2VuZURlcHRoID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9zZXR1cENhbWVyYUNvbmZpZ3MoXG4gICAgICAgICAgICBwcGw6IHJlbmRlcmluZy5CYXNpY1BpcGVsaW5lLFxuICAgICAgICAgICAgY2FtZXJhOiByZW5kZXJlci5zY2VuZS5DYW1lcmEsXG4gICAgICAgICAgICBwaXBlbGluZUNvbmZpZ3M6IFBpcGVsaW5lQ29uZmlncyxcbiAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3M6IENhbWVyYUNvbmZpZ3NcbiAgICAgICAgKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLl9zZXR1cFBpcGVsaW5lUHJldmlldyhjYW1lcmEsIGNhbWVyYUNvbmZpZ3MpO1xuXG4gICAgICAgICAgICB0aGlzLl9wcmVwYXJlUGlwZWxpbmVQYXNzZXMoY2FtZXJhQ29uZmlncyk7XG5cbiAgICAgICAgICAgIHNvcnRQaXBlbGluZVBhc3NCdWlsZGVyc0J5Q29uZmlnT3JkZXIodGhpcy5fcGFzc0J1aWxkZXJzKTtcblxuICAgICAgICAgICAgdGhpcy5fc2V0dXBCdWlsdGluQ2FtZXJhQ29uZmlncyhwcGwsIGNhbWVyYSwgcGlwZWxpbmVDb25maWdzLCBjYW1lcmFDb25maWdzKTtcblxuICAgICAgICAgICAgZm9yIChjb25zdCBidWlsZGVyIG9mIHRoaXMuX3Bhc3NCdWlsZGVycykge1xuICAgICAgICAgICAgICAgIGlmIChidWlsZGVyLmNvbmZpZ0NhbWVyYSkge1xuICAgICAgICAgICAgICAgICAgICBidWlsZGVyLmNvbmZpZ0NhbWVyYShjYW1lcmEsIHBpcGVsaW5lQ29uZmlncywgY2FtZXJhQ29uZmlncyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAvLyBJbnRlcmZhY2VcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICB3aW5kb3dSZXNpemUoXG4gICAgICAgICAgICBwcGw6IHJlbmRlcmluZy5CYXNpY1BpcGVsaW5lLFxuICAgICAgICAgICAgd2luZG93OiByZW5kZXJlci5SZW5kZXJXaW5kb3csXG4gICAgICAgICAgICBjYW1lcmE6IHJlbmRlcmVyLnNjZW5lLkNhbWVyYSxcbiAgICAgICAgICAgIG5hdGl2ZVdpZHRoOiBudW1iZXIsXG4gICAgICAgICAgICBuYXRpdmVIZWlnaHQ6IG51bWJlcixcbiAgICAgICAgKTogdm9pZCB7XG4gICAgICAgICAgICBzZXR1cFBpcGVsaW5lQ29uZmlncyhwcGwsIHRoaXMuX2NvbmZpZ3MpO1xuXG4gICAgICAgICAgICB0aGlzLl9zZXR1cENhbWVyYUNvbmZpZ3MocHBsLCBjYW1lcmEsIHRoaXMuX2NvbmZpZ3MsIHRoaXMuX2NhbWVyYUNvbmZpZ3MpO1xuXG4gICAgICAgICAgICAvLyBSZW5kZXIgV2luZG93IChVSSlcbiAgICAgICAgICAgIGNvbnN0IGlkID0gd2luZG93LnJlbmRlcldpbmRvd0lkO1xuXG4gICAgICAgICAgICBwcGwuYWRkUmVuZGVyV2luZG93KHRoaXMuX2NhbWVyYUNvbmZpZ3MuY29sb3JOYW1lLFxuICAgICAgICAgICAgICAgIEZvcm1hdC5SR0JBOCwgbmF0aXZlV2lkdGgsIG5hdGl2ZUhlaWdodCwgd2luZG93LFxuICAgICAgICAgICAgICAgIHRoaXMuX2NhbWVyYUNvbmZpZ3MuZGVwdGhTdGVuY2lsTmFtZSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy5fY2FtZXJhQ29uZmlncy53aWR0aDtcbiAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuX2NhbWVyYUNvbmZpZ3MuaGVpZ2h0O1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fY2FtZXJhQ29uZmlncy5lbmFibGVTaGFkaW5nU2NhbGUpIHtcbiAgICAgICAgICAgICAgICBwcGwuYWRkRGVwdGhTdGVuY2lsKGBTY2FsZWRTY2VuZURlcHRoXyR7aWR9YCwgRm9ybWF0LkRFUFRIX1NURU5DSUwsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgICAgICAgIHBwbC5hZGRSZW5kZXJUYXJnZXQoYFNjYWxlZFJhZGlhbmNlMF8ke2lkfWAsIHRoaXMuX2NhbWVyYUNvbmZpZ3MucmFkaWFuY2VGb3JtYXQsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgICAgICAgIHBwbC5hZGRSZW5kZXJUYXJnZXQoYFNjYWxlZFJhZGlhbmNlMV8ke2lkfWAsIHRoaXMuX2NhbWVyYUNvbmZpZ3MucmFkaWFuY2VGb3JtYXQsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgICAgICAgIHBwbC5hZGRSZW5kZXJUYXJnZXQoYFNjYWxlZExkckNvbG9yMF8ke2lkfWAsIEZvcm1hdC5SR0JBOCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICAgICAgcHBsLmFkZFJlbmRlclRhcmdldChgU2NhbGVkTGRyQ29sb3IxXyR7aWR9YCwgRm9ybWF0LlJHQkE4LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcHBsLmFkZERlcHRoU3RlbmNpbChgU2NlbmVEZXB0aF8ke2lkfWAsIEZvcm1hdC5ERVBUSF9TVEVOQ0lMLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBwcGwuYWRkUmVuZGVyVGFyZ2V0KGBSYWRpYW5jZTBfJHtpZH1gLCB0aGlzLl9jYW1lcmFDb25maWdzLnJhZGlhbmNlRm9ybWF0LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBwcGwuYWRkUmVuZGVyVGFyZ2V0KGBSYWRpYW5jZTFfJHtpZH1gLCB0aGlzLl9jYW1lcmFDb25maWdzLnJhZGlhbmNlRm9ybWF0LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBwcGwuYWRkUmVuZGVyVGFyZ2V0KGBMZHJDb2xvcjBfJHtpZH1gLCBGb3JtYXQuUkdCQTgsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgICAgICAgIHBwbC5hZGRSZW5kZXJUYXJnZXQoYExkckNvbG9yMV8ke2lkfWAsIEZvcm1hdC5SR0JBOCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcGwuYWRkUmVuZGVyVGFyZ2V0KGBVaUNvbG9yMF8ke2lkfWAsIEZvcm1hdC5SR0JBOCwgbmF0aXZlV2lkdGgsIG5hdGl2ZUhlaWdodCk7XG4gICAgICAgICAgICBwcGwuYWRkUmVuZGVyVGFyZ2V0KGBVaUNvbG9yMV8ke2lkfWAsIEZvcm1hdC5SR0JBOCwgbmF0aXZlV2lkdGgsIG5hdGl2ZUhlaWdodCk7XG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgYnVpbGRlciBvZiB0aGlzLl9wYXNzQnVpbGRlcnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoYnVpbGRlci53aW5kb3dSZXNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgYnVpbGRlci53aW5kb3dSZXNpemUocHBsLCB0aGlzLl9jb25maWdzLCB0aGlzLl9jYW1lcmFDb25maWdzLCB3aW5kb3csIGNhbWVyYSwgbmF0aXZlV2lkdGgsIG5hdGl2ZUhlaWdodCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNldHVwKGNhbWVyYXM6IHJlbmRlcmVyLnNjZW5lLkNhbWVyYVtdLCBwcGw6IHJlbmRlcmluZy5CYXNpY1BpcGVsaW5lKTogdm9pZCB7XG4gICAgICAgICAgICAvLyBUT0RPKHpob3V6aGVuZ2xvbmcpOiBNYWtlIGRlZmF1bHQgZWZmZWN0IGFzc2V0IGxvYWRpbmcgZWFybGllciBhbmQgcmVtb3ZlIF9pbml0TWF0ZXJpYWxzXG4gICAgICAgICAgICBpZiAodGhpcy5faW5pdE1hdGVyaWFscyhwcGwpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBSZW5kZXIgY2FtZXJhc1xuICAgICAgICAgICAgLy8gbG9nKGA9PT09PT09PT09PT09PT09PT09PSBPbmUgRnJhbWUgPT09PT09PT09PT09PT09PT09PT1gKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgY2FtZXJhIG9mIGNhbWVyYXMpIHtcbiAgICAgICAgICAgICAgICAvLyBTa2lwIGludmFsaWQgY2FtZXJhXG4gICAgICAgICAgICAgICAgaWYgKCFjYW1lcmEuc2NlbmUgfHwgIWNhbWVyYS53aW5kb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFNldHVwIGNhbWVyYSBjb25maWdzXG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0dXBDYW1lcmFDb25maWdzKHBwbCwgY2FtZXJhLCB0aGlzLl9jb25maWdzLCB0aGlzLl9jYW1lcmFDb25maWdzKTtcbiAgICAgICAgICAgICAgICAvLyBsb2coYFNldHVwIGNhbWVyYTogJHtjYW1lcmEubm9kZSEubmFtZX0sIHdpbmRvdzogJHtjYW1lcmEud2luZG93LnJlbmRlcldpbmRvd0lkfSwgaXNGdWxsOiAke3RoaXMuX2NhbWVyYUNvbmZpZ3MuZW5hYmxlRnVsbFBpcGVsaW5lfSwgYFxuICAgICAgICAgICAgICAgIC8vICAgICArIGBzaXplOiAke2NhbWVyYS53aW5kb3cud2lkdGh9eCR7Y2FtZXJhLndpbmRvdy5oZWlnaHR9YCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9waXBlbGluZUV2ZW50LmVtaXQoUGlwZWxpbmVFdmVudFR5cGUuUkVOREVSX0NBTUVSQV9CRUdJTiwgY2FtZXJhKTtcblxuICAgICAgICAgICAgICAgIC8vIEJ1aWxkIHBpcGVsaW5lXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NhbWVyYUNvbmZpZ3MuZW5hYmxlRnVsbFBpcGVsaW5lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2J1aWxkRm9yd2FyZFBpcGVsaW5lKHBwbCwgY2FtZXJhLCBjYW1lcmEuc2NlbmUsIHRoaXMuX3Bhc3NCdWlsZGVycyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYnVpbGRTaW1wbGVQaXBlbGluZShwcGwsIGNhbWVyYSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fcGlwZWxpbmVFdmVudC5lbWl0KFBpcGVsaW5lRXZlbnRUeXBlLlJFTkRFUl9DQU1FUkFfRU5ELCBjYW1lcmEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgLy8gUGlwZWxpbmVzXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgcHJpdmF0ZSBfYnVpbGRTaW1wbGVQaXBlbGluZShcbiAgICAgICAgICAgIHBwbDogcmVuZGVyaW5nLkJhc2ljUGlwZWxpbmUsXG4gICAgICAgICAgICBjYW1lcmE6IHJlbmRlcmVyLnNjZW5lLkNhbWVyYSxcbiAgICAgICAgKTogdm9pZCB7XG4gICAgICAgICAgICBjb25zdCB3aWR0aCA9IE1hdGgubWF4KE1hdGguZmxvb3IoY2FtZXJhLndpbmRvdy53aWR0aCksIDEpO1xuICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gTWF0aC5tYXgoTWF0aC5mbG9vcihjYW1lcmEud2luZG93LmhlaWdodCksIDEpO1xuICAgICAgICAgICAgY29uc3QgY29sb3JOYW1lID0gdGhpcy5fY2FtZXJhQ29uZmlncy5jb2xvck5hbWU7XG4gICAgICAgICAgICBjb25zdCBkZXB0aFN0ZW5jaWxOYW1lID0gdGhpcy5fY2FtZXJhQ29uZmlncy5kZXB0aFN0ZW5jaWxOYW1lO1xuXG4gICAgICAgICAgICBjb25zdCB2aWV3cG9ydCA9IGNhbWVyYS52aWV3cG9ydDsgIC8vIFJlZHVjZSBDKysvVFMgaW50ZXJvcFxuICAgICAgICAgICAgdGhpcy5fdmlld3BvcnQubGVmdCA9IE1hdGgucm91bmQodmlld3BvcnQueCAqIHdpZHRoKTtcbiAgICAgICAgICAgIHRoaXMuX3ZpZXdwb3J0LnRvcCA9IE1hdGgucm91bmQodmlld3BvcnQueSAqIGhlaWdodCk7XG4gICAgICAgICAgICAvLyBIZXJlIHdlIG11c3QgdXNlIGNhbWVyYS52aWV3cG9ydC53aWR0aCBpbnN0ZWFkIG9mIGNhbWVyYS52aWV3cG9ydC56LCB3aGljaFxuICAgICAgICAgICAgLy8gaXMgdW5kZWZpbmVkIG9uIG5hdGl2ZSBwbGF0Zm9ybS4gVGhlIHNhbWUgYXMgY2FtZXJhLnZpZXdwb3J0LmhlaWdodC5cbiAgICAgICAgICAgIHRoaXMuX3ZpZXdwb3J0LndpZHRoID0gTWF0aC5tYXgoTWF0aC5yb3VuZCh2aWV3cG9ydC53aWR0aCAqIHdpZHRoKSwgMSk7XG4gICAgICAgICAgICB0aGlzLl92aWV3cG9ydC5oZWlnaHQgPSBNYXRoLm1heChNYXRoLnJvdW5kKHZpZXdwb3J0LmhlaWdodCAqIGhlaWdodCksIDEpO1xuXG4gICAgICAgICAgICBjb25zdCBjbGVhckNvbG9yID0gY2FtZXJhLmNsZWFyQ29sb3I7ICAvLyBSZWR1Y2UgQysrL1RTIGludGVyb3BcbiAgICAgICAgICAgIHRoaXMuX2NsZWFyQ29sb3IueCA9IGNsZWFyQ29sb3IueDtcbiAgICAgICAgICAgIHRoaXMuX2NsZWFyQ29sb3IueSA9IGNsZWFyQ29sb3IueTtcbiAgICAgICAgICAgIHRoaXMuX2NsZWFyQ29sb3IueiA9IGNsZWFyQ29sb3IuejtcbiAgICAgICAgICAgIHRoaXMuX2NsZWFyQ29sb3IudyA9IGNsZWFyQ29sb3IudztcblxuICAgICAgICAgICAgY29uc3QgcGFzcyA9IHBwbC5hZGRSZW5kZXJQYXNzKHdpZHRoLCBoZWlnaHQsICdkZWZhdWx0Jyk7XG5cbiAgICAgICAgICAgIC8vIGJpbmQgb3V0cHV0IHJlbmRlciB0YXJnZXRcbiAgICAgICAgICAgIGlmIChmb3J3YXJkTmVlZENsZWFyQ29sb3IoY2FtZXJhKSkge1xuICAgICAgICAgICAgICAgIHBhc3MuYWRkUmVuZGVyVGFyZ2V0KGNvbG9yTmFtZSwgTG9hZE9wLkNMRUFSLCBTdG9yZU9wLlNUT1JFLCB0aGlzLl9jbGVhckNvbG9yKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFzcy5hZGRSZW5kZXJUYXJnZXQoY29sb3JOYW1lLCBMb2FkT3AuTE9BRCwgU3RvcmVPcC5TVE9SRSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGJpbmQgZGVwdGggc3RlbmNpbCBidWZmZXJcbiAgICAgICAgICAgIGlmIChjYW1lcmEuY2xlYXJGbGFnICYgQ2xlYXJGbGFnQml0LkRFUFRIX1NURU5DSUwpIHtcbiAgICAgICAgICAgICAgICBwYXNzLmFkZERlcHRoU3RlbmNpbChcbiAgICAgICAgICAgICAgICAgICAgZGVwdGhTdGVuY2lsTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgTG9hZE9wLkNMRUFSLFxuICAgICAgICAgICAgICAgICAgICBTdG9yZU9wLkRJU0NBUkQsXG4gICAgICAgICAgICAgICAgICAgIGNhbWVyYS5jbGVhckRlcHRoLFxuICAgICAgICAgICAgICAgICAgICBjYW1lcmEuY2xlYXJTdGVuY2lsLFxuICAgICAgICAgICAgICAgICAgICBjYW1lcmEuY2xlYXJGbGFnICYgQ2xlYXJGbGFnQml0LkRFUFRIX1NURU5DSUwsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFzcy5hZGREZXB0aFN0ZW5jaWwoZGVwdGhTdGVuY2lsTmFtZSwgTG9hZE9wLkxPQUQsIFN0b3JlT3AuRElTQ0FSRCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBhc3Muc2V0Vmlld3BvcnQodGhpcy5fdmlld3BvcnQpO1xuXG4gICAgICAgICAgICAvLyBUaGUgb3BhcXVlIHF1ZXVlIGlzIHVzZWQgZm9yIFJlZmxlY3Rpb24gcHJvYmUgcHJldmlld1xuICAgICAgICAgICAgcGFzcy5hZGRRdWV1ZShRdWV1ZUhpbnQuT1BBUVVFKVxuICAgICAgICAgICAgICAgIC5hZGRTY2VuZShjYW1lcmEsIFNjZW5lRmxhZ3MuT1BBUVVFKTtcblxuICAgICAgICAgICAgLy8gVGhlIGJsZW5kIHF1ZXVlIGlzIHVzZWQgZm9yIFVJIGFuZCBHaXptb3NcbiAgICAgICAgICAgIGxldCBmbGFncyA9IFNjZW5lRmxhZ3MuQkxFTkQgfCBTY2VuZUZsYWdzLlVJO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NhbWVyYUNvbmZpZ3MuZW5hYmxlUHJvZmlsZXIpIHtcbiAgICAgICAgICAgICAgICBmbGFncyB8PSBTY2VuZUZsYWdzLlBST0ZJTEVSO1xuICAgICAgICAgICAgICAgIHBhc3Muc2hvd1N0YXRpc3RpY3MgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFzcy5hZGRRdWV1ZShRdWV1ZUhpbnQuQkxFTkQpXG4gICAgICAgICAgICAgICAgLmFkZFNjZW5lKGNhbWVyYSwgZmxhZ3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfYnVpbGRGb3J3YXJkUGlwZWxpbmUoXG4gICAgICAgICAgICBwcGw6IHJlbmRlcmluZy5CYXNpY1BpcGVsaW5lLFxuICAgICAgICAgICAgY2FtZXJhOiByZW5kZXJlci5zY2VuZS5DYW1lcmEsXG4gICAgICAgICAgICBzY2VuZTogcmVuZGVyZXIuUmVuZGVyU2NlbmUsXG4gICAgICAgICAgICBwYXNzQnVpbGRlcnM6IHJlbmRlcmluZy5QaXBlbGluZVBhc3NCdWlsZGVyW10sXG4gICAgICAgICk6IHZvaWQge1xuICAgICAgICAgICAgc29ydFBpcGVsaW5lUGFzc0J1aWxkZXJzQnlSZW5kZXJPcmRlcihwYXNzQnVpbGRlcnMpO1xuXG4gICAgICAgICAgICBjb25zdCBjb250ZXh0OiBQaXBlbGluZUNvbnRleHQgPSB7XG4gICAgICAgICAgICAgICAgY29sb3JOYW1lOiAnJyxcbiAgICAgICAgICAgICAgICBkZXB0aFN0ZW5jaWxOYW1lOiAnJyxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGxldCBsYXN0UGFzczogcmVuZGVyaW5nLkJhc2ljUmVuZGVyUGFzc0J1aWxkZXIgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgYnVpbGRlciBvZiBwYXNzQnVpbGRlcnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoYnVpbGRlci5zZXR1cCkge1xuICAgICAgICAgICAgICAgICAgICBsYXN0UGFzcyA9IGJ1aWxkZXIuc2V0dXAocHBsLCB0aGlzLl9jb25maWdzLCB0aGlzLl9jYW1lcmFDb25maWdzLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FtZXJhLCBjb250ZXh0LCBsYXN0UGFzcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhc3NlcnQodGhpcy5fY2FtZXJhQ29uZmlncy5yZW1haW5pbmdQYXNzZXMgPT09IDApO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfaW5pdE1hdGVyaWFscyhwcGw6IHJlbmRlcmluZy5CYXNpY1BpcGVsaW5lKTogbnVtYmVyIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pbml0aWFsaXplZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzZXR1cFBpcGVsaW5lQ29uZmlncyhwcGwsIHRoaXMuX2NvbmZpZ3MpO1xuXG4gICAgICAgICAgICAvLyBXaGVuIGFkZCBuZXcgZWZmZWN0IGFzc2V0LCBwbGVhc2UgYWRkIGl0cyB1dWlkIHRvIHRoZSBkZXBlbmRlbnRBc3NldHMgaW4gY2MuY29uZmlnLmpzb24uXG4gICAgICAgICAgICB0aGlzLl9jb3B5QW5kVG9uZW1hcE1hdGVyaWFsLl91dWlkID0gYGJ1aWx0aW4tcGlwZWxpbmUtdG9uZS1tYXBwaW5nLW1hdGVyaWFsYDtcbiAgICAgICAgICAgIHRoaXMuX2NvcHlBbmRUb25lbWFwTWF0ZXJpYWwuaW5pdGlhbGl6ZSh7IGVmZmVjdE5hbWU6ICdwaXBlbGluZS9wb3N0LXByb2Nlc3MvdG9uZS1tYXBwaW5nJyB9KTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX2NvcHlBbmRUb25lbWFwTWF0ZXJpYWwuZWZmZWN0QXNzZXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbml0aWFsaXplZCA/IDAgOiAxO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVuZGVyaW5nLnNldEN1c3RvbVBpcGVsaW5lKCdCdWlsdGluJywgbmV3IEJ1aWx0aW5QaXBlbGluZUJ1aWxkZXIoKSk7XG5cbn0gLy8gaWYgKHJlbmRlcmluZylcbiJdfQ==